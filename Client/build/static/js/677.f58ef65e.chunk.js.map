{"version":3,"file":"static/js/677.f58ef65e.chunk.js","mappings":"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","sources":["components/cards/ProductCard.js","components/category/CategoryList.js","functions/category.js","pages/category/CategoryHome.js"],"sourcesContent":["import React,{useState} from 'react'\r\nimport {Card,Tooltip} from 'antd'\r\nimport laptop from \"../../images/laptop.png\"\r\nimport {EyeOutlined,ShoppingCartOutlined} from  '@ant-design/icons'\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from 'lodash'\r\nimport { useSelector,useDispatch } from 'react-redux';\r\n\r\n\r\nconst{Meta}=Card\r\nconst ProductCard = ({product}) => {\r\n  const dispatch=useDispatch();\r\n  const{user,cart}=useSelector((state)=>({...state}));\r\n  const[tooltip,setTooltip]=useState(\"Click to add\")\r\n    const{title,description,images,slug,price}=product;\r\n    const handleCart=()=>{\r\n      let cart=[];\r\n      if(typeof window!=='undefined'){\r\n        if(localStorage.getItem('cart')){\r\n          cart=JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.push({\r\n          ...product,\r\n          count:1,\r\n      });\r\n      let unique=_.uniqWith(cart,_.isEqual)\r\n\r\n      localStorage.setItem('cart',JSON.stringify(unique))\r\n      dispatch({\r\n        type:\"ADD_TO_CART\",\r\n        payload:unique,\r\n      })\r\n      dispatch({\r\n        type:\"SET_VISIBLE\",\r\n        payload:true,\r\n      })\r\n      setTooltip('Added')\r\n      }\r\n    }\r\n  return (\r\n    <>\r\n    \r\n      \r\n    <Card cover={<img src={images && images.length? images[0].url:laptop} style={{height:'350px',objectFit:\"contain\"}}\r\n      \r\n    className=\"p-1\"/>}\r\n    actions={[\r\n      <Link to={`/product/${slug}`}><EyeOutlined className=\"text-warning\"/><br/>View Product </Link>,\r\n    <Tooltip title={tooltip}>\r\n      <a onClick={handleCart}>\r\n      <ShoppingCartOutlined className=\"text-danger\" /><br/>Add to Cart\r\n      </a>,\r\n    </Tooltip>\r\n    ]}\r\n    className=\"mb-2\">\r\n          \r\n        <Meta title={`${title}-Rs${price}`} description={`${description && description.substring(0,40)}...`}/>\r\n    </Card> \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductCard","import React ,{useEffect, useState}from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { getCategories } from \"../../functions/category\";\r\n\r\n\r\n\r\nconst CategoryList = () => {\r\n    const[categories,setCategories]=useState([])\r\n    const[loading,setLoading]=useState(false)\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n        getCategories().then((c)=>{\r\n            setCategories(c.data);\r\n        })\r\n        setLoading(false)\r\n    },[])\r\n    const showCategories=()=>categories.map((c)=>(<div key={c._id} className=\"col btn btn-outlined-primary btn-lg btn-block btn-raised m-3\">\r\n        <Link to={`category/${c.slug}`}>{c.name}</Link>\r\n    </div>))\r\n\r\n  return (\r\n    <div className=\"container\">\r\n        <div className=\"row\">\r\n            {loading ?(<h4>Loading....</h4>):(showCategories()) }\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoryList","import axios from 'axios'\r\n\r\nexport const getCategories=async ()=>{\r\n    return await axios.get(\"http://localhost:8000/api/categories\")\r\n\r\n}\r\nexport const getCategory=async (slug)=>{\r\n    return await axios.get(`http://localhost:8000/api/category/${slug}`)\r\n\r\n}\r\nexport const deleteCategory=async(slug,authtoken )=>{\r\n    return await axios.delete(`http://localhost:8000/api/category/${slug}`,{headers:{authtoken}})\r\n\r\n\r\n}\r\nexport const createCategory=( async (category,authtoken)=>{\r\n    console.log('hey')\r\n    return await axios.post(\"http://localhost:8000/api/category\",category,{              //axios is sending request to middleware having url as first argument   \r\n        headers:{\r\n            authtoken\r\n        }\r\n    })\r\n})\r\n\r\n\r\n\r\nexport const updateCategory=async(slug,category,authtoken)=>{\r\n   \r\n    return await axios.put(`http://localhost:8000/api/category/${slug}`,category,{headers:{authtoken}})\r\n\r\n}\r\nexport const getCategorySubs=async (_id)=>{\r\n    \r\n   return await axios.get(`http://localhost:8000/api/category/subs/${_id}`);\r\n}","import React ,{useState}from 'react'\r\nimport { getCategory } from '../../functions/category'\r\nimport { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport ProductCard from '../../components/cards/ProductCard'\r\nimport CategoryList from '../../components/category/CategoryList'\r\n\r\nconst CategoryHome = () => {\r\n    const [categories,setCategories]=useState({})\r\n    const[products,setProducts]=useState([])\r\n    const[loading,setLoading]=useState(false)\r\n\r\n    let params=useParams()\r\n    const{slug}=params\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n        getCategory(slug)\r\n        .then((res)=>{\r\n            setCategories(res.data.category)\r\n            console.log(JSON.stringify(res.data),null,4)\r\n            setProducts(res.data.products)\r\n            setLoading(false)\r\n        })\r\n    },[])\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n        {loading ?(<h4 className='mt p-2 bg-light text-black rounded h1  text-center'>Loading...</h4>):(\r\n            <h4 className='mt-4 mb-5 p-4 bg-light text-black rounded text-center  font-weight-italic'>{products.length} Products in \"{categories.name}\" category</h4>\r\n        )}\r\n        </div>\r\n        <div className='row'>\r\n          {products.map((p)=>(\r\n            <div className='col' key={p._id}><ProductCard product={p}/> </div>\r\n          ))}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CategoryHome"],"names":["Meta","Card","product","dispatch","useDispatch","useSelector","state","user","cart","useState","tooltip","setTooltip","title","description","images","slug","price","cover","src","length","url","laptop","style","height","objectFit","className","actions","to","onClick","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","substring","categories","setCategories","loading","setLoading","useEffect","getCategories","then","c","data","map","name","_id","axios","getCategory","deleteCategory","authtoken","headers","createCategory","category","console","log","updateCategory","getCategorySubs","products","setProducts","useParams","res","p"],"sourceRoot":""}