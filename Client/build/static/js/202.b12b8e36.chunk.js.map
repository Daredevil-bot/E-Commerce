{"version":3,"file":"static/js/202.b12b8e36.chunk.js","mappings":"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","sources":["components/cards/ProductCard.js","functions/sub.js","pages/sub/SubHome.js"],"sourcesContent":["import React,{useState} from 'react'\r\nimport {Card,Tooltip} from 'antd'\r\nimport laptop from \"../../images/laptop.png\"\r\nimport {EyeOutlined,ShoppingCartOutlined} from  '@ant-design/icons'\r\nimport { Link } from \"react-router-dom\";\r\nimport _ from 'lodash'\r\nimport { useSelector,useDispatch } from 'react-redux';\r\n\r\n\r\nconst{Meta}=Card\r\nconst ProductCard = ({product}) => {\r\n  const dispatch=useDispatch();\r\n  const{user,cart}=useSelector((state)=>({...state}));\r\n  const[tooltip,setTooltip]=useState(\"Click to add\")\r\n    const{title,description,images,slug,price}=product;\r\n    const handleCart=()=>{\r\n      let cart=[];\r\n      if(typeof window!=='undefined'){\r\n        if(localStorage.getItem('cart')){\r\n          cart=JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.push({\r\n          ...product,\r\n          count:1,\r\n      });\r\n      let unique=_.uniqWith(cart,_.isEqual)\r\n\r\n      localStorage.setItem('cart',JSON.stringify(unique))\r\n      dispatch({\r\n        type:\"ADD_TO_CART\",\r\n        payload:unique,\r\n      })\r\n      dispatch({\r\n        type:\"SET_VISIBLE\",\r\n        payload:true,\r\n      })\r\n      setTooltip('Added')\r\n      }\r\n    }\r\n  return (\r\n    <>\r\n    \r\n      \r\n    <Card cover={<img src={images && images.length? images[0].url:laptop} style={{height:'350px',objectFit:\"contain\"}}\r\n      \r\n    className=\"p-1\"/>}\r\n    actions={[\r\n      <Link to={`/product/${slug}`}><EyeOutlined className=\"text-warning\"/><br/>View Product </Link>,\r\n    <Tooltip title={tooltip}>\r\n      <a onClick={handleCart}>\r\n      <ShoppingCartOutlined className=\"text-danger\" /><br/>Add to Cart\r\n      </a>,\r\n    </Tooltip>\r\n    ]}\r\n    className=\"mb-2\">\r\n          \r\n        <Meta title={`${title}-Rs${price}`} description={`${description && description.substring(0,40)}...`}/>\r\n    </Card> \r\n    </>\r\n  )\r\n}\r\n\r\nexport default ProductCard","import axios from 'axios'\r\n\r\nexport const getSubs=async ()=>{\r\n    return await axios.get(\"http://localhost:8000/api/subs\")\r\n\r\n}\r\nexport const getSub=async (slug)=>{\r\n    console.log('inaxi')\r\n    return await axios.get(`http://localhost:8000/api/sub/${slug}`)\r\n\r\n}\r\nexport const deleteSub=async(slug,authtoken )=>{\r\n    return await axios.delete(`http://localhost:8000/api/sub/${slug}`,{headers:{authtoken}})\r\n\r\n\r\n}\r\nexport const createSub=( async (sub,authtoken)=>{\r\n    console.log('hey')\r\n    return await axios.post(\"http://localhost:8000/api/sub\",sub,{              //axios is sending request to middleware having url as first argument   \r\n        headers:{\r\n            authtoken\r\n        }\r\n    })\r\n})\r\n\r\n\r\n\r\nexport const updateSub=async(slug,sub,authtoken)=>{\r\n   \r\n    return await axios.put(`http://localhost:8000/api/sub/${slug}`,sub,{headers:{authtoken}})\r\n\r\n}","import React ,{useState}from 'react'\r\nimport { getSub } from '../../functions/sub'\r\nimport { useEffect } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport ProductCard from '../../components/cards/ProductCard'\r\n\r\n\r\nconst SubHome = () => {\r\n    const [sub,setSub]=useState({})\r\n    const[products,setProducts]=useState([])\r\n    const[loading,setLoading]=useState(false)\r\n\r\n    let params=useParams()\r\n    const{slug}=params\r\n    useEffect(()=>{\r\n        setLoading(true)\r\n        console.log('inuse')\r\n        getSub(slug)\r\n        .then((res)=>{\r\n            console.log('subs')\r\n            setSub(res.data.sub)\r\n            console.log(JSON.stringify(res.data),null,4)\r\n            setProducts(res.data.products)\r\n            setLoading(false)\r\n        })\r\n    },[])\r\n\r\n  return (\r\n    <div className='container-fluid'>\r\n      <div className='row'>\r\n        {loading ?(<h4 className='mt p-2 bg-light text-black rounded h1  text-center'>Loading...</h4>):(\r\n            <h4 className='mt-4 mb-5 p-4 bg-light text-black rounded text-center  font-weight-italic'>{products.length} Products in \"{sub.name}\" sub category</h4>\r\n        )}\r\n        </div>\r\n        <div className='row'>\r\n          {products.map((p)=>(\r\n            <div className='col' key={p._id}><ProductCard product={p}/> </div>\r\n          ))}\r\n        </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SubHome"],"names":["Meta","Card","product","dispatch","useDispatch","useSelector","state","user","cart","useState","tooltip","setTooltip","title","description","images","slug","price","cover","src","length","url","laptop","style","height","objectFit","className","actions","to","onClick","window","localStorage","getItem","JSON","parse","push","count","unique","_","setItem","stringify","type","payload","substring","getSubs","axios","getSub","console","log","deleteSub","authtoken","headers","createSub","sub","setSub","products","setProducts","loading","setLoading","useParams","useEffect","then","res","data","name","map","p","_id"],"sourceRoot":""}