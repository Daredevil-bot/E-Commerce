{"version":3,"file":"static/js/283.b596a657.chunk.js","mappings":"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","sources":["../../../../../../node_modules/@ant-design/icons-svg/es/asn/MailOutlined.js","../../../../../../node_modules/@ant-design/icons/es/icons/MailOutlined.js","../../../../../../node_modules/@ant-design/icons-svg/es/asn/GoogleOutlined.js","../../../../../../node_modules/@ant-design/icons/es/icons/GoogleOutlined.js","pages/auth/Login.js","../../../../../../node_modules/antd/es/_util/reactNode.js","../../../../../../node_modules/antd/es/config-provider/SizeContext.js","../../../../../../node_modules/rc-util/es/omit.js"],"sourcesContent":["// This icon file is generated automatically.\nvar MailOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z\" } }] }, \"name\": \"mail\", \"theme\": \"outlined\" };\nexport default MailOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport MailOutlinedSvg from \"@ant-design/icons-svg/es/asn/MailOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar MailOutlined = function MailOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: MailOutlinedSvg\n  }));\n};\n\nMailOutlined.displayName = 'MailOutlined';\nexport default /*#__PURE__*/React.forwardRef(MailOutlined);","// This icon file is generated automatically.\nvar GoogleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M881 442.4H519.7v148.5h206.4c-8.9 48-35.9 88.6-76.6 115.8-34.4 23-78.3 36.6-129.9 36.6-99.9 0-184.4-67.5-214.6-158.2-7.6-23-12-47.6-12-72.9s4.4-49.9 12-72.9c30.3-90.6 114.8-158.1 214.7-158.1 56.3 0 106.8 19.4 146.6 57.4l110-110.1c-66.5-62-153.2-100-256.6-100-149.9 0-279.6 86-342.7 211.4-26 51.8-40.8 110.4-40.8 172.4S151 632.8 177 684.6C240.1 810 369.8 896 519.7 896c103.6 0 190.4-34.4 253.8-93 72.5-66.8 114.4-165.2 114.4-282.1 0-27.2-2.4-53.3-6.9-78.5z\" } }] }, \"name\": \"google\", \"theme\": \"outlined\" };\nexport default GoogleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport GoogleOutlinedSvg from \"@ant-design/icons-svg/es/asn/GoogleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar GoogleOutlined = function GoogleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: GoogleOutlinedSvg\n  }));\n};\n\nGoogleOutlined.displayName = 'GoogleOutlined';\nexport default /*#__PURE__*/React.forwardRef(GoogleOutlined);","import React,{useState,useEffect} from 'react'\r\nimport  {auth, googleAuthProvider} from \"../../firebase\"\r\nimport {toast} from \"react-toastify\"\r\nimport \"react-toastify/dist/ReactToastify.css\"\r\nimport { Button } from 'antd'\r\nimport { MailOutlined ,GoogleOutlined } from '@ant-design/icons';\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport axios from \"axios\"\r\nconst Register = () => {\r\n    let navigate=useNavigate()\r\n    const roleBasedRedirect=(res)=>{\r\n        let intended=navigate.location.state\r\n        if(intended){\r\n            navigate(intended.from)\r\n        }\r\n        else{\r\n            if(res.data.role===\"admin\"){\r\n                navigate('/admin/dashboard')\r\n            }\r\n            else{\r\n                navigate('/user/history')\r\n            }\r\n        }\r\n       \r\n    }\r\nconst {user} = useSelector((state)=>({...state}))\r\nuseEffect(()=>{\r\n    if(user && user.token ){ navigate('/')}\r\n},[user,navigate])\r\n\r\nconst createUpdate=async (authtoken)=>{\r\n    return await axios.post(\"http://localhost:8000/api/create-and-update-user\",{},{              //axios is sending request to middleware having url as first argument   \r\n        headers:{\r\n            authtoken\r\n        }\r\n    } )\r\n}    \r\nconst[email,setemail]=useState('');\r\nconst [pass,setpass]=useState('')\r\nlet dispatch=useDispatch();\r\nconst googlelogin=async (e)=>{\r\n    auth.signInWithPopup(googleAuthProvider)\r\n    .then(async (result)=>{\r\n        const{user}=result\r\n        const idToken=await user.getIdTokenResult()\r\n        createUpdate(idToken.token)\r\n        .then((res)=>{\r\n        dispatch({\r\n            type: \"LOGGED_IN_USER\",\r\n            payload :{                                //res here deines response from backend as axios made a post request\r\n                name: res.data.name,\r\n                email:res.data.email,\r\n                token:idToken.token,\r\n                role:res.data.role,\r\n                _id:res.data._id\r\n            }\r\n        });\r\n        \r\n        \r\n        navigate('/')\r\n        roleBasedRedirect(res)\r\n    })\r\n        \r\n    })\r\n    .catch((err)=>{\r\n        console.log(err)\r\n        toast.error(err.message);\r\n\r\n    })\r\n\r\n}\r\nconst handleClick=async (e)=>{\r\n   \r\n try{\r\n    const result=await auth.signInWithEmailAndPassword(email,pass)\r\n    const{user} =result;\r\n    const idToken=await user.getIdTokenResult();\r\n   //sending token to middleware to validate\r\n   //\r\n\r\n\r\n   createUpdate(idToken.token)\r\n   .then((res)=>{\r\n    dispatch({\r\n        type: \"LOGGED_IN_USER\",\r\n        payload :{                                //res here deines response from backend as axios made a post request\r\n            name: res.data.name,\r\n            email:res.data.email,\r\n            token:idToken.token,\r\n            role:res.data.role,\r\n            _id:res.data._id\r\n        }\r\n    });\r\n    roleBasedRedirect(res)\r\n})\r\n  .catch(err=>console.log(err))\r\n }\r\n catch(error){\r\n     console.log(error)\r\n     toast.error(error.message)\r\n\r\n }\r\n}\r\n\r\n    \r\n\r\n    \r\n    return (\r\n        <>\r\n       <div className=\"container p-5 \" style={{margin:\"0px 400px 100px\"}} >\r\n           <h4 >Login</h4>\r\n\r\n       <div className='row'>\r\n           <div className='col-mid-3 offset col-mid-6'>\r\n               \r\n      \r\n       <form onSubmit={handleClick} >\r\n            <input\r\n            type='email'\r\n            className='form-control'\r\n            style={{width:\"600px\",margin:\"20px 0px 0px 0px\"}}\r\n            value={email}\r\n            onChange={e=>{setemail(e.target.value)}}    \r\n            placeholder='Your email'\r\n            autoFocus\r\n            ></input>\r\n             <input\r\n            type='password'\r\n            className='form-control'\r\n            style={{width:\"600px\",margin:\"25px 0px 0px 0px\"}}\r\n            value={pass}\r\n            onChange={e=>{setpass(e.target.value)}}\r\n            placeholder='Your password'\r\n            ></input>\r\n            <Button\r\n            type=\"primary\"\r\n            className='mb-3'\r\n            style={{width : \"600px\",margin : \"30px 0px 0px 0px\",display:\"block\"}}\r\n            shape='round'\r\n            size=\"large\"\r\n            width=\"600px\"\r\n            block\r\n            icon={<MailOutlined/>}\r\n            disabled={!email || !pass}\r\n            onClick={handleClick}\r\n\r\n            >\r\n                Log in with Email/Password\r\n            </Button>\r\n            <Button\r\n            type=\"danger\"\r\n            className='mb-3'\r\n            style={{width : \"600px\",margin : \"25px 0px 0px 0px\"}}\r\n            shape='round'\r\n            size=\"large\"\r\n            width=\"600px\"\r\n            block\r\n            icon={<GoogleOutlined/>}\r\n            \r\n            onClick={googlelogin}\r\n            >\r\n                Log in with Google\r\n            </Button >\r\n            <Button type=\"link\" style={{display:\"block\" ,margin:\"0px 0px 0px 450px\"}}  >\r\n                <Link to=\"/forgot/password\"></Link>Forgot password? </Button>\r\n\r\n        </form>\r\n        </div>\r\n       </div>\r\n       \r\n       </div>\r\n\r\n        </>\r\n    )\r\n\r\n}\r\nexport default Register\r\n","import * as React from 'react';\nvar isValidElement = React.isValidElement;\nexport { isValidElement };\nexport function replaceElement(element, replacement, props) {\n  if (!isValidElement(element)) return replacement;\n  return /*#__PURE__*/React.cloneElement(element, typeof props === 'function' ? props(element.props || {}) : props);\n}\nexport function cloneElement(element, props) {\n  return replaceElement(element, element, props);\n}","import * as React from 'react';\nvar SizeContext = /*#__PURE__*/React.createContext(undefined);\nexport var SizeContextProvider = function SizeContextProvider(_ref) {\n  var children = _ref.children,\n      size = _ref.size;\n  return /*#__PURE__*/React.createElement(SizeContext.Consumer, null, function (originSize) {\n    return /*#__PURE__*/React.createElement(SizeContext.Provider, {\n      value: size || originSize\n    }, children);\n  });\n};\nexport default SizeContext;","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nexport default function omit(obj, fields) {\n  var clone = _objectSpread({}, obj);\n\n  if (Array.isArray(fields)) {\n    fields.forEach(function (key) {\n      delete clone[key];\n    });\n  }\n\n  return clone;\n}"],"names":["MailOutlined","props","ref","React","AntdIcon","_objectSpread","icon","MailOutlinedSvg","displayName","GoogleOutlined","GoogleOutlinedSvg","navigate","useNavigate","roleBasedRedirect","res","intended","location","state","from","data","role","user","useSelector","useEffect","token","createUpdate","authtoken","axios","headers","useState","email","setemail","pass","setpass","dispatch","useDispatch","googlelogin","e","auth","googleAuthProvider","then","result","getIdTokenResult","idToken","type","payload","name","_id","catch","err","console","log","toast","message","handleClick","className","style","margin","onSubmit","width","value","onChange","target","placeholder","autoFocus","display","shape","size","block","disabled","onClick","to","isValidElement","cloneElement","element","replacement","replaceElement","SizeContext","undefined","SizeContextProvider","_ref","children","Consumer","originSize","Provider","omit","obj","fields","clone","Array","isArray","forEach","key"],"sourceRoot":""}