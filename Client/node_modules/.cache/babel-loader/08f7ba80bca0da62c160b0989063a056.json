{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\src\\\\components\\\\StripeCheckout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { createPaymentIntent } from '../functions/stripe';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst StripeCheckout = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n  const [succeeded, setSucceeded] = useState(false);\n  const [error, setError] = useState(null);\n  const [processing, setProcessing] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n  const [clientSecret, setClientSecret] = useState(\"\");\n  const stripe = useStripe();\n  const elements = useElements();\n  useEffect(() => {\n    createPaymentIntent(user.token).then(res => {\n      console.log('hey');\n      console.log('create payment intent', res);\n      setClientSecret(res.data.clientSecret);\n    });\n  }, []);\n\n  const handleSubmit = async e => {//\n  };\n\n  const handleChange = async e => {//\n  };\n\n  const cartStyle = {\n    style: {\n      base: {\n        color: \"#32325d\",\n        fontFamily: \"Arial, sans-serif\",\n        fontSmoothing: \"antialiased\",\n        fontSize: \"16px\",\n        \"::placeholder\": {\n          color: \"#32325d\"\n        }\n      },\n      invalid: {\n        color: \"#fa755a\",\n        iconColor: \"#fa755a\"\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"payment-form\",\n      className: \"stripe-form\",\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(CardElement, {\n        id: \"card-element\",\n        options: cartStyle,\n        onChange: handleChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"stripe-button\",\n        disabled: processing || succeeded || disabled,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          id: \"button-text\",\n          children: processing ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"spinner\",\n            id: \"spinner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 31\n          }, this) : \"Pay\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 10\n    }, this)\n  }, void 0, false);\n};\n\n_s(StripeCheckout, \"iC00IQrPMHUebeWyLhAOSZU6ick=\", false, function () {\n  return [useDispatch, useSelector, useStripe, useElements];\n});\n\n_c = StripeCheckout;\nexport default StripeCheckout;\n\nvar _c;\n\n$RefreshReg$(_c, \"StripeCheckout\");","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/src/components/StripeCheckout.js"],"names":["React","useEffect","useState","CardElement","useStripe","useElements","useDispatch","useSelector","createPaymentIntent","StripeCheckout","dispatch","user","state","succeeded","setSucceeded","error","setError","processing","setProcessing","disabled","setDisabled","clientSecret","setClientSecret","stripe","elements","token","then","res","console","log","data","handleSubmit","e","handleChange","cartStyle","style","base","color","fontFamily","fontSmoothing","fontSize","invalid","iconColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { CardElement,useStripe,useElements } from '@stripe/react-stripe-js'\r\nimport { useDispatch,useSelector } from 'react-redux'\r\nimport { createPaymentIntent } from '../functions/stripe'\r\n\r\nconst StripeCheckout = () => {\r\n const dispatch=useDispatch();\r\n const {user}=useSelector((state)=>({...state}))\r\n\r\n const[succeeded,setSucceeded]=useState(false)\r\n const[error,setError]=useState(null)\r\n const[processing,setProcessing]=useState(\"\")\r\n const[disabled,setDisabled]=useState(true)\r\n const[clientSecret,setClientSecret]=useState(\"\")\r\n    const stripe=useStripe();\r\n    const elements=useElements();\r\n\r\n    useEffect(()=>{\r\n        createPaymentIntent(user.token)\r\n        .then(res=>{\r\n            console.log('hey')\r\n            console.log('create payment intent',res)\r\n            setClientSecret(res.data.clientSecret)\r\n        })\r\n    },[])\r\n\r\n    const handleSubmit=async(e)=>{\r\n        //\r\n    }\r\n    const handleChange=async(e)=>{\r\n        //\r\n    }\r\n    const cartStyle = {\r\n        style: {\r\n          base: {\r\n            color: \"#32325d\",\r\n            fontFamily: \"Arial, sans-serif\",\r\n            fontSmoothing: \"antialiased\",\r\n            fontSize: \"16px\",\r\n            \"::placeholder\": {\r\n              color: \"#32325d\",\r\n            },\r\n          },\r\n          invalid: {\r\n            color: \"#fa755a\",\r\n            iconColor: \"#fa755a\",\r\n          },\r\n        },\r\n      };\r\n\r\n    return (\r\n        <>\r\n         <form id='payment-form' className='stripe-form' onSubmit={handleSubmit}>\r\n             <CardElement \r\n             id='card-element'\r\n             options={cartStyle}\r\n             onChange={handleChange}\r\n             />\r\n          <button className='stripe-button' disabled={processing || succeeded || disabled}>\r\n\r\n              <span id='button-text'>\r\n                  {processing?<div className='spinner' id='spinner'></div>:\"Pay\"}\r\n              </span>\r\n          </button>\r\n         </form>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default StripeCheckout"]},"metadata":{},"sourceType":"module"}