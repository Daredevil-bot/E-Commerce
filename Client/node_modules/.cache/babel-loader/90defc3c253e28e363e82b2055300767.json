{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from'react';import AdminNav from'../../../components/nav/AdminNav';import{useEffect,useState}from'react';import{getProdutByCount}from'../../../functions/product';import{removeProduct}from'../../../functions/product';import AdminProductCard from'../../../components/cards/AdminProductCard';import{toast}from'react-toastify';import{useSelector}from'react-redux';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AllProducts=function AllProducts(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setproducts=_useState2[1];var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;useEffect(function(){loadAllproducts();},[]);var loadAllproducts=function loadAllproducts(){getProdutByCount(10).then(function(res){setproducts(res.data);}).catch(function(err){console.log(err);});};var handleRemove=function handleRemove(slug){var answer=window.confirm('Delete?');if(answer){removeProduct(slug,user.token).then(function(res){loadAllproducts();toast.error(\"\".concat(res.data.title,\" is deleted\"));}).catch(function(err){console.log(err);});}};return/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(AdminNav,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"All Products \"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(AdminProductCard,{product:product,handleRemove:handleRemove})},product._id);})})]})]})});};export default AllProducts;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/pages/admin/product/AllProducts.js"],"names":["React","AdminNav","useEffect","useState","getProdutByCount","removeProduct","AdminProductCard","toast","useSelector","AllProducts","products","setproducts","state","user","loadAllproducts","then","res","data","catch","err","console","log","handleRemove","slug","answer","window","confirm","token","error","title","map","product","_id"],"mappings":"+UAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,kCAArB,CACA,OAASC,SAAT,CAAmBC,QAAnB,KAAmC,OAAnC,CACA,OAASC,gBAAT,KAAiC,4BAAjC,CACA,OAASC,aAAT,KAA8B,4BAA9B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,4CAA7B,CACA,OAASC,KAAT,KAAsB,gBAAtB,CACA,OAASC,WAAT,KAA4B,aAA5B,C,wFAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAMO,QAAN,eAAeC,WAAf,eACD,iBAAYH,WAAW,CAAC,SAACI,KAAD,0BAAcA,KAAd,GAAD,CAAvB,CAAMC,IAAN,cAAMA,IAAN,CACEX,SAAS,CAAC,UAAI,CACZY,eAAe,GAChB,CAFQ,CAEP,EAFO,CAAT,CAGA,GAAMA,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,EAAI,CACvBV,gBAAgB,CAAC,EAAD,CAAhB,CACCW,IADD,CACM,SAAAC,GAAG,CAAE,CACPL,WAAW,CAACK,GAAG,CAACC,IAAL,CAAX,CACH,CAHD,EAICC,KAJD,CAIO,SAACC,GAAD,CAAO,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAND,EAOF,CARD,CAYF,GAAMG,CAAAA,YAAY,CAAC,QAAbA,CAAAA,YAAa,CAACC,IAAD,CAAQ,CACvB,GAAIC,CAAAA,MAAM,CAACC,MAAM,CAACC,OAAP,CAAe,SAAf,CAAX,CACA,GAAGF,MAAH,CAAU,CACNnB,aAAa,CAACkB,IAAD,CAAMV,IAAI,CAACc,KAAX,CAAb,CACCZ,IADD,CACM,SAAAC,GAAG,CAAE,CACNF,eAAe,GACfP,KAAK,CAACqB,KAAN,WAAeZ,GAAG,CAACC,IAAJ,CAASY,KAAxB,iBACJ,CAJD,EAKCX,KALD,CAKO,SAACC,GAAD,CAAO,CACVC,OAAO,CAACC,GAAR,CAAYF,GAAZ,EACH,CAPD,EAQH,CACJ,CAZD,CAgBC,mBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,aAAK,SAAS,CAAC,KAAf,wBACI,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,QAAD,IADF,EADJ,cAKG,aAAK,SAAS,CAAC,QAAf,wBACA,qCADA,cAEE,YAAK,SAAS,CAAC,KAAf,UAEKT,QAAQ,CAACoB,GAAT,CAAa,SAACC,OAAD,qBACV,YAAuB,SAAS,CAAC,OAAjC,uBAGI,KAAC,gBAAD,EAAkB,OAAO,CAAEA,OAA3B,CAAoC,YAAY,CAAET,YAAlD,EAHJ,EAAUS,OAAO,CAACC,GAAlB,CADU,EAAb,CAFL,EAFF,GALH,GADJ,EADJ,CA0BkB,CA5DtB,CA8DA,cAAevB,CAAAA,WAAf","sourcesContent":["import React from 'react'\r\nimport AdminNav from '../../../components/nav/AdminNav'\r\nimport { useEffect,useState } from 'react'\r\nimport { getProdutByCount } from '../../../functions/product'\r\nimport { removeProduct } from '../../../functions/product'\r\nimport AdminProductCard from '../../../components/cards/AdminProductCard'\r\nimport { toast } from 'react-toastify'\r\nimport { useSelector } from 'react-redux'\r\n\r\nconst AllProducts = () => {\r\n    const[products,setproducts]=useState([])\r\n   const{user}=useSelector((state)=>({...state}));\r\n     useEffect(()=>{\r\n       loadAllproducts()\r\n     },[])\r\n     const loadAllproducts=()=>{\r\n        getProdutByCount(10)\r\n        .then(res=>{\r\n            setproducts(res.data);\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err);\r\n        })\r\n     };\r\n       \r\n     \r\n          \r\n   const handleRemove=(slug)=>{\r\n       let answer=window.confirm('Delete?')\r\n       if(answer){\r\n           removeProduct(slug,user.token)\r\n           .then(res=>{\r\n                loadAllproducts();\r\n                toast.error(`${res.data.title} is deleted`);\r\n           })\r\n           .catch((err)=>{\r\n               console.log(err)\r\n           })\r\n       }\r\n   }\r\n\r\n   \r\n\r\n    return (\r\n        <div className='container-fluid'>\r\n            <div className='row'>\r\n                <div className='col'>\r\n                  <AdminNav/>\r\n                </div>\r\n               \r\n               <div className='col-10'> \r\n               <h4 >All Products </h4>\r\n                 <div className='row'>\r\n                   \r\n                     {products.map((product)=>(\r\n                         <div key={product._id} className=\"col-3\">\r\n                             \r\n                             \r\n                             <AdminProductCard product={product} handleRemove={handleRemove}/>\r\n                         </div>\r\n                     ))}\r\n                 </div>\r\n\r\n                 </div>\r\n                \r\n                \r\n            </div>\r\n        </div>\r\n    )\r\n                     }\r\n\r\nexport default AllProducts\r\n\r\n"]},"metadata":{},"sourceType":"module"}