{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";import _createClass from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";import _asyncToGenerator from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import firebase from'@firebase/app-compat';import*as exp from'@firebase/auth/internal';import{Component}from'@firebase/component';import{isBrowserExtension,isReactNative,isNode,getUA,isIE,isIndexedDBAvailable,FirebaseError}from'@firebase/util';var name=\"@firebase/auth-compat\";var version=\"0.2.4\";/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var CORDOVA_ONDEVICEREADY_TIMEOUT_MS=1000;function _getCurrentScheme(){var _a;return((_a=self===null||self===void 0?void 0:self.location)===null||_a===void 0?void 0:_a.protocol)||null;}/**\r\n * @return {boolean} Whether the current environment is http or https.\r\n */function _isHttpOrHttps(){return _getCurrentScheme()==='http:'||_getCurrentScheme()==='https:';}/**\r\n * @param {?string=} ua The user agent.\r\n * @return {boolean} Whether the app is rendered in a mobile iOS or Android\r\n *     Cordova environment.\r\n */function _isAndroidOrIosCordovaScheme(){var ua=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getUA();return!!((_getCurrentScheme()==='file:'||_getCurrentScheme()==='ionic:')&&ua.toLowerCase().match(/iphone|ipad|ipod|android/));}/**\r\n * @return {boolean} Whether the environment is a native environment, where\r\n *     CORS checks do not apply.\r\n */function _isNativeEnvironment(){return isReactNative()||isNode();}/**\r\n * Checks whether the user agent is IE11.\r\n * @return {boolean} True if it is IE11.\r\n */function _isIe11(){return isIE()&&(document===null||document===void 0?void 0:document.documentMode)===11;}/**\r\n * Checks whether the user agent is Edge.\r\n * @param {string} userAgent The browser user agent string.\r\n * @return {boolean} True if it is Edge.\r\n */function _isEdge(){var ua=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getUA();return /Edge\\/\\d+/.test(ua);}/**\r\n * @param {?string=} opt_userAgent The navigator user agent.\r\n * @return {boolean} Whether local storage is not synchronized between an iframe\r\n *     and a popup of the same domain.\r\n */function _isLocalStorageNotSynchronized(){var ua=arguments.length>0&&arguments[0]!==undefined?arguments[0]:getUA();return _isIe11()||_isEdge(ua);}/** @return {boolean} Whether web storage is supported. */function _isWebStorageSupported(){try{var storage=self.localStorage;var key=exp._generateEventId();if(storage){// setItem will throw an exception if we cannot access WebStorage (e.g.,\n// Safari in private mode).\nstorage['setItem'](key,'1');storage['removeItem'](key);// For browsers where iframe web storage does not synchronize with a popup\n// of the same domain, indexedDB is used for persistent storage. These\n// browsers include IE11 and Edge.\n// Make sure it is supported (IE11 and Edge private mode does not support\n// that).\nif(_isLocalStorageNotSynchronized()){// In such browsers, if indexedDB is not supported, an iframe cannot be\n// notified of the popup sign in result.\nreturn isIndexedDBAvailable();}return true;}}catch(e){// localStorage is not available from a worker. Test availability of\n// indexedDB.\nreturn _isWorker()&&isIndexedDBAvailable();}return false;}/**\r\n * @param {?Object=} global The optional global scope.\r\n * @return {boolean} Whether current environment is a worker.\r\n */function _isWorker(){// WorkerGlobalScope only defined in worker environment.\nreturn typeof global!=='undefined'&&'WorkerGlobalScope'in global&&'importScripts'in global;}function _isPopupRedirectSupported(){return(_isHttpOrHttps()||isBrowserExtension()||_isAndroidOrIosCordovaScheme())&&// React Native with remote debugging reports its location.protocol as\n// http.\n!_isNativeEnvironment()&&// Local storage has to be supported for browser popup and redirect\n// operations to work.\n_isWebStorageSupported()&&// DOM, popups and redirects are not supported within a worker.\n!_isWorker();}/** Quick check that indicates the platform *may* be Cordova */function _isLikelyCordova(){return _isAndroidOrIosCordovaScheme()&&typeof document!=='undefined';}function _isCordova(){return _isCordova2.apply(this,arguments);}/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */function _isCordova2(){_isCordova2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee17(){return _regeneratorRuntime.wrap(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(_isLikelyCordova()){_context17.next=2;break;}return _context17.abrupt(\"return\",false);case 2:return _context17.abrupt(\"return\",new Promise(function(resolve){var timeoutId=setTimeout(function(){// We've waited long enough; the telltale Cordova event didn't happen\nresolve(false);},CORDOVA_ONDEVICEREADY_TIMEOUT_MS);document.addEventListener('deviceready',function(){clearTimeout(timeoutId);resolve(true);});}));case 3:case\"end\":return _context17.stop();}}},_callee17);}));return _isCordova2.apply(this,arguments);}var Persistence={LOCAL:'local',NONE:'none',SESSION:'session'};var _assert$3=exp._assert;var PERSISTENCE_KEY='persistence';/**\r\n * Validates that an argument is a valid persistence value. If an invalid type\r\n * is specified, an error is thrown synchronously.\r\n */function _validatePersistenceArgument(auth,persistence){_assert$3(Object.values(Persistence).includes(persistence),auth,\"invalid-persistence-type\"/* INVALID_PERSISTENCE */);// Validate if the specified type is supported in the current environment.\nif(isReactNative()){// This is only supported in a browser.\n_assert$3(persistence!==Persistence.SESSION,auth,\"unsupported-persistence-type\"/* UNSUPPORTED_PERSISTENCE */);return;}if(isNode()){// Only none is supported in Node.js.\n_assert$3(persistence===Persistence.NONE,auth,\"unsupported-persistence-type\"/* UNSUPPORTED_PERSISTENCE */);return;}if(_isWorker()){// In a worker environment, either LOCAL or NONE are supported.\n// If indexedDB not supported and LOCAL provided, throw an error\n_assert$3(persistence===Persistence.NONE||persistence===Persistence.LOCAL&&isIndexedDBAvailable(),auth,\"unsupported-persistence-type\"/* UNSUPPORTED_PERSISTENCE */);return;}// This is restricted by what the browser supports.\n_assert$3(persistence===Persistence.NONE||_isWebStorageSupported(),auth,\"unsupported-persistence-type\"/* UNSUPPORTED_PERSISTENCE */);}function _savePersistenceForRedirect(_x){return _savePersistenceForRedirect2.apply(this,arguments);}function _savePersistenceForRedirect2(){_savePersistenceForRedirect2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee18(auth){var win,key;return _regeneratorRuntime.wrap(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:_context18.next=2;return auth._initializationPromise;case 2:win=getSelfWindow();key=exp._persistenceKeyName(PERSISTENCE_KEY,auth.config.apiKey,auth.name);if(win===null||win===void 0?void 0:win.sessionStorage){win.sessionStorage.setItem(key,auth._getPersistence());}case 5:case\"end\":return _context18.stop();}}},_callee18);}));return _savePersistenceForRedirect2.apply(this,arguments);}function _getPersistencesFromRedirect(apiKey,appName){var win=getSelfWindow();if(!(win===null||win===void 0?void 0:win.sessionStorage)){return[];}var key=exp._persistenceKeyName(PERSISTENCE_KEY,apiKey,appName);var persistence=win.sessionStorage.getItem(key);switch(persistence){case Persistence.NONE:return[exp.inMemoryPersistence];case Persistence.LOCAL:return[exp.indexedDBLocalPersistence,exp.browserSessionPersistence];case Persistence.SESSION:return[exp.browserSessionPersistence];default:return[];}}function getSelfWindow(){return typeof window!=='undefined'?window:null;}/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var _assert$2=exp._assert;/** Platform-agnostic popup-redirect resolver */var CompatPopupRedirectResolver=/*#__PURE__*/function(){function CompatPopupRedirectResolver(){_classCallCheck(this,CompatPopupRedirectResolver);// Create both resolvers for dynamic resolution later\nthis.browserResolver=exp._getInstance(exp.browserPopupRedirectResolver);this.cordovaResolver=exp._getInstance(exp.cordovaPopupRedirectResolver);// The actual resolver in use: either browserResolver or cordovaResolver.\nthis.underlyingResolver=null;this._redirectPersistence=exp.browserSessionPersistence;this._completeRedirectFn=exp._getRedirectResult;}_createClass(CompatPopupRedirectResolver,[{key:\"_initialize\",value:function(){var _initialize2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(auth){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return this.selectUnderlyingResolver();case 2:return _context.abrupt(\"return\",this.assertedUnderlyingResolver._initialize(auth));case 3:case\"end\":return _context.stop();}}},_callee,this);}));function _initialize(_x2){return _initialize2.apply(this,arguments);}return _initialize;}()},{key:\"_openPopup\",value:function(){var _openPopup2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(auth,provider,authType,eventId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return this.selectUnderlyingResolver();case 2:return _context2.abrupt(\"return\",this.assertedUnderlyingResolver._openPopup(auth,provider,authType,eventId));case 3:case\"end\":return _context2.stop();}}},_callee2,this);}));function _openPopup(_x3,_x4,_x5,_x6){return _openPopup2.apply(this,arguments);}return _openPopup;}()},{key:\"_openRedirect\",value:function(){var _openRedirect2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(auth,provider,authType,eventId){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return this.selectUnderlyingResolver();case 2:return _context3.abrupt(\"return\",this.assertedUnderlyingResolver._openRedirect(auth,provider,authType,eventId));case 3:case\"end\":return _context3.stop();}}},_callee3,this);}));function _openRedirect(_x7,_x8,_x9,_x10){return _openRedirect2.apply(this,arguments);}return _openRedirect;}()},{key:\"_isIframeWebStorageSupported\",value:function _isIframeWebStorageSupported(auth,cb){this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth,cb);}},{key:\"_originValidation\",value:function _originValidation(auth){return this.assertedUnderlyingResolver._originValidation(auth);}},{key:\"_shouldInitProactively\",get:function get(){return _isLikelyCordova()||this.browserResolver._shouldInitProactively;}},{key:\"assertedUnderlyingResolver\",get:function get(){_assert$2(this.underlyingResolver,\"internal-error\"/* INTERNAL_ERROR */);return this.underlyingResolver;}},{key:\"selectUnderlyingResolver\",value:function(){var _selectUnderlyingResolver=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var isCordova;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!this.underlyingResolver){_context4.next=2;break;}return _context4.abrupt(\"return\");case 2:_context4.next=4;return _isCordova();case 4:isCordova=_context4.sent;this.underlyingResolver=isCordova?this.cordovaResolver:this.browserResolver;case 6:case\"end\":return _context4.stop();}}},_callee4,this);}));function selectUnderlyingResolver(){return _selectUnderlyingResolver.apply(this,arguments);}return selectUnderlyingResolver;}()}]);return CompatPopupRedirectResolver;}();/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */function unwrap(object){return object.unwrap();}function wrapped(object){return object.wrapped();}/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */function credentialFromResponse(userCredential){return credentialFromObject(userCredential);}function attachExtraErrorFields(auth,e){var _a;// The response contains all fields from the server which may or may not\n// actually match the underlying type\nvar response=(_a=e.customData)===null||_a===void 0?void 0:_a._tokenResponse;if(e.code==='auth/multi-factor-auth-required'){var mfaErr=e;mfaErr.resolver=new MultiFactorResolver(auth,exp.getMultiFactorResolver(auth,e));}else if(response){var credential=credentialFromObject(e);var credErr=e;if(credential){credErr.credential=credential;credErr.tenantId=response.tenantId||undefined;credErr.email=response.email||undefined;credErr.phoneNumber=response.phoneNumber||undefined;}}}function credentialFromObject(object){var _ref=object instanceof FirebaseError?object.customData:object,_tokenResponse=_ref._tokenResponse;if(!_tokenResponse){return null;}// Handle phone Auth credential responses, as they have a different format\n// from other backend responses (i.e. no providerId). This is also only the\n// case for user credentials (does not work for errors).\nif(!(object instanceof FirebaseError)){if('temporaryProof'in _tokenResponse&&'phoneNumber'in _tokenResponse){return exp.PhoneAuthProvider.credentialFromResult(object);}}var providerId=_tokenResponse.providerId;// Email and password is not supported as there is no situation where the\n// server would return the password to the client.\nif(!providerId||providerId===exp.ProviderId.PASSWORD){return null;}var provider;switch(providerId){case exp.ProviderId.GOOGLE:provider=exp.GoogleAuthProvider;break;case exp.ProviderId.FACEBOOK:provider=exp.FacebookAuthProvider;break;case exp.ProviderId.GITHUB:provider=exp.GithubAuthProvider;break;case exp.ProviderId.TWITTER:provider=exp.TwitterAuthProvider;break;default:var oauthIdToken=_tokenResponse.oauthIdToken,oauthAccessToken=_tokenResponse.oauthAccessToken,oauthTokenSecret=_tokenResponse.oauthTokenSecret,pendingToken=_tokenResponse.pendingToken,nonce=_tokenResponse.nonce;if(!oauthAccessToken&&!oauthTokenSecret&&!oauthIdToken&&!pendingToken){return null;}// TODO(avolkovi): uncomment this and get it working with SAML & OIDC\nif(pendingToken){if(providerId.startsWith('saml.')){return exp.SAMLAuthCredential._create(providerId,pendingToken);}else{// OIDC and non-default providers excluding Twitter.\nreturn exp.OAuthCredential._fromParams({providerId:providerId,signInMethod:providerId,pendingToken:pendingToken,idToken:oauthIdToken,accessToken:oauthAccessToken});}}return new exp.OAuthProvider(providerId).credential({idToken:oauthIdToken,accessToken:oauthAccessToken,rawNonce:nonce});}return object instanceof FirebaseError?provider.credentialFromError(object):provider.credentialFromResult(object);}function convertCredential(auth,credentialPromise){return credentialPromise.catch(function(e){if(e instanceof FirebaseError){attachExtraErrorFields(auth,e);}throw e;}).then(function(credential){var operationType=credential.operationType;var user=credential.user;return{operationType:operationType,credential:credentialFromResponse(credential),additionalUserInfo:exp.getAdditionalUserInfo(credential),user:User.getOrCreate(user)};});}function convertConfirmationResult(_x11,_x12){return _convertConfirmationResult.apply(this,arguments);}function _convertConfirmationResult(){_convertConfirmationResult=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee19(auth,confirmationResultPromise){var confirmationResultExp;return _regeneratorRuntime.wrap(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:_context19.next=2;return confirmationResultPromise;case 2:confirmationResultExp=_context19.sent;return _context19.abrupt(\"return\",{verificationId:confirmationResultExp.verificationId,confirm:function confirm(verificationCode){return convertCredential(auth,confirmationResultExp.confirm(verificationCode));}});case 4:case\"end\":return _context19.stop();}}},_callee19);}));return _convertConfirmationResult.apply(this,arguments);}var MultiFactorResolver=/*#__PURE__*/function(){function MultiFactorResolver(auth,resolver){_classCallCheck(this,MultiFactorResolver);this.resolver=resolver;this.auth=wrapped(auth);}_createClass(MultiFactorResolver,[{key:\"session\",get:function get(){return this.resolver.session;}},{key:\"hints\",get:function get(){return this.resolver.hints;}},{key:\"resolveSignIn\",value:function resolveSignIn(assertion){return convertCredential(unwrap(this.auth),this.resolver.resolveSignIn(assertion));}}]);return MultiFactorResolver;}();/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var User=/*#__PURE__*/function(){function User(_delegate){_classCallCheck(this,User);this._delegate=_delegate;this.multiFactor=exp.multiFactor(_delegate);}_createClass(User,[{key:\"delete\",value:function _delete(){return this._delegate.delete();}},{key:\"reload\",value:function reload(){return this._delegate.reload();}},{key:\"toJSON\",value:function toJSON(){return this._delegate.toJSON();}},{key:\"getIdTokenResult\",value:function getIdTokenResult(forceRefresh){return this._delegate.getIdTokenResult(forceRefresh);}},{key:\"getIdToken\",value:function getIdToken(forceRefresh){return this._delegate.getIdToken(forceRefresh);}},{key:\"linkAndRetrieveDataWithCredential\",value:function linkAndRetrieveDataWithCredential(credential){return this.linkWithCredential(credential);}},{key:\"linkWithCredential\",value:function(){var _linkWithCredential=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(credential){return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:return _context5.abrupt(\"return\",convertCredential(this.auth,exp.linkWithCredential(this._delegate,credential)));case 1:case\"end\":return _context5.stop();}}},_callee5,this);}));function linkWithCredential(_x13){return _linkWithCredential.apply(this,arguments);}return linkWithCredential;}()},{key:\"linkWithPhoneNumber\",value:function(){var _linkWithPhoneNumber=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(phoneNumber,applicationVerifier){return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:return _context6.abrupt(\"return\",convertConfirmationResult(this.auth,exp.linkWithPhoneNumber(this._delegate,phoneNumber,applicationVerifier)));case 1:case\"end\":return _context6.stop();}}},_callee6,this);}));function linkWithPhoneNumber(_x14,_x15){return _linkWithPhoneNumber.apply(this,arguments);}return linkWithPhoneNumber;}()},{key:\"linkWithPopup\",value:function(){var _linkWithPopup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(provider){return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:return _context7.abrupt(\"return\",convertCredential(this.auth,exp.linkWithPopup(this._delegate,provider,CompatPopupRedirectResolver)));case 1:case\"end\":return _context7.stop();}}},_callee7,this);}));function linkWithPopup(_x16){return _linkWithPopup.apply(this,arguments);}return linkWithPopup;}()},{key:\"linkWithRedirect\",value:function(){var _linkWithRedirect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(provider){return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:_context8.next=2;return _savePersistenceForRedirect(exp._castAuth(this.auth));case 2:return _context8.abrupt(\"return\",exp.linkWithRedirect(this._delegate,provider,CompatPopupRedirectResolver));case 3:case\"end\":return _context8.stop();}}},_callee8,this);}));function linkWithRedirect(_x17){return _linkWithRedirect.apply(this,arguments);}return linkWithRedirect;}()},{key:\"reauthenticateAndRetrieveDataWithCredential\",value:function reauthenticateAndRetrieveDataWithCredential(credential){return this.reauthenticateWithCredential(credential);}},{key:\"reauthenticateWithCredential\",value:function(){var _reauthenticateWithCredential=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee9(credential){return _regeneratorRuntime.wrap(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:return _context9.abrupt(\"return\",convertCredential(this.auth,exp.reauthenticateWithCredential(this._delegate,credential)));case 1:case\"end\":return _context9.stop();}}},_callee9,this);}));function reauthenticateWithCredential(_x18){return _reauthenticateWithCredential.apply(this,arguments);}return reauthenticateWithCredential;}()},{key:\"reauthenticateWithPhoneNumber\",value:function reauthenticateWithPhoneNumber(phoneNumber,applicationVerifier){return convertConfirmationResult(this.auth,exp.reauthenticateWithPhoneNumber(this._delegate,phoneNumber,applicationVerifier));}},{key:\"reauthenticateWithPopup\",value:function reauthenticateWithPopup(provider){return convertCredential(this.auth,exp.reauthenticateWithPopup(this._delegate,provider,CompatPopupRedirectResolver));}},{key:\"reauthenticateWithRedirect\",value:function(){var _reauthenticateWithRedirect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee10(provider){return _regeneratorRuntime.wrap(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:_context10.next=2;return _savePersistenceForRedirect(exp._castAuth(this.auth));case 2:return _context10.abrupt(\"return\",exp.reauthenticateWithRedirect(this._delegate,provider,CompatPopupRedirectResolver));case 3:case\"end\":return _context10.stop();}}},_callee10,this);}));function reauthenticateWithRedirect(_x19){return _reauthenticateWithRedirect.apply(this,arguments);}return reauthenticateWithRedirect;}()},{key:\"sendEmailVerification\",value:function sendEmailVerification(actionCodeSettings){return exp.sendEmailVerification(this._delegate,actionCodeSettings);}},{key:\"unlink\",value:function(){var _unlink=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee11(providerId){return _regeneratorRuntime.wrap(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:_context11.next=2;return exp.unlink(this._delegate,providerId);case 2:return _context11.abrupt(\"return\",this);case 3:case\"end\":return _context11.stop();}}},_callee11,this);}));function unlink(_x20){return _unlink.apply(this,arguments);}return unlink;}()},{key:\"updateEmail\",value:function updateEmail(newEmail){return exp.updateEmail(this._delegate,newEmail);}},{key:\"updatePassword\",value:function updatePassword(newPassword){return exp.updatePassword(this._delegate,newPassword);}},{key:\"updatePhoneNumber\",value:function updatePhoneNumber(phoneCredential){return exp.updatePhoneNumber(this._delegate,phoneCredential);}},{key:\"updateProfile\",value:function updateProfile(profile){return exp.updateProfile(this._delegate,profile);}},{key:\"verifyBeforeUpdateEmail\",value:function verifyBeforeUpdateEmail(newEmail,actionCodeSettings){return exp.verifyBeforeUpdateEmail(this._delegate,newEmail,actionCodeSettings);}},{key:\"emailVerified\",get:function get(){return this._delegate.emailVerified;}},{key:\"isAnonymous\",get:function get(){return this._delegate.isAnonymous;}},{key:\"metadata\",get:function get(){return this._delegate.metadata;}},{key:\"phoneNumber\",get:function get(){return this._delegate.phoneNumber;}},{key:\"providerData\",get:function get(){return this._delegate.providerData;}},{key:\"refreshToken\",get:function get(){return this._delegate.refreshToken;}},{key:\"tenantId\",get:function get(){return this._delegate.tenantId;}},{key:\"displayName\",get:function get(){return this._delegate.displayName;}},{key:\"email\",get:function get(){return this._delegate.email;}},{key:\"photoURL\",get:function get(){return this._delegate.photoURL;}},{key:\"providerId\",get:function get(){return this._delegate.providerId;}},{key:\"uid\",get:function get(){return this._delegate.uid;}},{key:\"auth\",get:function get(){return this._delegate.auth;}}],[{key:\"getOrCreate\",value:function getOrCreate(user){if(!User.USER_MAP.has(user)){User.USER_MAP.set(user,new User(user));}return User.USER_MAP.get(user);}}]);return User;}();// Maintain a map so that there's always a 1:1 mapping between new User and\n// legacy compat users\nUser.USER_MAP=new WeakMap();/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var _assert$1=exp._assert;var Auth=/*#__PURE__*/function(){function Auth(app,provider){_classCallCheck(this,Auth);this.app=app;if(provider.isInitialized()){this._delegate=provider.getImmediate();this.linkUnderlyingAuth();return;}var apiKey=app.options.apiKey;// TODO: platform needs to be determined using heuristics\n_assert$1(apiKey,\"invalid-api-key\"/* INVALID_API_KEY */,{appName:app.name});var persistences=[exp.inMemoryPersistence];// Only deal with persistences in web environments\nif(typeof window!=='undefined'){// Note this is slightly different behavior: in this case, the stored\n// persistence is checked *first* rather than last. This is because we want\n// to prefer stored persistence type in the hierarchy.\npersistences=_getPersistencesFromRedirect(apiKey,app.name);for(var _i=0,_arr=[exp.indexedDBLocalPersistence,exp.browserLocalPersistence,exp.browserSessionPersistence];_i<_arr.length;_i++){var persistence=_arr[_i];if(!persistences.includes(persistence)){persistences.push(persistence);}}}// TODO: platform needs to be determined using heuristics\n_assert$1(apiKey,\"invalid-api-key\"/* INVALID_API_KEY */,{appName:app.name});// Only use a popup/redirect resolver in browser environments\nvar resolver=typeof window!=='undefined'?CompatPopupRedirectResolver:undefined;this._delegate=provider.initialize({options:{persistence:persistences,popupRedirectResolver:resolver}});this._delegate._updateErrorMap(exp.debugErrorMap);this.linkUnderlyingAuth();}_createClass(Auth,[{key:\"emulatorConfig\",get:function get(){return this._delegate.emulatorConfig;}},{key:\"currentUser\",get:function get(){if(!this._delegate.currentUser){return null;}return User.getOrCreate(this._delegate.currentUser);}},{key:\"languageCode\",get:function get(){return this._delegate.languageCode;},set:function set(languageCode){this._delegate.languageCode=languageCode;}},{key:\"settings\",get:function get(){return this._delegate.settings;}},{key:\"tenantId\",get:function get(){return this._delegate.tenantId;},set:function set(tid){this._delegate.tenantId=tid;}},{key:\"useDeviceLanguage\",value:function useDeviceLanguage(){this._delegate.useDeviceLanguage();}},{key:\"signOut\",value:function signOut(){return this._delegate.signOut();}},{key:\"useEmulator\",value:function useEmulator(url,options){exp.connectAuthEmulator(this._delegate,url,options);}},{key:\"applyActionCode\",value:function applyActionCode(code){return exp.applyActionCode(this._delegate,code);}},{key:\"checkActionCode\",value:function checkActionCode(code){return exp.checkActionCode(this._delegate,code);}},{key:\"confirmPasswordReset\",value:function confirmPasswordReset(code,newPassword){return exp.confirmPasswordReset(this._delegate,code,newPassword);}},{key:\"createUserWithEmailAndPassword\",value:function(){var _createUserWithEmailAndPassword=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee12(email,password){return _regeneratorRuntime.wrap(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:return _context12.abrupt(\"return\",convertCredential(this._delegate,exp.createUserWithEmailAndPassword(this._delegate,email,password)));case 1:case\"end\":return _context12.stop();}}},_callee12,this);}));function createUserWithEmailAndPassword(_x21,_x22){return _createUserWithEmailAndPassword.apply(this,arguments);}return createUserWithEmailAndPassword;}()},{key:\"fetchProvidersForEmail\",value:function fetchProvidersForEmail(email){return this.fetchSignInMethodsForEmail(email);}},{key:\"fetchSignInMethodsForEmail\",value:function fetchSignInMethodsForEmail(email){return exp.fetchSignInMethodsForEmail(this._delegate,email);}},{key:\"isSignInWithEmailLink\",value:function isSignInWithEmailLink(emailLink){return exp.isSignInWithEmailLink(this._delegate,emailLink);}},{key:\"getRedirectResult\",value:function(){var _getRedirectResult=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee13(){var credential;return _regeneratorRuntime.wrap(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:_assert$1(_isPopupRedirectSupported(),this._delegate,\"operation-not-supported-in-this-environment\"/* OPERATION_NOT_SUPPORTED */);_context13.next=3;return exp.getRedirectResult(this._delegate,CompatPopupRedirectResolver);case 3:credential=_context13.sent;if(credential){_context13.next=6;break;}return _context13.abrupt(\"return\",{credential:null,user:null});case 6:return _context13.abrupt(\"return\",convertCredential(this._delegate,Promise.resolve(credential)));case 7:case\"end\":return _context13.stop();}}},_callee13,this);}));function getRedirectResult(){return _getRedirectResult.apply(this,arguments);}return getRedirectResult;}()// This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n// It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it\n// out of autogenerated documentation pages to reduce accidental misuse.\n},{key:\"addFrameworkForLogging\",value:function addFrameworkForLogging(framework){exp.addFrameworkForLogging(this._delegate,framework);}},{key:\"onAuthStateChanged\",value:function onAuthStateChanged(nextOrObserver,errorFn,completed){var _wrapObservers=wrapObservers(nextOrObserver,errorFn,completed),next=_wrapObservers.next,error=_wrapObservers.error,complete=_wrapObservers.complete;return this._delegate.onAuthStateChanged(next,error,complete);}},{key:\"onIdTokenChanged\",value:function onIdTokenChanged(nextOrObserver,errorFn,completed){var _wrapObservers2=wrapObservers(nextOrObserver,errorFn,completed),next=_wrapObservers2.next,error=_wrapObservers2.error,complete=_wrapObservers2.complete;return this._delegate.onIdTokenChanged(next,error,complete);}},{key:\"sendSignInLinkToEmail\",value:function sendSignInLinkToEmail(email,actionCodeSettings){return exp.sendSignInLinkToEmail(this._delegate,email,actionCodeSettings);}},{key:\"sendPasswordResetEmail\",value:function sendPasswordResetEmail(email,actionCodeSettings){return exp.sendPasswordResetEmail(this._delegate,email,actionCodeSettings||undefined);}},{key:\"setPersistence\",value:function(){var _setPersistence=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee14(persistence){var converted,isIndexedDBFullySupported;return _regeneratorRuntime.wrap(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:_validatePersistenceArgument(this._delegate,persistence);_context14.t0=persistence;_context14.next=_context14.t0===Persistence.SESSION?4:_context14.t0===Persistence.LOCAL?6:_context14.t0===Persistence.NONE?11:13;break;case 4:converted=exp.browserSessionPersistence;return _context14.abrupt(\"break\",14);case 6:_context14.next=8;return exp._getInstance(exp.indexedDBLocalPersistence)._isAvailable();case 8:isIndexedDBFullySupported=_context14.sent;converted=isIndexedDBFullySupported?exp.indexedDBLocalPersistence:exp.browserLocalPersistence;return _context14.abrupt(\"break\",14);case 11:converted=exp.inMemoryPersistence;return _context14.abrupt(\"break\",14);case 13:return _context14.abrupt(\"return\",exp._fail(\"argument-error\"/* ARGUMENT_ERROR */,{appName:this._delegate.name}));case 14:return _context14.abrupt(\"return\",this._delegate.setPersistence(converted));case 15:case\"end\":return _context14.stop();}}},_callee14,this);}));function setPersistence(_x23){return _setPersistence.apply(this,arguments);}return setPersistence;}()},{key:\"signInAndRetrieveDataWithCredential\",value:function signInAndRetrieveDataWithCredential(credential){return this.signInWithCredential(credential);}},{key:\"signInAnonymously\",value:function signInAnonymously(){return convertCredential(this._delegate,exp.signInAnonymously(this._delegate));}},{key:\"signInWithCredential\",value:function signInWithCredential(credential){return convertCredential(this._delegate,exp.signInWithCredential(this._delegate,credential));}},{key:\"signInWithCustomToken\",value:function signInWithCustomToken(token){return convertCredential(this._delegate,exp.signInWithCustomToken(this._delegate,token));}},{key:\"signInWithEmailAndPassword\",value:function signInWithEmailAndPassword(email,password){return convertCredential(this._delegate,exp.signInWithEmailAndPassword(this._delegate,email,password));}},{key:\"signInWithEmailLink\",value:function signInWithEmailLink(email,emailLink){return convertCredential(this._delegate,exp.signInWithEmailLink(this._delegate,email,emailLink));}},{key:\"signInWithPhoneNumber\",value:function signInWithPhoneNumber(phoneNumber,applicationVerifier){return convertConfirmationResult(this._delegate,exp.signInWithPhoneNumber(this._delegate,phoneNumber,applicationVerifier));}},{key:\"signInWithPopup\",value:function(){var _signInWithPopup=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee15(provider){return _regeneratorRuntime.wrap(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:_assert$1(_isPopupRedirectSupported(),this._delegate,\"operation-not-supported-in-this-environment\"/* OPERATION_NOT_SUPPORTED */);return _context15.abrupt(\"return\",convertCredential(this._delegate,exp.signInWithPopup(this._delegate,provider,CompatPopupRedirectResolver)));case 2:case\"end\":return _context15.stop();}}},_callee15,this);}));function signInWithPopup(_x24){return _signInWithPopup.apply(this,arguments);}return signInWithPopup;}()},{key:\"signInWithRedirect\",value:function(){var _signInWithRedirect=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee16(provider){return _regeneratorRuntime.wrap(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:_assert$1(_isPopupRedirectSupported(),this._delegate,\"operation-not-supported-in-this-environment\"/* OPERATION_NOT_SUPPORTED */);_context16.next=3;return _savePersistenceForRedirect(this._delegate);case 3:return _context16.abrupt(\"return\",exp.signInWithRedirect(this._delegate,provider,CompatPopupRedirectResolver));case 4:case\"end\":return _context16.stop();}}},_callee16,this);}));function signInWithRedirect(_x25){return _signInWithRedirect.apply(this,arguments);}return signInWithRedirect;}()},{key:\"updateCurrentUser\",value:function updateCurrentUser(user){// remove ts-ignore once overloads are defined for exp functions to accept compat objects\n// @ts-ignore\nreturn this._delegate.updateCurrentUser(user);}},{key:\"verifyPasswordResetCode\",value:function verifyPasswordResetCode(code){return exp.verifyPasswordResetCode(this._delegate,code);}},{key:\"unwrap\",value:function unwrap(){return this._delegate;}},{key:\"_delete\",value:function _delete(){return this._delegate._delete();}},{key:\"linkUnderlyingAuth\",value:function linkUnderlyingAuth(){var _this=this;this._delegate.wrapped=function(){return _this;};}}]);return Auth;}();Auth.Persistence=Persistence;function wrapObservers(nextOrObserver,error,complete){var next=nextOrObserver;if(typeof nextOrObserver!=='function'){next=nextOrObserver.next;error=nextOrObserver.error;complete=nextOrObserver.complete;}// We know 'next' is now a function\nvar oldNext=next;var newNext=function newNext(user){return oldNext(user&&User.getOrCreate(user));};return{next:newNext,error:error,complete:complete};}/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var PhoneAuthProvider=/*#__PURE__*/function(){function PhoneAuthProvider(){_classCallCheck(this,PhoneAuthProvider);this.providerId='phone';// TODO: remove ts-ignore when moving types from auth-types to auth-compat\n// @ts-ignore\nthis._delegate=new exp.PhoneAuthProvider(unwrap(firebase.auth()));}_createClass(PhoneAuthProvider,[{key:\"verifyPhoneNumber\",value:function verifyPhoneNumber(phoneInfoOptions,applicationVerifier){return this._delegate.verifyPhoneNumber(// The implementation matches but the types are subtly incompatible\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nphoneInfoOptions,applicationVerifier);}},{key:\"unwrap\",value:function unwrap(){return this._delegate;}}],[{key:\"credential\",value:function credential(verificationId,verificationCode){return exp.PhoneAuthProvider.credential(verificationId,verificationCode);}}]);return PhoneAuthProvider;}();PhoneAuthProvider.PHONE_SIGN_IN_METHOD=exp.PhoneAuthProvider.PHONE_SIGN_IN_METHOD;PhoneAuthProvider.PROVIDER_ID=exp.PhoneAuthProvider.PROVIDER_ID;/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var _assert=exp._assert;var RecaptchaVerifier=/*#__PURE__*/function(){function RecaptchaVerifier(container,parameters){var app=arguments.length>2&&arguments[2]!==undefined?arguments[2]:firebase.app();_classCallCheck(this,RecaptchaVerifier);var _a;// API key is required for web client RPC calls.\n_assert((_a=app.options)===null||_a===void 0?void 0:_a.apiKey,\"invalid-api-key\"/* INVALID_API_KEY */,{appName:app.name});this._delegate=new exp.RecaptchaVerifier(container,// eslint-disable-next-line @typescript-eslint/no-explicit-any\nparameters,// TODO: remove ts-ignore when moving types from auth-types to auth-compat\n// @ts-ignore\napp.auth());this.type=this._delegate.type;}_createClass(RecaptchaVerifier,[{key:\"clear\",value:function clear(){this._delegate.clear();}},{key:\"render\",value:function render(){return this._delegate.render();}},{key:\"verify\",value:function verify(){return this._delegate.verify();}}]);return RecaptchaVerifier;}();/**\r\n * @license\r\n * Copyright 2020 Google LLC\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */var AUTH_TYPE='auth-compat';// Create auth components to register with firebase.\n// Provides Auth public APIs.\nfunction registerAuthCompat(instance){instance.INTERNAL.registerComponent(new Component(AUTH_TYPE,function(container){// getImmediate for FirebaseApp will always succeed\nvar app=container.getProvider('app-compat').getImmediate();var authProvider=container.getProvider('auth');return new Auth(app,authProvider);},\"PUBLIC\"/* PUBLIC */).setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:exp.ActionCodeOperation.EMAIL_SIGNIN,PASSWORD_RESET:exp.ActionCodeOperation.PASSWORD_RESET,RECOVER_EMAIL:exp.ActionCodeOperation.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:exp.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:exp.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:exp.ActionCodeOperation.VERIFY_EMAIL}},EmailAuthProvider:exp.EmailAuthProvider,FacebookAuthProvider:exp.FacebookAuthProvider,GithubAuthProvider:exp.GithubAuthProvider,GoogleAuthProvider:exp.GoogleAuthProvider,OAuthProvider:exp.OAuthProvider,SAMLAuthProvider:exp.SAMLAuthProvider,PhoneAuthProvider:PhoneAuthProvider,PhoneMultiFactorGenerator:exp.PhoneMultiFactorGenerator,RecaptchaVerifier:RecaptchaVerifier,TwitterAuthProvider:exp.TwitterAuthProvider,Auth:Auth,AuthCredential:exp.AuthCredential,Error:FirebaseError}).setInstantiationMode(\"LAZY\"/* LAZY */).setMultipleInstances(false));instance.registerVersion(name,version);}registerAuthCompat(firebase);","map":{"version":3,"sources":["C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\platform.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\persistence.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\popup_redirect.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\wrap.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\user_credential.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\user.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\auth.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\phone_auth_provider.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\src\\recaptcha_verifier.ts","C:\\Users\\asus\\ecommerce project\\ecommerce\\ecommerce-app\\server\\client\\src\\node_modules\\@firebase\\auth-compat\\index.ts"],"names":["impl","_assert","CompatAuthProvider","CompatRecaptchaVerifier"],"mappings":"y8BAAA;;;;;;;;;;;;;;;GAiCA,GAAM,CAAA,gCAAgC,CAAG,IAAzC,CAEA,QAAS,CAAA,iBAAT,EAA0B,C,OACxB,MAAO,CAAA,CAAA,EAAA,CAAA,IAAI,GAAA,IAAJ,EAAA,IAAI,GAAA,IAAA,EAAJ,CAAI,IAAA,EAAJ,CAAA,IAAI,CAAE,QAAN,IAAc,IAAd,EAAc,EAAA,GAAA,IAAA,EAAd,CAAc,IAAA,EAAd,CAAc,EAAA,CAAE,QAAhB,GAA4B,IAAnC,CACD,CAED;;GAGA,QAAS,CAAA,cAAT,EAAuB,CACrB,MAAO,CAAA,iBAAiB,KAAO,OAAxB,EAAmC,iBAAiB,KAAO,QAAlE,CACD,CAED;;;;WAKgB,CAAA,4B,EAAiD,IAApB,CAAA,EAAoB,2DAAP,KAAK,EAAE,CAC/D,MAAO,CAAC,EACN,CAAC,iBAAiB,KAAO,OAAxB,EAAmC,iBAAiB,KAAO,QAA5D,GACA,EAAE,CAAC,WAAH,GAAiB,KAAjB,CAAuB,0BAAvB,CAFM,CAAR,CAID,CAED;;;GAIA,QAAS,CAAA,oBAAT,EAA6B,CAC3B,MAAO,CAAA,aAAa,IAAM,MAAM,EAAhC,CACD,CAED;;;GAIA,QAAS,CAAA,OAAT,EAAgB,CACd,MAAO,CAAA,IAAI,IAAM,CAAA,QAAQ,GAAA,IAAR,EAAA,QAAQ,GAAA,IAAA,EAAR,CAAQ,IAAA,EAAR,CAAA,QAAQ,CAAE,YAAV,IAA2B,EAA5C,CACD,CAED;;;;GAKA,QAAS,CAAA,OAAT,EAAqC,IAApB,CAAA,EAAoB,2DAAP,KAAK,EAAE,CACnC,MAAO,aAAY,IAAZ,CAAiB,EAAjB,CAAP,CACD,CAED;;;;GAKA,QAAS,CAAA,8BAAT,EAA4D,IAApB,CAAA,EAAoB,2DAAP,KAAK,EAAE,CAC1D,MAAO,CAAA,OAAO,IAAM,OAAO,CAAC,EAAD,CAA3B,CACD,CAED,0D,QACgB,CAAA,sB,EAAsB,CACpC,GAAI,CACF,GAAM,CAAA,OAAO,CAAG,IAAI,CAAC,YAArB,CACA,GAAM,CAAA,GAAG,CAAGA,GAAI,CAAC,gBAALA,EAAZ,CACA,GAAI,OAAJ,CAAa,C;;AAGX,OAAO,CAAC,SAAD,CAAP,CAAmB,GAAnB,CAAwB,GAAxB,EACA,OAAO,CAAC,YAAD,CAAP,CAAsB,GAAtB,E;;;;;AAMA,GAAI,8BAA8B,EAAlC,CAAsC,C;;AAGpC,MAAO,CAAA,oBAAoB,EAA3B,CACD,CACD,MAAO,KAAP,CACD,CACF,CAAC,MAAO,CAAP,CAAU,C;;AAGV,MAAO,CAAA,SAAS,IAAM,oBAAoB,EAA1C,CACD,CACD,MAAO,MAAP,CACD,CAED;;;WAIgB,CAAA,S,EAAS,C;AAEvB,MACE,OAAO,CAAA,MAAP,GAAkB,WAAlB,EACA,qBAAuB,CAAA,MADvB,EAEA,iBAAmB,CAAA,MAHrB,CAKD,C,QAEe,CAAA,yB,EAAyB,CACvC,MACE,CAAC,cAAc,IACb,kBAAkB,EADnB,EAEC,4BAA4B,EAF9B,G;;AAKA,CAAC,oBAAoB,EALrB,E;;AAQA,sBAAsB,EARtB,E;AAUA,CAAC,SAAS,EAXZ,CAaD,CAED,+D,QACgB,CAAA,gB,EAAgB,CAC9B,MAAO,CAAA,4BAA4B,IAAM,MAAO,CAAA,QAAP,GAAoB,WAA7D,CACD,C,QAEqB,CAAA,U,6CC5JtB;;;;;;;;;;;;;;;8FD4JO,gJACA,gBAAgB,EADhB,6DAEI,KAFJ,2CAKE,GAAI,CAAA,OAAJ,CAAY,SAAA,OAAO,CAAA,CACxB,GAAM,CAAA,SAAS,CAAG,UAAU,CAAC,UAAA,C;AAE3B,OAAO,CAAC,KAAD,CAAP,CACD,CAH2B,CAGzB,gCAHyB,CAA5B,CAKA,QAAQ,CAAC,gBAAT,CAA0B,aAA1B,CAAyC,UAAA,CACvC,YAAY,CAAC,SAAD,CAAZ,CACA,OAAO,CAAC,IAAD,CAAP,CACD,CAHD,EAID,CAVM,CALF,4D,6CCvIA,GAAM,CAAA,WAAW,CAAG,CACzB,KAAK,CAAE,OADkB,CAEzB,IAAI,CAAE,MAFmB,CAGzB,OAAO,CAAE,SAHgB,CAApB,CAMP,GAAMC,CAAAA,SAAO,CAAuB,GAAG,CAAC,OAAxC,CAEA,GAAM,CAAA,eAAe,CAAG,aAAxB,CAEA;;;WAIgB,CAAA,4B,CACd,I,CACA,W,CAAmB,CAEnBA,SAAO,CACL,MAAM,CAAC,MAAP,CAAc,WAAd,EAA2B,QAA3B,CAAoC,WAApC,CADK,CAEL,IAFK,CAED,0BAAA,yBAFC,CAAPA,C;AAMA,GAAI,aAAa,EAAjB,CAAqB,C;AAEnBA,SAAO,CACL,WAAW,GAAK,WAAW,CAAC,OADvB,CAEL,IAFK,CAED,8BAAA,6BAFC,CAAPA,CAKA,OACD,CACD,GAAI,MAAM,EAAV,CAAc,C;AAEZA,SAAO,CACL,WAAW,GAAK,WAAW,CAAC,IADvB,CAEL,IAFK,CAED,8BAAA,6BAFC,CAAPA,CAKA,OACD,CACD,GAAI,SAAS,EAAb,CAAiB,C;;AAGfA,SAAO,CACL,WAAW,GAAK,WAAW,CAAC,IAA5B,EACG,WAAW,GAAK,WAAW,CAAC,KAA5B,EAAqC,oBAAoB,EAFvD,CAGL,IAHK,CAGD,8BAAA,6BAHC,CAAPA,CAMA,OACD,C;AAEDA,SAAO,CACL,WAAW,GAAK,WAAW,CAAC,IAA5B,EAAoC,sBAAsB,EADrD,CAEL,IAFK,CAED,8BAAA,6BAFC,CAAPA,CAKD,C,QAEqB,CAAA,2B,6LAAf,mBACL,IADK,8JAGC,CAAA,IAAI,CAAC,sBAHN,QAKC,GALD,CAKO,aAAa,EALpB,CAMC,GAND,CAMO,GAAG,CAAC,mBAAJ,CACV,eADU,CAEV,IAAI,CAAC,MAAL,CAAY,MAFF,CAGV,IAAI,CAAC,IAHK,CANP,CAWL,GAAI,GAAG,GAAA,IAAH,EAAA,GAAG,GAAA,IAAA,EAAH,CAAG,IAAA,EAAH,CAAA,GAAG,CAAE,cAAT,CAAyB,CACvB,GAAG,CAAC,cAAJ,CAAmB,OAAnB,CAA2B,GAA3B,CAAgC,IAAI,CAAC,eAAL,EAAhC,EACD,CAbI,0D,sEAgBS,CAAA,4B,CACd,M,CACA,O,CAAe,CAEf,GAAM,CAAA,GAAG,CAAG,aAAa,EAAzB,CACA,GAAI,EAAC,GAAG,GAAA,IAAH,EAAA,GAAG,GAAA,IAAA,EAAH,CAAG,IAAA,EAAH,CAAA,GAAG,CAAE,cAAN,CAAJ,CAA0B,CACxB,MAAO,EAAP,CACD,CAED,GAAM,CAAA,GAAG,CAAG,GAAG,CAAC,mBAAJ,CAAwB,eAAxB,CAAyC,MAAzC,CAAiD,OAAjD,CAAZ,CACA,GAAM,CAAA,WAAW,CAAG,GAAG,CAAC,cAAJ,CAAmB,OAAnB,CAA2B,GAA3B,CAApB,CAEA,OAAQ,WAAR,EACE,IAAK,CAAA,WAAW,CAAC,IAAjB,CACE,MAAO,CAAC,GAAG,CAAC,mBAAL,CAAP,CACF,IAAK,CAAA,WAAW,CAAC,KAAjB,CACE,MAAO,CAAC,GAAG,CAAC,yBAAL,CAAgC,GAAG,CAAC,yBAApC,CAAP,CACF,IAAK,CAAA,WAAW,CAAC,OAAjB,CACE,MAAO,CAAC,GAAG,CAAC,yBAAL,CAAP,CACF,QACE,MAAO,EAAP,CARJ,CAUD,CAED,QAAS,CAAA,aAAT,EAAsB,CACpB,MAAO,OAAO,CAAA,MAAP,GAAkB,WAAlB,CAAgC,MAAhC,CAAyC,IAAhD,CACF,CC5HA;;;;;;;;;;;;;;;GAoBA,GAAMA,CAAAA,SAAO,CAAuB,GAAG,CAAC,OAAxC,CAEA,gD,GACa,CAAA,2B,yBAAb,sCAAA,mD;AAImB,KAAA,eAAA,CACf,GAAG,CAAC,YAAJ,CAAiB,GAAG,CAAC,4BAArB,CADe,CAEA,KAAA,eAAA,CACf,GAAG,CAAC,YAAJ,CAAiB,GAAG,CAAC,4BAArB,CADe,C;AAGT,KAAA,kBAAA,CAA+D,IAA/D,CACR,KAAA,oBAAA,CAAuB,GAAG,CAAC,yBAA3B,CAEA,KAAA,mBAAA,CAI0C,GAAG,CAAC,kBAJ9C,CAyED,C,uJAnEC,iBAAkB,IAAlB,wIACQ,MAAK,wBAAL,EADR,wCAES,KAAK,0BAAL,CAAgC,WAAhC,CAA4C,IAA5C,CAFT,6D,2MAKA,kBACE,IADF,CAEE,QAFF,CAGE,QAHF,CAIE,OAJF,6IAMQ,MAAK,wBAAL,EANR,yCAOS,KAAK,0BAAL,CAAgC,UAAhC,CACL,IADK,CAEL,QAFK,CAGL,QAHK,CAIL,OAJK,CAPT,+D,0NAeA,kBACE,IADF,CAEE,QAFF,CAGE,QAHF,CAIE,OAJF,6IAMQ,MAAK,wBAAL,EANR,yCAOS,KAAK,0BAAL,CAAgC,aAAhC,CACL,IADK,CAEL,QAFK,CAGL,QAHK,CAIL,OAJK,CAPT,+D,6JAeA,sCACE,IADF,CAEE,EAFF,CAEmC,CAEjC,KAAK,0BAAL,CAAgC,4BAAhC,CAA6D,IAA7D,CAAmE,EAAnE,EACD,C,iCAED,2BAAkB,IAAlB,CAAgC,CAC9B,MAAO,MAAK,0BAAL,CAAgC,iBAAhC,CAAkD,IAAlD,CAAP,CACD,C,oCAED,cAA0B,CACxB,MAAO,CAAA,gBAAgB,IAAM,KAAK,eAAL,CAAqB,sBAAlD,CACD,C,wCAED,cAAsC,CACpCA,SAAO,CAAC,KAAK,kBAAN,CAAwB,gBAAA,oBAAxB,CAAPA,CACA,MAAO,MAAK,kBAAZ,CACD,C,yIAEO,0JACF,KAAK,kBADH,0FAOkB,CAAA,UAAU,EAP5B,QAOA,SAPA,gBAQN,KAAK,kBAAL,CAA0B,SAAS,CAC/B,KAAK,eAD0B,CAE/B,KAAK,eAFT,CARM,6D,6KChGV;;;;;;;;;;;;;;;WA2BgB,CAAA,M,CAAU,M,CAAe,CACvC,MAAQ,CAAA,MAAqB,CAAC,MAAtB,EAAR,CACD,C,QAEe,CAAA,O,CAAW,M,CAAe,CACxC,MAAQ,CAAA,MAA4B,CAAC,OAA7B,EAAR,CACF,CCjCA;;;;;;;;;;;;;;;GAwBA,QAAS,CAAA,sBAAT,CACE,cADF,CAC4C,CAE1C,MAAO,CAAA,oBAAoB,CAAC,cAAD,CAA3B,CACD,CAED,QAAS,CAAA,sBAAT,CAAgC,IAAhC,CAAgD,CAAhD,CAAgE,C;;AAG9D,GAAM,CAAA,QAAQ,CAAG,CAAA,EAAA,CAAC,CAAC,CAAC,UAAH,IAAyD,IAAzD,EAAyD,EAAA,GAAA,IAAA,EAAzD,CAAyD,IAAA,EAAzD,CAAyD,EAAA,CACtE,cADJ,CAEA,GAAI,CAAC,CAAC,IAAF,GAAW,iCAAf,CAAkD,CAChD,GAAM,CAAA,MAAM,CAAG,CAAf,CACA,MAAM,CAAC,QAAP,CAAkB,GAAI,CAAA,mBAAJ,CAChB,IADgB,CAEhB,GAAG,CAAC,sBAAJ,CAA2B,IAA3B,CAAiC,CAAjC,CAFgB,CAAlB,CAID,CAND,IAMO,IAAI,QAAJ,CAAc,CACnB,GAAM,CAAA,UAAU,CAAG,oBAAoB,CAAC,CAAD,CAAvC,CACA,GAAM,CAAA,OAAO,CAAG,CAAhB,CACA,GAAI,UAAJ,CAAgB,CACd,OAAO,CAAC,UAAR,CAAqB,UAArB,CACA,OAAO,CAAC,QAAR,CAAmB,QAAQ,CAAC,QAAT,EAAqB,SAAxC,CACA,OAAO,CAAC,KAAR,CAAgB,QAAQ,CAAC,KAAT,EAAkB,SAAlC,CACA,OAAO,CAAC,WAAR,CAAsB,QAAQ,CAAC,WAAT,EAAwB,SAA9C,CACD,CACF,CACF,CAED,QAAS,CAAA,oBAAT,CACE,MADF,CAC4C,CAE1C,SACE,MAAM,WAAY,CAAA,aAAlB,CAAkC,MAAM,CAAC,UAAzC,CAAsD,MADxD,CAAQ,cAAR,MAAQ,cAAR,CAGA,GAAI,CAAC,cAAL,CAAqB,CACnB,MAAO,KAAP,CACD,C;;;AAKD,GAAI,EAAE,MAAM,WAAY,CAAA,aAApB,CAAJ,CAAwC,CACtC,GAAI,kBAAoB,CAAA,cAApB,EAAsC,eAAiB,CAAA,cAA3D,CAA2E,CACzE,MAAO,CAAA,GAAG,CAAC,iBAAJ,CAAsB,oBAAtB,CAA2C,MAA3C,CAAP,CACD,CACF,CAED,GAAM,CAAA,UAAU,CAAG,cAAc,CAAC,UAAlC,C;;AAIA,GAAI,CAAC,UAAD,EAAe,UAAU,GAAK,GAAG,CAAC,UAAJ,CAAe,QAAjD,CAA2D,CACzD,MAAO,KAAP,CACD,CAED,GAAI,CAAA,QAAJ,CAIA,OAAQ,UAAR,EACE,IAAK,CAAA,GAAG,CAAC,UAAJ,CAAe,MAApB,CACE,QAAQ,CAAG,GAAG,CAAC,kBAAf,CACA,MACF,IAAK,CAAA,GAAG,CAAC,UAAJ,CAAe,QAApB,CACE,QAAQ,CAAG,GAAG,CAAC,oBAAf,CACA,MACF,IAAK,CAAA,GAAG,CAAC,UAAJ,CAAe,MAApB,CACE,QAAQ,CAAG,GAAG,CAAC,kBAAf,CACA,MACF,IAAK,CAAA,GAAG,CAAC,UAAJ,CAAe,OAApB,CACE,QAAQ,CAAG,GAAG,CAAC,mBAAf,CACA,MACF,QACE,GACE,CAAA,YADF,CAMI,cANJ,CACE,YADF,CAEE,gBAFF,CAMI,cANJ,CAEE,gBAFF,CAGE,gBAHF,CAMI,cANJ,CAGE,gBAHF,CAIE,YAJF,CAMI,cANJ,CAIE,YAJF,CAKE,KALF,CAMI,cANJ,CAKE,KALF,CAOA,GACE,CAAC,gBAAD,EACA,CAAC,gBADD,EAEA,CAAC,YAFD,EAGA,CAAC,YAJH,CAKE,CACA,MAAO,KAAP,CACD,C;AAED,GAAI,YAAJ,CAAkB,CAChB,GAAI,UAAU,CAAC,UAAX,CAAsB,OAAtB,CAAJ,CAAoC,CAClC,MAAO,CAAA,GAAG,CAAC,kBAAJ,CAAuB,OAAvB,CAA+B,UAA/B,CAA2C,YAA3C,CAAP,CACD,CAFD,IAEO,C;AAEL,MAAO,CAAA,GAAG,CAAC,eAAJ,CAAoB,WAApB,CAAgC,CACrC,UAAU,CAAV,UADqC,CAErC,YAAY,CAAE,UAFuB,CAGrC,YAAY,CAAZ,YAHqC,CAIrC,OAAO,CAAE,YAJ4B,CAKrC,WAAW,CAAE,gBALwB,CAAhC,CAAP,CAOD,CACF,CACD,MAAO,IAAI,CAAA,GAAG,CAAC,aAAR,CAAsB,UAAtB,EAAkC,UAAlC,CAA6C,CAClD,OAAO,CAAE,YADyC,CAElD,WAAW,CAAE,gBAFqC,CAGlD,QAAQ,CAAE,KAHwC,CAA7C,CAAP,CA5CJ,CAmDA,MAAO,CAAA,MAAM,WAAY,CAAA,aAAlB,CACH,QAAQ,CAAC,mBAAT,CAA6B,MAA7B,CADG,CAEH,QAAQ,CAAC,oBAAT,CAA8B,MAA9B,CAFJ,CAGD,C,QAEe,CAAA,iB,CACd,I,CACA,iB,CAA8C,CAE9C,MAAO,CAAA,iBAAiB,CACrB,KADI,CACE,SAAA,CAAC,CAAA,CACN,GAAI,CAAC,WAAY,CAAA,aAAjB,CAAgC,CAC9B,sBAAsB,CAAC,IAAD,CAAO,CAAP,CAAtB,CACD,CACD,KAAM,CAAA,CAAN,CACD,CANI,EAOJ,IAPI,CAOC,SAAA,UAAU,CAAA,CACd,GAAM,CAAA,aAAa,CAAG,UAAU,CAAC,aAAjC,CACA,GAAM,CAAA,IAAI,CAAG,UAAU,CAAC,IAAxB,CAEA,MAAO,CACL,aAAa,CAAb,aADK,CAEL,UAAU,CAAE,sBAAsB,CAChC,UADgC,CAF7B,CAKL,kBAAkB,CAAE,GAAG,CAAC,qBAAJ,CAClB,UADkB,CALf,CAQL,IAAI,CAAE,IAAI,CAAC,WAAL,CAAiB,IAAjB,CARD,CAAP,CAUD,CArBI,CAAP,CAsBD,C,QAEqB,CAAA,yB,8LAAf,mBACL,IADK,CAEL,yBAFK,4KAI+B,CAAA,yBAJ/B,QAIC,qBAJD,mDAKE,CACL,cAAc,CAAE,qBAAqB,CAAC,cADjC,CAEL,OAAO,CAAE,iBAAC,gBAAD,QACP,CAAA,iBAAiB,CAAC,IAAD,CAAO,qBAAqB,CAAC,OAAtB,CAA8B,gBAA9B,CAAP,CADV,EAFJ,CALF,4D,+DAYD,CAAA,mB,yBAEJ,6BACE,IADF,CAEmB,QAFnB,CAEoD,2CAAjC,KAAA,QAAA,CAAA,QAAA,CAEjB,KAAK,IAAL,CAAY,OAAO,CAAC,IAAD,CAAnB,CACD,C,qDAED,cAAW,CACT,MAAO,MAAK,QAAL,CAAc,OAArB,CACD,C,mBAED,cAAS,CACP,MAAO,MAAK,QAAL,CAAc,KAArB,CACD,C,6BAED,uBACE,SADF,CACwC,CAEtC,MAAO,CAAA,iBAAiB,CACtB,MAAM,CAAC,KAAK,IAAN,CADgB,CAEtB,KAAK,QAAL,CAAc,aAAd,CAA4B,SAA5B,CAFsB,CAAxB,CAID,C,mCC5MH;;;;;;;;;;;;;;;MA2Ba,CAAA,I,yBAOX,cAA6B,SAA7B,CAAgD,4BAAnB,KAAA,SAAA,CAAA,SAAA,CAC3B,KAAK,WAAL,CAAmB,GAAG,CAAC,WAAJ,CAAgB,SAAhB,CAAnB,CACD,C,uCAUD,kBAAM,CACJ,MAAO,MAAK,SAAL,CAAe,MAAf,EAAP,CACD,C,sBACD,iBAAM,CACJ,MAAO,MAAK,SAAL,CAAe,MAAf,EAAP,CACD,C,sBACD,iBAAM,CACJ,MAAO,MAAK,SAAL,CAAe,MAAf,EAAP,CACD,C,gCACD,0BAAiB,YAAjB,CAAuC,CACrC,MAAO,MAAK,SAAL,CAAe,gBAAf,CAAgC,YAAhC,CAAP,CACD,C,0BACD,oBAAW,YAAX,CAAiC,CAC/B,MAAO,MAAK,SAAL,CAAe,UAAf,CAA0B,YAA1B,CAAP,CACD,C,iDACD,2CACE,UADF,CACmC,CAEjC,MAAO,MAAK,kBAAL,CAAwB,UAAxB,CAAP,CACD,C,6HACD,kBACE,UADF,uJAGS,iBAAiB,CACtB,KAAK,IADiB,CAEtB,GAAG,CAAC,kBAAJ,CAAuB,KAAK,SAA5B,CAAuC,UAAvC,CAFsB,CAH1B,+D,mPAQA,kBACE,WADF,CAEE,mBAFF,uJAIS,yBAAyB,CAC9B,KAAK,IADyB,CAE9B,GAAG,CAAC,mBAAJ,CAAwB,KAAK,SAA7B,CAAwC,WAAxC,CAAqD,mBAArD,CAF8B,CAJlC,+D,+OASA,kBACE,QADF,uJAGS,iBAAiB,CACtB,KAAK,IADiB,CAEtB,GAAG,CAAC,aAAJ,CACE,KAAK,SADP,CAEE,QAFF,CAGE,2BAHF,CAFsB,CAH1B,+D,8NAYA,kBAAuB,QAAvB,6IACQ,CAAA,2BAA2B,CAAC,GAAG,CAAC,SAAJ,CAAc,KAAK,IAAnB,CAAD,CADnC,yCAES,GAAG,CAAC,gBAAJ,CACL,KAAK,SADA,CAEL,QAFK,CAGL,2BAHK,CAFT,+D,yKAQA,qDACE,UADF,CACmC,CAEjC,MAAO,MAAK,4BAAL,CAAkC,UAAlC,CAAP,CACD,C,iJACD,kBACE,UADF,uJAGS,iBAAiB,CACtB,KAAK,IADiB,CAEtB,GAAG,CAAC,4BAAJ,CACE,KAAK,SADP,CAEE,UAFF,CAFsB,CAH1B,+D,+LAWA,uCACE,WADF,CAEE,mBAFF,CAEiD,CAE/C,MAAO,CAAA,yBAAyB,CAC9B,KAAK,IADyB,CAE9B,GAAG,CAAC,6BAAJ,CACE,KAAK,SADP,CAEE,WAFF,CAGE,mBAHF,CAF8B,CAAhC,CAQD,C,uCACD,iCACE,QADF,CAC+B,CAE7B,MAAO,CAAA,iBAAiB,CACtB,KAAK,IADiB,CAEtB,GAAG,CAAC,uBAAJ,CACE,KAAK,SADP,CAEE,QAFF,CAGE,2BAHF,CAFsB,CAAxB,CAQD,C,6IACD,mBACE,QADF,kJAGQ,CAAA,2BAA2B,CAAC,GAAG,CAAC,SAAJ,CAAc,KAAK,IAAnB,CAAD,CAHnC,0CAIS,GAAG,CAAC,0BAAJ,CACL,KAAK,SADA,CAEL,QAFK,CAGL,2BAHK,CAJT,iE,iLAUA,+BACE,kBADF,CACuD,CAErD,MAAO,CAAA,GAAG,CAAC,qBAAJ,CAA0B,KAAK,SAA/B,CAA0C,kBAA1C,CAAP,CACD,C,qGACD,mBAAa,UAAb,kJACQ,CAAA,GAAG,CAAC,MAAJ,CAAW,KAAK,SAAhB,CAA2B,UAA3B,CADR,0CAES,IAFT,iE,2GAIA,qBAAY,QAAZ,CAA4B,CAC1B,MAAO,CAAA,GAAG,CAAC,WAAJ,CAAgB,KAAK,SAArB,CAAgC,QAAhC,CAAP,CACD,C,8BACD,wBAAe,WAAf,CAAkC,CAChC,MAAO,CAAA,GAAG,CAAC,cAAJ,CAAmB,KAAK,SAAxB,CAAmC,WAAnC,CAAP,CACD,C,iCACD,2BAAkB,eAAlB,CAAwD,CACtD,MAAO,CAAA,GAAG,CAAC,iBAAJ,CACL,KAAK,SADA,CAEL,eAFK,CAAP,CAID,C,6BACD,uBAAc,OAAd,CAGC,CACC,MAAO,CAAA,GAAG,CAAC,aAAJ,CAAkB,KAAK,SAAvB,CAAkC,OAAlC,CAAP,CACD,C,uCACD,iCACE,QADF,CAEE,kBAFF,CAEuD,CAErD,MAAO,CAAA,GAAG,CAAC,uBAAJ,CACL,KAAK,SADA,CAEL,QAFK,CAGL,kBAHK,CAAP,CAKD,C,2BACD,cAAiB,CACf,MAAO,MAAK,SAAL,CAAe,aAAtB,CACD,C,yBACD,cAAe,CACb,MAAO,MAAK,SAAL,CAAe,WAAtB,CACD,C,sBACD,cAAY,CACV,MAAO,MAAK,SAAL,CAAe,QAAtB,CACD,C,yBACD,cAAe,CACb,MAAO,MAAK,SAAL,CAAe,WAAtB,CACD,C,0BACD,cAAgB,CACd,MAAO,MAAK,SAAL,CAAe,YAAtB,CACD,C,0BACD,cAAgB,CACd,MAAO,MAAK,SAAL,CAAe,YAAtB,CACD,C,sBACD,cAAY,CACV,MAAO,MAAK,SAAL,CAAe,QAAtB,CACD,C,yBACD,cAAe,CACb,MAAO,MAAK,SAAL,CAAe,WAAtB,CACD,C,mBACD,cAAS,CACP,MAAO,MAAK,SAAL,CAAe,KAAtB,CACD,C,sBACD,cAAY,CACV,MAAO,MAAK,SAAL,CAAe,QAAtB,CACD,C,wBACD,cAAc,CACZ,MAAO,MAAK,SAAL,CAAe,UAAtB,CACD,C,iBACD,cAAO,CACL,MAAO,MAAK,SAAL,CAAe,GAAtB,CACD,C,kBACD,cAAgB,CACd,MAAQ,MAAK,SAAL,CAAgC,IAAxC,CACD,C,6BA/LD,qBAAmB,IAAnB,CAAiC,CAC/B,GAAI,CAAC,IAAI,CAAC,QAAL,CAAc,GAAd,CAAkB,IAAlB,CAAL,CAA8B,CAC5B,IAAI,CAAC,QAAL,CAAc,GAAd,CAAkB,IAAlB,CAAwB,GAAI,CAAA,IAAJ,CAAS,IAAT,CAAxB,EACD,CAED,MAAO,CAAA,IAAI,CAAC,QAAL,CAAc,GAAd,CAAkB,IAAlB,CAAP,CACD,C,oBAhBD;AACA;AACwB,IAAA,CAAA,QAAA,CAAW,GAAI,CAAA,OAAJ,EAAX,CC9B1B;;;;;;;;;;;;;;;GAsCA,GAAMA,CAAAA,SAAO,CAAuB,GAAG,CAAC,OAAxC,C,GAEa,CAAA,I,yBAMX,cAAqB,GAArB,CAAuC,QAAvC,CAAiE,4BAA5C,KAAA,GAAA,CAAA,GAAA,CACnB,GAAI,QAAQ,CAAC,aAAT,EAAJ,CAA8B,CAC5B,KAAK,SAAL,CAAiB,QAAQ,CAAC,YAAT,EAAjB,CACA,KAAK,kBAAL,GACA,OACD,CAED,GAAQ,CAAA,MAAR,CAAmB,GAAG,CAAC,OAAvB,CAAQ,MAAR,C;AAEAA,SAAO,CAAC,MAAD,CAAO,iBAAA,qBAAP,CAA4C,CACjD,OAAO,CAAE,GAAG,CAAC,IADoC,CAA5C,CAAPA,CAIA,GAAI,CAAA,YAAY,CAAsB,CAAC,GAAG,CAAC,mBAAL,CAAtC,C;AAGA,GAAI,MAAO,CAAA,MAAP,GAAkB,WAAtB,CAAmC,C;;;AAIjC,YAAY,CAAG,4BAA4B,CAAC,MAAD,CAAS,GAAG,CAAC,IAAb,CAA3C,CAEA,kBAA0B,CACxB,GAAG,CAAC,yBADoB,CAExB,GAAG,CAAC,uBAFoB,CAGxB,GAAG,CAAC,yBAHoB,CAA1B,qBAIG,CAJE,GAAM,CAAA,WAAW,SAAjB,CAKH,GAAI,CAAC,YAAY,CAAC,QAAb,CAAsB,WAAtB,CAAL,CAAyC,CACvC,YAAY,CAAC,IAAb,CAAkB,WAAlB,EACD,CACF,CACF,C;AAGDA,SAAO,CAAC,MAAD,CAAO,iBAAA,qBAAP,CAA4C,CACjD,OAAO,CAAE,GAAG,CAAC,IADoC,CAA5C,CAAPA,C;AAKA,GAAM,CAAA,QAAQ,CACZ,MAAO,CAAA,MAAP,GAAkB,WAAlB,CAAgC,2BAAhC,CAA8D,SADhE,CAEA,KAAK,SAAL,CAAiB,QAAQ,CAAC,UAAT,CAAoB,CACnC,OAAO,CAAE,CACP,WAAW,CAAE,YADN,CAEP,qBAAqB,CAAE,QAFhB,CAD0B,CAApB,CAAjB,CAOA,KAAK,SAAL,CAAe,eAAf,CAA+B,GAAG,CAAC,aAAnC,EACA,KAAK,kBAAL,GACD,C,6CAED,cAAkB,CAChB,MAAO,MAAK,SAAL,CAAe,cAAtB,CACD,C,yBAED,cAAe,CACb,GAAI,CAAC,KAAK,SAAL,CAAe,WAApB,CAAiC,CAC/B,MAAO,KAAP,CACD,CAED,MAAO,CAAA,IAAI,CAAC,WAAL,CAAiB,KAAK,SAAL,CAAe,WAAhC,CAAP,CACD,C,0BACD,cAAgB,CACd,MAAO,MAAK,SAAL,CAAe,YAAtB,CACD,C,KACD,aAAiB,YAAjB,CAA4C,CAC1C,KAAK,SAAL,CAAe,YAAf,CAA8B,YAA9B,CACD,C,sBACD,cAAY,CACV,MAAO,MAAK,SAAL,CAAe,QAAtB,CACD,C,sBACD,cAAY,CACV,MAAO,MAAK,SAAL,CAAe,QAAtB,CACD,C,KACD,aAAa,GAAb,CAA+B,CAC7B,KAAK,SAAL,CAAe,QAAf,CAA0B,GAA1B,CACD,C,iCACD,4BAAiB,CACf,KAAK,SAAL,CAAe,iBAAf,GACD,C,uBACD,kBAAO,CACL,MAAO,MAAK,SAAL,CAAe,OAAf,EAAP,CACD,C,2BACD,qBAAY,GAAZ,CAAyB,OAAzB,CAA+D,CAC7D,GAAG,CAAC,mBAAJ,CAAwB,KAAK,SAA7B,CAAwC,GAAxC,CAA6C,OAA7C,EACD,C,+BACD,yBAAgB,IAAhB,CAA4B,CAC1B,MAAO,CAAA,GAAG,CAAC,eAAJ,CAAoB,KAAK,SAAzB,CAAoC,IAApC,CAAP,CACD,C,+BAED,yBAAgB,IAAhB,CAA4B,CAC1B,MAAO,CAAA,GAAG,CAAC,eAAJ,CAAoB,KAAK,SAAzB,CAAoC,IAApC,CAAP,CACD,C,oCAED,8BAAqB,IAArB,CAAmC,WAAnC,CAAsD,CACpD,MAAO,CAAA,GAAG,CAAC,oBAAJ,CAAyB,KAAK,SAA9B,CAAyC,IAAzC,CAA+C,WAA/C,CAAP,CACD,C,qJAED,mBACE,KADF,CAEE,QAFF,4JAIS,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,8BAAJ,CAAmC,KAAK,SAAxC,CAAmD,KAAnD,CAA0D,QAA1D,CAFsB,CAJ1B,iE,mMASA,gCAAuB,KAAvB,CAAoC,CAClC,MAAO,MAAK,0BAAL,CAAgC,KAAhC,CAAP,CACD,C,0CACD,oCAA2B,KAA3B,CAAwC,CACtC,MAAO,CAAA,GAAG,CAAC,0BAAJ,CAA+B,KAAK,SAApC,CAA+C,KAA/C,CAAP,CACD,C,qCACD,+BAAsB,SAAtB,CAAuC,CACrC,MAAO,CAAA,GAAG,CAAC,qBAAJ,CAA0B,KAAK,SAA/B,CAA0C,SAA1C,CAAP,CACD,C,2HACD,4JACEA,SAAO,CACL,yBAAyB,EADpB,CAEL,KAAK,SAFA,CAES,6CAAA,6BAFT,CAAPA,CADF,wBAM2B,CAAA,GAAG,CAAC,iBAAJ,CACvB,KAAK,SADkB,CAEvB,2BAFuB,CAN3B,QAMQ,UANR,oBAUO,UAVP,6DAWW,CACL,UAAU,CAAE,IADP,CAEL,IAAI,CAAE,IAFD,CAXX,2CAgBS,iBAAiB,CAAC,KAAK,SAAN,CAAiB,OAAO,CAAC,OAAR,CAAgB,UAAhB,CAAjB,CAhB1B,iE;;;sCAsBA,gCAAuB,SAAvB,CAAwC,CACtC,GAAG,CAAC,sBAAJ,CAA2B,KAAK,SAAhC,CAA2C,SAA3C,EACD,C,kCAED,4BACE,cADF,CAEE,OAFF,CAGE,SAHF,CAGyB,CAEvB,mBAAkC,aAAa,CAC7C,cAD6C,CAE7C,OAF6C,CAG7C,SAH6C,CAA/C,CAAQ,IAAR,gBAAQ,IAAR,CAAc,KAAd,gBAAc,KAAd,CAAqB,QAArB,gBAAqB,QAArB,CAKA,MAAO,MAAK,SAAL,CAAe,kBAAf,CAAkC,IAAlC,CAAyC,KAAzC,CAAgD,QAAhD,CAAP,CACD,C,gCACD,0BACE,cADF,CAEE,OAFF,CAGE,SAHF,CAGyB,CAEvB,oBAAkC,aAAa,CAC7C,cAD6C,CAE7C,OAF6C,CAG7C,SAH6C,CAA/C,CAAQ,IAAR,iBAAQ,IAAR,CAAc,KAAd,iBAAc,KAAd,CAAqB,QAArB,iBAAqB,QAArB,CAKA,MAAO,MAAK,SAAL,CAAe,gBAAf,CAAgC,IAAhC,CAAuC,KAAvC,CAA8C,QAA9C,CAAP,CACD,C,qCACD,+BACE,KADF,CAEE,kBAFF,CAE+C,CAE7C,MAAO,CAAA,GAAG,CAAC,qBAAJ,CAA0B,KAAK,SAA/B,CAA0C,KAA1C,CAAiD,kBAAjD,CAAP,CACD,C,sCACD,gCACE,KADF,CAEE,kBAFF,CAEuD,CAErD,MAAO,CAAA,GAAG,CAAC,sBAAJ,CACL,KAAK,SADA,CAEL,KAFK,CAGL,kBAAkB,EAAI,SAHjB,CAAP,CAKD,C,qHACD,mBAAqB,WAArB,kKACE,4BAA4B,CAAC,KAAK,SAAN,CAAiB,WAAjB,CAA5B,CADF,cAGU,WAHV,iCAIS,WAAW,CAAC,OAJrB,mBAOS,WAAW,CAAC,KAPrB,mBAgBS,WAAW,CAAC,IAhBrB,oBAKM,SAAS,CAAG,GAAG,CAAC,yBAAhB,CALN,oEAS8C,CAAA,GAAG,CACxC,YADqC,CACC,GAAG,CAAC,yBADL,EAErC,YAFqC,EAT9C,QASY,yBATZ,iBAYM,SAAS,CAAG,yBAAyB,CACjC,GAAG,CAAC,yBAD6B,CAEjC,GAAG,CAAC,uBAFR,CAZN,6CAiBM,SAAS,CAAG,GAAG,CAAC,mBAAhB,CAjBN,+EAoBa,GAAG,CAAC,KAAJ,CAAS,gBAAA,oBAAT,CAA4C,CACjD,OAAO,CAAE,KAAK,SAAL,CAAe,IADyB,CAA5C,CApBb,4CAyBS,KAAK,SAAL,CAAe,cAAf,CAA8B,SAA9B,CAzBT,kE,2JA4BA,6CACE,UADF,CACmC,CAEjC,MAAO,MAAK,oBAAL,CAA0B,UAA1B,CAAP,CACD,C,iCACD,4BAAiB,CACf,MAAO,CAAA,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,iBAAJ,CAAsB,KAAK,SAA3B,CAFsB,CAAxB,CAID,C,oCACD,8BACE,UADF,CACmC,CAEjC,MAAO,CAAA,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,oBAAJ,CAAyB,KAAK,SAA9B,CAAyC,UAAzC,CAFsB,CAAxB,CAID,C,qCACD,+BAAsB,KAAtB,CAAmC,CACjC,MAAO,CAAA,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,qBAAJ,CAA0B,KAAK,SAA/B,CAA0C,KAA1C,CAFsB,CAAxB,CAID,C,0CACD,oCACE,KADF,CAEE,QAFF,CAEkB,CAEhB,MAAO,CAAA,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,0BAAJ,CAA+B,KAAK,SAApC,CAA+C,KAA/C,CAAsD,QAAtD,CAFsB,CAAxB,CAID,C,mCACD,6BACE,KADF,CAEE,SAFF,CAEoB,CAElB,MAAO,CAAA,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,mBAAJ,CAAwB,KAAK,SAA7B,CAAwC,KAAxC,CAA+C,SAA/C,CAFsB,CAAxB,CAID,C,qCACD,+BACE,WADF,CAEE,mBAFF,CAEiD,CAE/C,MAAO,CAAA,yBAAyB,CAC9B,KAAK,SADyB,CAE9B,GAAG,CAAC,qBAAJ,CACE,KAAK,SADP,CAEE,WAFF,CAGE,mBAHF,CAF8B,CAAhC,CAQD,C,uHACD,mBACE,QADF,0HAGEA,SAAO,CACL,yBAAyB,EADpB,CAEL,KAAK,SAFA,CAES,6CAAA,6BAFT,CAAPA,CAHF,kCAQS,iBAAiB,CACtB,KAAK,SADiB,CAEtB,GAAG,CAAC,eAAJ,CACE,KAAK,SADP,CAEE,QAFF,CAGE,2BAHF,CAFsB,CAR1B,iE,wOAiBA,mBAAyB,QAAzB,0HACEA,SAAO,CACL,yBAAyB,EADpB,CAEL,KAAK,SAFA,CAES,6CAAA,6BAFT,CAAPA,CADF,wBAOQ,CAAA,2BAA2B,CAAC,KAAK,SAAN,CAPnC,0CAQS,GAAG,CAAC,kBAAJ,CACL,KAAK,SADA,CAEL,QAFK,CAGL,2BAHK,CART,iE,qJAcA,2BAAkB,IAAlB,CAA0C,C;;AAGxC,MAAO,MAAK,SAAL,CAAe,iBAAf,CAAiC,IAAjC,CAAP,CACD,C,uCACD,iCAAwB,IAAxB,CAAoC,CAClC,MAAO,CAAA,GAAG,CAAC,uBAAJ,CAA4B,KAAK,SAAjC,CAA4C,IAA5C,CAAP,CACD,C,sBACD,iBAAM,CACJ,MAAO,MAAK,SAAZ,CACD,C,uBACD,kBAAO,CACL,MAAO,MAAK,SAAL,CAAe,OAAf,EAAP,CACD,C,kCACO,6BAAkB,gBACvB,KAAK,SAAL,CAAmD,OAAnD,CAA6D,iBAAM,CAAA,KAAN,EAA7D,CACF,C,oBA7TM,IAAA,CAAA,WAAA,CAAc,WAAd,CAgUT,QAAS,CAAA,aAAT,CACE,cADF,CAEE,KAFF,CAGE,QAHF,CAGwB,CAEtB,GAAI,CAAA,IAAI,CAAG,cAAX,CACA,GAAI,MAAO,CAAA,cAAP,GAA0B,UAA9B,CAA0C,CACrC,IADqC,CACX,cADW,CACrC,IADqC,CAC/B,KAD+B,CACX,cADW,CAC/B,KAD+B,CACxB,QADwB,CACX,cADW,CACxB,QADwB,CAEzC,C;AAGD,GAAM,CAAA,OAAO,CAAG,IAAhB,CAEA,GAAM,CAAA,OAAO,CAAG,QAAV,CAAA,OAAU,CAAC,IAAD,QACd,CAAA,OAAO,CAAC,IAAI,EAAI,IAAI,CAAC,WAAL,CAAiB,IAAjB,CAAT,CADO,EAAhB,CAEA,MAAO,CACL,IAAI,CAAE,OADD,CAEL,KAAK,CAAE,KAFF,CAGL,QAAQ,CAAR,QAHK,CAAP,CAKF,CC/XA;;;;;;;;;;;;;;;MAuBa,CAAA,iB,yBAgBX,4BAAA,yCAbA,KAAA,UAAA,CAAa,OAAb,C;;AAgBE,KAAK,SAAL,CAAiB,GAAI,CAAA,GAAG,CAAC,iBAAR,CAA0B,MAAM,CAAC,QAAQ,CAAC,IAAT,EAAD,CAAhC,CAAjB,CACD,C,+DAED,2BACE,gBADF,CAME,mBANF,CAMiD,CAE/C,MAAO,MAAK,SAAL,CAAe,iBAAf,C;;AAGL,gBAHK,CAIL,mBAJK,CAAP,CAMD,C,sBAED,iBAAM,CACJ,MAAO,MAAK,SAAZ,CACD,C,4BA/BD,oBACE,cADF,CAEE,gBAFF,CAE0B,CAExB,MAAO,CAAA,GAAG,CAAC,iBAAJ,CAAsB,UAAtB,CAAiC,cAAjC,CAAiD,gBAAjD,CAAP,CACD,C,iCARM,iBAAA,CAAA,oBAAA,CAAuB,GAAG,CAAC,iBAAJ,CAAsB,oBAA7C,CACA,iBAAA,CAAA,WAAA,CAAc,GAAG,CAAC,iBAAJ,CAAsB,WAApC,CC9BT;;;;;;;;;;;;;;;GAsBA,GAAM,CAAA,OAAO,CAAuB,GAAG,CAAC,OAAxC,C,GAEa,CAAA,iB,yBAKX,2BACE,SADF,CAEE,UAFF,CAGmC,IAAjC,CAAA,GAAiC,2DAAd,QAAQ,CAAC,GAAT,EAAc,yC;AAGjC,OAAO,CAAC,CAAA,EAAA,CAAA,GAAG,CAAC,OAAJ,IAAW,IAAX,EAAW,EAAA,GAAA,IAAA,EAAX,CAAW,IAAA,EAAX,CAAW,EAAA,CAAE,MAAd,CAAoB,iBAAA,qBAApB,CAAyD,CAC9D,OAAO,CAAE,GAAG,CAAC,IADiD,CAAzD,CAAP,CAGA,KAAK,SAAL,CAAiB,GAAI,CAAA,GAAG,CAAC,iBAAR,CACf,SADe,C;AAGf,UAHe,C;;AAOf,GAAG,CAAC,IAAJ,EAPe,CAAjB,CASA,KAAK,IAAL,CAAY,KAAK,SAAL,CAAe,IAA3B,CACD,C,mDACD,gBAAK,CACH,KAAK,SAAL,CAAe,KAAf,GACD,C,sBACD,iBAAM,CACJ,MAAO,MAAK,SAAL,CAAe,MAAf,EAAP,CACD,C,sBACD,iBAAM,CACJ,MAAO,MAAK,SAAL,CAAe,MAAf,EAAP,CACD,C,iCCzDH;;;;;;;;;;;;;;;GAkCA,GAAM,CAAA,SAAS,CAAG,aAAlB,CAqCA;AACA;AACA,QAAS,CAAA,kBAAT,CAA4B,QAA5B,CAAwD,CACtD,QAAQ,CAAC,QAAT,CAAkB,iBAAlB,CACE,GAAI,CAAA,SAAJ,CACE,SADF,CAEE,SAAA,SAAS,CAAA,C;AAEP,GAAM,CAAA,GAAG,CAAG,SAAS,CAAC,WAAV,CAAsB,YAAtB,EAAoC,YAApC,EAAZ,CACA,GAAM,CAAA,YAAY,CAAG,SAAS,CAAC,WAAV,CAAsB,MAAtB,CAArB,CACA,MAAO,IAAI,CAAA,IAAJ,CAAS,GAAT,CAAc,YAAd,CAAP,CACD,CAPH,CAOG,QAAA,YAPH,EAUG,eAVH,CAUmB,CACf,cAAc,CAAE,CACd,SAAS,CAAE,CACT,YAAY,CAAED,GAAI,CAAC,mBAALA,CAAyB,YAD9B,CAET,cAAc,CAAEA,GAAI,CAAC,mBAALA,CAAyB,cAFhC,CAGT,aAAa,CAAEA,GAAI,CAAC,mBAALA,CAAyB,aAH/B,CAIT,6BAA6B,CAC3BA,GAAI,CAAC,mBAALA,CAAyB,6BALlB,CAMT,uBAAuB,CACrBA,GAAI,CAAC,mBAALA,CAAyB,uBAPlB,CAQT,YAAY,CAAEA,GAAI,CAAC,mBAALA,CAAyB,YAR9B,CADG,CADD,CAaf,iBAAiB,CAAEA,GAAI,CAAC,iBAbT,CAcf,oBAAoB,CAAEA,GAAI,CAAC,oBAdZ,CAef,kBAAkB,CAAEA,GAAI,CAAC,kBAfV,CAgBf,kBAAkB,CAAEA,GAAI,CAAC,kBAhBV,CAiBf,aAAa,CAAEA,GAAI,CAAC,aAjBL,CAkBf,gBAAgB,CAAEA,GAAI,CAAC,gBAlBR,CAmBf,iBAAiB,CAAEE,iBAnBJ,CAoBf,yBAAyB,CAAEF,GAAI,CAAC,yBApBjB,CAqBf,iBAAiB,CAAEG,iBArBJ,CAsBf,mBAAmB,CAAEH,GAAI,CAAC,mBAtBX,CAuBf,IAAI,CAAJ,IAvBe,CAwBf,cAAc,CAAEA,GAAI,CAAC,cAxBN,CAyBf,KAAK,CAAE,aAzBQ,CAVnB,EAqCG,oBArCH,CAqCuB,MAAA,UArCvB,EAsCG,oBAtCH,CAsCwB,KAtCxB,CADF,EA0CA,QAAQ,CAAC,eAAT,CAAyB,IAAzB,CAA+B,OAA/B,EACD,CAED,kBAAkB,CAAC,QAAD,CAAlB","sourcesContent":["/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as impl from '@firebase/auth/internal';\nimport {\n  getUA,\n  isBrowserExtension,\n  isReactNative,\n  isNode,\n  isIE,\n  isIndexedDBAvailable\n} from '@firebase/util';\n\ndeclare global {\n  interface Document {\n    documentMode?: number;\n  }\n}\n\nconst CORDOVA_ONDEVICEREADY_TIMEOUT_MS = 1000;\n\nfunction _getCurrentScheme(): string | null {\n  return self?.location?.protocol || null;\n}\n\n/**\n * @return {boolean} Whether the current environment is http or https.\n */\nfunction _isHttpOrHttps(): boolean {\n  return _getCurrentScheme() === 'http:' || _getCurrentScheme() === 'https:';\n}\n\n/**\n * @param {?string=} ua The user agent.\n * @return {boolean} Whether the app is rendered in a mobile iOS or Android\n *     Cordova environment.\n */\nexport function _isAndroidOrIosCordovaScheme(ua: string = getUA()): boolean {\n  return !!(\n    (_getCurrentScheme() === 'file:' || _getCurrentScheme() === 'ionic:') &&\n    ua.toLowerCase().match(/iphone|ipad|ipod|android/)\n  );\n}\n\n/**\n * @return {boolean} Whether the environment is a native environment, where\n *     CORS checks do not apply.\n */\nfunction _isNativeEnvironment(): boolean {\n  return isReactNative() || isNode();\n}\n\n/**\n * Checks whether the user agent is IE11.\n * @return {boolean} True if it is IE11.\n */\nfunction _isIe11(): boolean {\n  return isIE() && document?.documentMode === 11;\n}\n\n/**\n * Checks whether the user agent is Edge.\n * @param {string} userAgent The browser user agent string.\n * @return {boolean} True if it is Edge.\n */\nfunction _isEdge(ua: string = getUA()): boolean {\n  return /Edge\\/\\d+/.test(ua);\n}\n\n/**\n * @param {?string=} opt_userAgent The navigator user agent.\n * @return {boolean} Whether local storage is not synchronized between an iframe\n *     and a popup of the same domain.\n */\nfunction _isLocalStorageNotSynchronized(ua: string = getUA()): boolean {\n  return _isIe11() || _isEdge(ua);\n}\n\n/** @return {boolean} Whether web storage is supported. */\nexport function _isWebStorageSupported(): boolean {\n  try {\n    const storage = self.localStorage;\n    const key = impl._generateEventId();\n    if (storage) {\n      // setItem will throw an exception if we cannot access WebStorage (e.g.,\n      // Safari in private mode).\n      storage['setItem'](key, '1');\n      storage['removeItem'](key);\n      // For browsers where iframe web storage does not synchronize with a popup\n      // of the same domain, indexedDB is used for persistent storage. These\n      // browsers include IE11 and Edge.\n      // Make sure it is supported (IE11 and Edge private mode does not support\n      // that).\n      if (_isLocalStorageNotSynchronized()) {\n        // In such browsers, if indexedDB is not supported, an iframe cannot be\n        // notified of the popup sign in result.\n        return isIndexedDBAvailable();\n      }\n      return true;\n    }\n  } catch (e) {\n    // localStorage is not available from a worker. Test availability of\n    // indexedDB.\n    return _isWorker() && isIndexedDBAvailable();\n  }\n  return false;\n}\n\n/**\n * @param {?Object=} global The optional global scope.\n * @return {boolean} Whether current environment is a worker.\n */\nexport function _isWorker(): boolean {\n  // WorkerGlobalScope only defined in worker environment.\n  return (\n    typeof global !== 'undefined' &&\n    'WorkerGlobalScope' in global &&\n    'importScripts' in global\n  );\n}\n\nexport function _isPopupRedirectSupported(): boolean {\n  return (\n    (_isHttpOrHttps() ||\n      isBrowserExtension() ||\n      _isAndroidOrIosCordovaScheme()) &&\n    // React Native with remote debugging reports its location.protocol as\n    // http.\n    !_isNativeEnvironment() &&\n    // Local storage has to be supported for browser popup and redirect\n    // operations to work.\n    _isWebStorageSupported() &&\n    // DOM, popups and redirects are not supported within a worker.\n    !_isWorker()\n  );\n}\n\n/** Quick check that indicates the platform *may* be Cordova */\nexport function _isLikelyCordova(): boolean {\n  return _isAndroidOrIosCordovaScheme() && typeof document !== 'undefined';\n}\n\nexport async function _isCordova(): Promise<boolean> {\n  if (!_isLikelyCordova()) {\n    return false;\n  }\n\n  return new Promise(resolve => {\n    const timeoutId = setTimeout(() => {\n      // We've waited long enough; the telltale Cordova event didn't happen\n      resolve(false);\n    }, CORDOVA_ONDEVICEREADY_TIMEOUT_MS);\n\n    document.addEventListener('deviceready', () => {\n      clearTimeout(timeoutId);\n      resolve(true);\n    });\n  });\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as exp from '@firebase/auth/internal';\nimport { isIndexedDBAvailable, isNode, isReactNative } from '@firebase/util';\nimport { _isWebStorageSupported, _isWorker } from './platform';\n\nexport const Persistence = {\n  LOCAL: 'local',\n  NONE: 'none',\n  SESSION: 'session'\n};\n\nconst _assert: typeof exp._assert = exp._assert;\n\nconst PERSISTENCE_KEY = 'persistence';\n\n/**\n * Validates that an argument is a valid persistence value. If an invalid type\n * is specified, an error is thrown synchronously.\n */\nexport function _validatePersistenceArgument(\n  auth: exp.Auth,\n  persistence: string\n): void {\n  _assert(\n    Object.values(Persistence).includes(persistence),\n    auth,\n    exp.AuthErrorCode.INVALID_PERSISTENCE\n  );\n  // Validate if the specified type is supported in the current environment.\n  if (isReactNative()) {\n    // This is only supported in a browser.\n    _assert(\n      persistence !== Persistence.SESSION,\n      auth,\n      exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE\n    );\n    return;\n  }\n  if (isNode()) {\n    // Only none is supported in Node.js.\n    _assert(\n      persistence === Persistence.NONE,\n      auth,\n      exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE\n    );\n    return;\n  }\n  if (_isWorker()) {\n    // In a worker environment, either LOCAL or NONE are supported.\n    // If indexedDB not supported and LOCAL provided, throw an error\n    _assert(\n      persistence === Persistence.NONE ||\n        (persistence === Persistence.LOCAL && isIndexedDBAvailable()),\n      auth,\n      exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE\n    );\n    return;\n  }\n  // This is restricted by what the browser supports.\n  _assert(\n    persistence === Persistence.NONE || _isWebStorageSupported(),\n    auth,\n    exp.AuthErrorCode.UNSUPPORTED_PERSISTENCE\n  );\n}\n\nexport async function _savePersistenceForRedirect(\n  auth: exp.AuthInternal\n): Promise<void> {\n  await auth._initializationPromise;\n\n  const win = getSelfWindow();\n  const key = exp._persistenceKeyName(\n    PERSISTENCE_KEY,\n    auth.config.apiKey,\n    auth.name\n  );\n  if (win?.sessionStorage) {\n    win.sessionStorage.setItem(key, auth._getPersistence());\n  }\n}\n\nexport function _getPersistencesFromRedirect(\n  apiKey: string,\n  appName: string\n): exp.Persistence[] {\n  const win = getSelfWindow();\n  if (!win?.sessionStorage) {\n    return [];\n  }\n\n  const key = exp._persistenceKeyName(PERSISTENCE_KEY, apiKey, appName);\n  const persistence = win.sessionStorage.getItem(key);\n\n  switch (persistence) {\n    case Persistence.NONE:\n      return [exp.inMemoryPersistence];\n    case Persistence.LOCAL:\n      return [exp.indexedDBLocalPersistence, exp.browserSessionPersistence];\n    case Persistence.SESSION:\n      return [exp.browserSessionPersistence];\n    default:\n      return [];\n  }\n}\n\nfunction getSelfWindow(): Window | null {\n  return typeof window !== 'undefined' ? window : null;\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as exp from '@firebase/auth/internal';\nimport { _isCordova, _isLikelyCordova } from './platform';\n\nconst _assert: typeof exp._assert = exp._assert;\n\n/** Platform-agnostic popup-redirect resolver */\nexport class CompatPopupRedirectResolver\n  implements exp.PopupRedirectResolverInternal\n{\n  // Create both resolvers for dynamic resolution later\n  private readonly browserResolver: exp.PopupRedirectResolverInternal =\n    exp._getInstance(exp.browserPopupRedirectResolver);\n  private readonly cordovaResolver: exp.PopupRedirectResolverInternal =\n    exp._getInstance(exp.cordovaPopupRedirectResolver);\n  // The actual resolver in use: either browserResolver or cordovaResolver.\n  private underlyingResolver: exp.PopupRedirectResolverInternal | null = null;\n  _redirectPersistence = exp.browserSessionPersistence;\n\n  _completeRedirectFn: (\n    auth: exp.Auth,\n    resolver: exp.PopupRedirectResolver,\n    bypassAuthState: boolean\n  ) => Promise<exp.UserCredential | null> = exp._getRedirectResult;\n\n  async _initialize(auth: exp.AuthImpl): Promise<exp.EventManager> {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._initialize(auth);\n  }\n\n  async _openPopup(\n    auth: exp.AuthImpl,\n    provider: exp.AuthProvider,\n    authType: exp.AuthEventType,\n    eventId?: string\n  ): Promise<exp.AuthPopup> {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._openPopup(\n      auth,\n      provider,\n      authType,\n      eventId\n    );\n  }\n\n  async _openRedirect(\n    auth: exp.AuthImpl,\n    provider: exp.AuthProvider,\n    authType: exp.AuthEventType,\n    eventId?: string\n  ): Promise<void> {\n    await this.selectUnderlyingResolver();\n    return this.assertedUnderlyingResolver._openRedirect(\n      auth,\n      provider,\n      authType,\n      eventId\n    );\n  }\n\n  _isIframeWebStorageSupported(\n    auth: exp.AuthImpl,\n    cb: (support: boolean) => unknown\n  ): void {\n    this.assertedUnderlyingResolver._isIframeWebStorageSupported(auth, cb);\n  }\n\n  _originValidation(auth: exp.Auth): Promise<void> {\n    return this.assertedUnderlyingResolver._originValidation(auth);\n  }\n\n  get _shouldInitProactively(): boolean {\n    return _isLikelyCordova() || this.browserResolver._shouldInitProactively;\n  }\n\n  private get assertedUnderlyingResolver(): exp.PopupRedirectResolverInternal {\n    _assert(this.underlyingResolver, exp.AuthErrorCode.INTERNAL_ERROR);\n    return this.underlyingResolver;\n  }\n\n  private async selectUnderlyingResolver(): Promise<void> {\n    if (this.underlyingResolver) {\n      return;\n    }\n\n    // We haven't yet determined whether or not we're in Cordova; go ahead\n    // and determine that state now.\n    const isCordova = await _isCordova();\n    this.underlyingResolver = isCordova\n      ? this.cordovaResolver\n      : this.browserResolver;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** Forward direction wrapper from Compat --unwrap-> Exp */\nexport interface Wrapper<T> {\n  unwrap(): T;\n}\n\n/** Reverse direction wrapper from Exp --wrapped--> Compat */\nexport interface ReverseWrapper<T> {\n  wrapped(): T;\n}\n\nexport function unwrap<T>(object: unknown): T {\n  return (object as Wrapper<T>).unwrap();\n}\n\nexport function wrapped<T>(object: unknown): T {\n  return (object as ReverseWrapper<T>).wrapped();\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as exp from '@firebase/auth/internal';\nimport * as compat from '@firebase/auth-types';\nimport { FirebaseError } from '@firebase/util';\nimport { Auth } from './auth';\nimport { User } from './user';\nimport { unwrap, wrapped } from './wrap';\n\nfunction credentialFromResponse(\n  userCredential: exp.UserCredentialInternal\n): exp.AuthCredential | null {\n  return credentialFromObject(userCredential);\n}\n\nfunction attachExtraErrorFields(auth: exp.Auth, e: FirebaseError): void {\n  // The response contains all fields from the server which may or may not\n  // actually match the underlying type\n  const response = (e.customData as exp.TaggedWithTokenResponse | undefined)\n    ?._tokenResponse as unknown as Record<string, string>;\n  if (e.code === 'auth/multi-factor-auth-required') {\n    const mfaErr = e as compat.MultiFactorError;\n    mfaErr.resolver = new MultiFactorResolver(\n      auth,\n      exp.getMultiFactorResolver(auth, e as exp.MultiFactorError)\n    );\n  } else if (response) {\n    const credential = credentialFromObject(e);\n    const credErr = e as compat.AuthError;\n    if (credential) {\n      credErr.credential = credential;\n      credErr.tenantId = response.tenantId || undefined;\n      credErr.email = response.email || undefined;\n      credErr.phoneNumber = response.phoneNumber || undefined;\n    }\n  }\n}\n\nfunction credentialFromObject(\n  object: FirebaseError | exp.UserCredential\n): exp.AuthCredential | null {\n  const { _tokenResponse } = (\n    object instanceof FirebaseError ? object.customData : object\n  ) as exp.TaggedWithTokenResponse;\n  if (!_tokenResponse) {\n    return null;\n  }\n\n  // Handle phone Auth credential responses, as they have a different format\n  // from other backend responses (i.e. no providerId). This is also only the\n  // case for user credentials (does not work for errors).\n  if (!(object instanceof FirebaseError)) {\n    if ('temporaryProof' in _tokenResponse && 'phoneNumber' in _tokenResponse) {\n      return exp.PhoneAuthProvider.credentialFromResult(object);\n    }\n  }\n\n  const providerId = _tokenResponse.providerId;\n\n  // Email and password is not supported as there is no situation where the\n  // server would return the password to the client.\n  if (!providerId || providerId === exp.ProviderId.PASSWORD) {\n    return null;\n  }\n\n  let provider: Pick<\n    typeof exp.OAuthProvider,\n    'credentialFromResult' | 'credentialFromError'\n  >;\n  switch (providerId) {\n    case exp.ProviderId.GOOGLE:\n      provider = exp.GoogleAuthProvider;\n      break;\n    case exp.ProviderId.FACEBOOK:\n      provider = exp.FacebookAuthProvider;\n      break;\n    case exp.ProviderId.GITHUB:\n      provider = exp.GithubAuthProvider;\n      break;\n    case exp.ProviderId.TWITTER:\n      provider = exp.TwitterAuthProvider;\n      break;\n    default:\n      const {\n        oauthIdToken,\n        oauthAccessToken,\n        oauthTokenSecret,\n        pendingToken,\n        nonce\n      } = _tokenResponse as exp.SignInWithIdpResponse;\n      if (\n        !oauthAccessToken &&\n        !oauthTokenSecret &&\n        !oauthIdToken &&\n        !pendingToken\n      ) {\n        return null;\n      }\n      // TODO(avolkovi): uncomment this and get it working with SAML & OIDC\n      if (pendingToken) {\n        if (providerId.startsWith('saml.')) {\n          return exp.SAMLAuthCredential._create(providerId, pendingToken);\n        } else {\n          // OIDC and non-default providers excluding Twitter.\n          return exp.OAuthCredential._fromParams({\n            providerId,\n            signInMethod: providerId,\n            pendingToken,\n            idToken: oauthIdToken,\n            accessToken: oauthAccessToken\n          });\n        }\n      }\n      return new exp.OAuthProvider(providerId).credential({\n        idToken: oauthIdToken,\n        accessToken: oauthAccessToken,\n        rawNonce: nonce\n      });\n  }\n\n  return object instanceof FirebaseError\n    ? provider.credentialFromError(object)\n    : provider.credentialFromResult(object);\n}\n\nexport function convertCredential(\n  auth: exp.Auth,\n  credentialPromise: Promise<exp.UserCredential>\n): Promise<compat.UserCredential> {\n  return credentialPromise\n    .catch(e => {\n      if (e instanceof FirebaseError) {\n        attachExtraErrorFields(auth, e);\n      }\n      throw e;\n    })\n    .then(credential => {\n      const operationType = credential.operationType;\n      const user = credential.user;\n\n      return {\n        operationType,\n        credential: credentialFromResponse(\n          credential as exp.UserCredentialInternal\n        ),\n        additionalUserInfo: exp.getAdditionalUserInfo(\n          credential as exp.UserCredential\n        ),\n        user: User.getOrCreate(user)\n      };\n    });\n}\n\nexport async function convertConfirmationResult(\n  auth: exp.Auth,\n  confirmationResultPromise: Promise<exp.ConfirmationResult>\n): Promise<compat.ConfirmationResult> {\n  const confirmationResultExp = await confirmationResultPromise;\n  return {\n    verificationId: confirmationResultExp.verificationId,\n    confirm: (verificationCode: string) =>\n      convertCredential(auth, confirmationResultExp.confirm(verificationCode))\n  };\n}\n\nclass MultiFactorResolver implements compat.MultiFactorResolver {\n  readonly auth: Auth;\n  constructor(\n    auth: exp.Auth,\n    private readonly resolver: exp.MultiFactorResolver\n  ) {\n    this.auth = wrapped(auth);\n  }\n\n  get session(): compat.MultiFactorSession {\n    return this.resolver.session;\n  }\n\n  get hints(): compat.MultiFactorInfo[] {\n    return this.resolver.hints;\n  }\n\n  resolveSignIn(\n    assertion: compat.MultiFactorAssertion\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      unwrap(this.auth),\n      this.resolver.resolveSignIn(assertion as exp.MultiFactorAssertion)\n    );\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as exp from '@firebase/auth/internal';\nimport * as compat from '@firebase/auth-types';\nimport { Compat } from '@firebase/util';\nimport { _savePersistenceForRedirect } from './persistence';\nimport { CompatPopupRedirectResolver } from './popup_redirect';\nimport {\n  convertConfirmationResult,\n  convertCredential\n} from './user_credential';\n\nexport class User implements compat.User, Compat<exp.User> {\n  // Maintain a map so that there's always a 1:1 mapping between new User and\n  // legacy compat users\n  private static readonly USER_MAP = new WeakMap<exp.User, User>();\n\n  readonly multiFactor: compat.MultiFactorUser;\n\n  private constructor(readonly _delegate: exp.User) {\n    this.multiFactor = exp.multiFactor(_delegate);\n  }\n\n  static getOrCreate(user: exp.User): User {\n    if (!User.USER_MAP.has(user)) {\n      User.USER_MAP.set(user, new User(user));\n    }\n\n    return User.USER_MAP.get(user)!;\n  }\n\n  delete(): Promise<void> {\n    return this._delegate.delete();\n  }\n  reload(): Promise<void> {\n    return this._delegate.reload();\n  }\n  toJSON(): object {\n    return this._delegate.toJSON();\n  }\n  getIdTokenResult(forceRefresh?: boolean): Promise<compat.IdTokenResult> {\n    return this._delegate.getIdTokenResult(forceRefresh);\n  }\n  getIdToken(forceRefresh?: boolean): Promise<string> {\n    return this._delegate.getIdToken(forceRefresh);\n  }\n  linkAndRetrieveDataWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return this.linkWithCredential(credential);\n  }\n  async linkWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this.auth,\n      exp.linkWithCredential(this._delegate, credential as exp.AuthCredential)\n    );\n  }\n  async linkWithPhoneNumber(\n    phoneNumber: string,\n    applicationVerifier: compat.ApplicationVerifier\n  ): Promise<compat.ConfirmationResult> {\n    return convertConfirmationResult(\n      this.auth,\n      exp.linkWithPhoneNumber(this._delegate, phoneNumber, applicationVerifier)\n    );\n  }\n  async linkWithPopup(\n    provider: compat.AuthProvider\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this.auth,\n      exp.linkWithPopup(\n        this._delegate,\n        provider as exp.AuthProvider,\n        CompatPopupRedirectResolver\n      )\n    );\n  }\n  async linkWithRedirect(provider: compat.AuthProvider): Promise<void> {\n    await _savePersistenceForRedirect(exp._castAuth(this.auth));\n    return exp.linkWithRedirect(\n      this._delegate,\n      provider as exp.AuthProvider,\n      CompatPopupRedirectResolver\n    );\n  }\n  reauthenticateAndRetrieveDataWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return this.reauthenticateWithCredential(credential);\n  }\n  async reauthenticateWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this.auth as unknown as exp.Auth,\n      exp.reauthenticateWithCredential(\n        this._delegate,\n        credential as exp.AuthCredential\n      )\n    );\n  }\n  reauthenticateWithPhoneNumber(\n    phoneNumber: string,\n    applicationVerifier: compat.ApplicationVerifier\n  ): Promise<compat.ConfirmationResult> {\n    return convertConfirmationResult(\n      this.auth,\n      exp.reauthenticateWithPhoneNumber(\n        this._delegate,\n        phoneNumber,\n        applicationVerifier\n      )\n    );\n  }\n  reauthenticateWithPopup(\n    provider: compat.AuthProvider\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this.auth,\n      exp.reauthenticateWithPopup(\n        this._delegate,\n        provider as exp.AuthProvider,\n        CompatPopupRedirectResolver\n      )\n    );\n  }\n  async reauthenticateWithRedirect(\n    provider: compat.AuthProvider\n  ): Promise<void> {\n    await _savePersistenceForRedirect(exp._castAuth(this.auth));\n    return exp.reauthenticateWithRedirect(\n      this._delegate,\n      provider as exp.AuthProvider,\n      CompatPopupRedirectResolver\n    );\n  }\n  sendEmailVerification(\n    actionCodeSettings?: compat.ActionCodeSettings | null\n  ): Promise<void> {\n    return exp.sendEmailVerification(this._delegate, actionCodeSettings);\n  }\n  async unlink(providerId: string): Promise<compat.User> {\n    await exp.unlink(this._delegate, providerId);\n    return this;\n  }\n  updateEmail(newEmail: string): Promise<void> {\n    return exp.updateEmail(this._delegate, newEmail);\n  }\n  updatePassword(newPassword: string): Promise<void> {\n    return exp.updatePassword(this._delegate, newPassword);\n  }\n  updatePhoneNumber(phoneCredential: compat.AuthCredential): Promise<void> {\n    return exp.updatePhoneNumber(\n      this._delegate,\n      phoneCredential as exp.PhoneAuthCredential\n    );\n  }\n  updateProfile(profile: {\n    displayName?: string | null;\n    photoURL?: string | null;\n  }): Promise<void> {\n    return exp.updateProfile(this._delegate, profile);\n  }\n  verifyBeforeUpdateEmail(\n    newEmail: string,\n    actionCodeSettings?: compat.ActionCodeSettings | null\n  ): Promise<void> {\n    return exp.verifyBeforeUpdateEmail(\n      this._delegate,\n      newEmail,\n      actionCodeSettings\n    );\n  }\n  get emailVerified(): boolean {\n    return this._delegate.emailVerified;\n  }\n  get isAnonymous(): boolean {\n    return this._delegate.isAnonymous;\n  }\n  get metadata(): compat.UserMetadata {\n    return this._delegate.metadata;\n  }\n  get phoneNumber(): string | null {\n    return this._delegate.phoneNumber;\n  }\n  get providerData(): Array<compat.UserInfo | null> {\n    return this._delegate.providerData;\n  }\n  get refreshToken(): string {\n    return this._delegate.refreshToken;\n  }\n  get tenantId(): string | null {\n    return this._delegate.tenantId;\n  }\n  get displayName(): string | null {\n    return this._delegate.displayName;\n  }\n  get email(): string | null {\n    return this._delegate.email;\n  }\n  get photoURL(): string | null {\n    return this._delegate.photoURL;\n  }\n  get providerId(): string {\n    return this._delegate.providerId;\n  }\n  get uid(): string {\n    return this._delegate.uid;\n  }\n  private get auth(): exp.Auth {\n    return (this._delegate as exp.UserImpl).auth as unknown as exp.Auth;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { FirebaseApp, _FirebaseService } from '@firebase/app-compat';\nimport * as exp from '@firebase/auth/internal';\nimport * as compat from '@firebase/auth-types';\nimport { Provider } from '@firebase/component';\nimport { ErrorFn, Observer, Unsubscribe } from '@firebase/util';\n\nimport {\n  _validatePersistenceArgument,\n  Persistence,\n  _getPersistencesFromRedirect,\n  _savePersistenceForRedirect\n} from './persistence';\nimport { _isPopupRedirectSupported } from './platform';\nimport { CompatPopupRedirectResolver } from './popup_redirect';\nimport { User } from './user';\nimport {\n  convertConfirmationResult,\n  convertCredential\n} from './user_credential';\nimport { ReverseWrapper, Wrapper } from './wrap';\n\nconst _assert: typeof exp._assert = exp._assert;\n\nexport class Auth\n  implements compat.FirebaseAuth, Wrapper<exp.Auth>, _FirebaseService\n{\n  static Persistence = Persistence;\n  readonly _delegate: exp.AuthImpl;\n\n  constructor(readonly app: FirebaseApp, provider: Provider<'auth'>) {\n    if (provider.isInitialized()) {\n      this._delegate = provider.getImmediate() as exp.AuthImpl;\n      this.linkUnderlyingAuth();\n      return;\n    }\n\n    const { apiKey } = app.options;\n    // TODO: platform needs to be determined using heuristics\n    _assert(apiKey, exp.AuthErrorCode.INVALID_API_KEY, {\n      appName: app.name\n    });\n\n    let persistences: exp.Persistence[] = [exp.inMemoryPersistence];\n\n    // Only deal with persistences in web environments\n    if (typeof window !== 'undefined') {\n      // Note this is slightly different behavior: in this case, the stored\n      // persistence is checked *first* rather than last. This is because we want\n      // to prefer stored persistence type in the hierarchy.\n      persistences = _getPersistencesFromRedirect(apiKey, app.name);\n\n      for (const persistence of [\n        exp.indexedDBLocalPersistence,\n        exp.browserLocalPersistence,\n        exp.browserSessionPersistence\n      ]) {\n        if (!persistences.includes(persistence)) {\n          persistences.push(persistence);\n        }\n      }\n    }\n\n    // TODO: platform needs to be determined using heuristics\n    _assert(apiKey, exp.AuthErrorCode.INVALID_API_KEY, {\n      appName: app.name\n    });\n\n    // Only use a popup/redirect resolver in browser environments\n    const resolver =\n      typeof window !== 'undefined' ? CompatPopupRedirectResolver : undefined;\n    this._delegate = provider.initialize({\n      options: {\n        persistence: persistences,\n        popupRedirectResolver: resolver\n      }\n    }) as exp.AuthImpl;\n\n    this._delegate._updateErrorMap(exp.debugErrorMap);\n    this.linkUnderlyingAuth();\n  }\n\n  get emulatorConfig(): compat.EmulatorConfig | null {\n    return this._delegate.emulatorConfig;\n  }\n\n  get currentUser(): compat.User | null {\n    if (!this._delegate.currentUser) {\n      return null;\n    }\n\n    return User.getOrCreate(this._delegate.currentUser);\n  }\n  get languageCode(): string | null {\n    return this._delegate.languageCode;\n  }\n  set languageCode(languageCode: string | null) {\n    this._delegate.languageCode = languageCode;\n  }\n  get settings(): compat.AuthSettings {\n    return this._delegate.settings;\n  }\n  get tenantId(): string | null {\n    return this._delegate.tenantId;\n  }\n  set tenantId(tid: string | null) {\n    this._delegate.tenantId = tid;\n  }\n  useDeviceLanguage(): void {\n    this._delegate.useDeviceLanguage();\n  }\n  signOut(): Promise<void> {\n    return this._delegate.signOut();\n  }\n  useEmulator(url: string, options?: { disableWarnings: boolean }): void {\n    exp.connectAuthEmulator(this._delegate, url, options);\n  }\n  applyActionCode(code: string): Promise<void> {\n    return exp.applyActionCode(this._delegate, code);\n  }\n\n  checkActionCode(code: string): Promise<compat.ActionCodeInfo> {\n    return exp.checkActionCode(this._delegate, code);\n  }\n\n  confirmPasswordReset(code: string, newPassword: string): Promise<void> {\n    return exp.confirmPasswordReset(this._delegate, code, newPassword);\n  }\n\n  async createUserWithEmailAndPassword(\n    email: string,\n    password: string\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.createUserWithEmailAndPassword(this._delegate, email, password)\n    );\n  }\n  fetchProvidersForEmail(email: string): Promise<string[]> {\n    return this.fetchSignInMethodsForEmail(email);\n  }\n  fetchSignInMethodsForEmail(email: string): Promise<string[]> {\n    return exp.fetchSignInMethodsForEmail(this._delegate, email);\n  }\n  isSignInWithEmailLink(emailLink: string): boolean {\n    return exp.isSignInWithEmailLink(this._delegate, emailLink);\n  }\n  async getRedirectResult(): Promise<compat.UserCredential> {\n    _assert(\n      _isPopupRedirectSupported(),\n      this._delegate,\n      exp.AuthErrorCode.OPERATION_NOT_SUPPORTED\n    );\n    const credential = await exp.getRedirectResult(\n      this._delegate,\n      CompatPopupRedirectResolver\n    );\n    if (!credential) {\n      return {\n        credential: null,\n        user: null\n      };\n    }\n    return convertCredential(this._delegate, Promise.resolve(credential));\n  }\n\n  // This function should only be called by frameworks (e.g. FirebaseUI-web) to log their usage.\n  // It is not intended for direct use by developer apps. NO jsdoc here to intentionally leave it\n  // out of autogenerated documentation pages to reduce accidental misuse.\n  addFrameworkForLogging(framework: string): void {\n    exp.addFrameworkForLogging(this._delegate, framework);\n  }\n\n  onAuthStateChanged(\n    nextOrObserver: Observer<unknown> | ((a: compat.User | null) => unknown),\n    errorFn?: (error: compat.Error) => unknown,\n    completed?: Unsubscribe\n  ): Unsubscribe {\n    const { next, error, complete } = wrapObservers(\n      nextOrObserver,\n      errorFn,\n      completed\n    );\n    return this._delegate.onAuthStateChanged(next!, error, complete);\n  }\n  onIdTokenChanged(\n    nextOrObserver: Observer<unknown> | ((a: compat.User | null) => unknown),\n    errorFn?: (error: compat.Error) => unknown,\n    completed?: Unsubscribe\n  ): Unsubscribe {\n    const { next, error, complete } = wrapObservers(\n      nextOrObserver,\n      errorFn,\n      completed\n    );\n    return this._delegate.onIdTokenChanged(next!, error, complete);\n  }\n  sendSignInLinkToEmail(\n    email: string,\n    actionCodeSettings: compat.ActionCodeSettings\n  ): Promise<void> {\n    return exp.sendSignInLinkToEmail(this._delegate, email, actionCodeSettings);\n  }\n  sendPasswordResetEmail(\n    email: string,\n    actionCodeSettings?: compat.ActionCodeSettings | null\n  ): Promise<void> {\n    return exp.sendPasswordResetEmail(\n      this._delegate,\n      email,\n      actionCodeSettings || undefined\n    );\n  }\n  async setPersistence(persistence: string): Promise<void> {\n    _validatePersistenceArgument(this._delegate, persistence);\n    let converted;\n    switch (persistence) {\n      case Persistence.SESSION:\n        converted = exp.browserSessionPersistence;\n        break;\n      case Persistence.LOCAL:\n        // Not using isIndexedDBAvailable() since it only checks if indexedDB is defined.\n        const isIndexedDBFullySupported = await exp\n          ._getInstance<exp.PersistenceInternal>(exp.indexedDBLocalPersistence)\n          ._isAvailable();\n        converted = isIndexedDBFullySupported\n          ? exp.indexedDBLocalPersistence\n          : exp.browserLocalPersistence;\n        break;\n      case Persistence.NONE:\n        converted = exp.inMemoryPersistence;\n        break;\n      default:\n        return exp._fail(exp.AuthErrorCode.ARGUMENT_ERROR, {\n          appName: this._delegate.name\n        });\n    }\n\n    return this._delegate.setPersistence(converted);\n  }\n\n  signInAndRetrieveDataWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return this.signInWithCredential(credential);\n  }\n  signInAnonymously(): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.signInAnonymously(this._delegate)\n    );\n  }\n  signInWithCredential(\n    credential: compat.AuthCredential\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.signInWithCredential(this._delegate, credential as exp.AuthCredential)\n    );\n  }\n  signInWithCustomToken(token: string): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.signInWithCustomToken(this._delegate, token)\n    );\n  }\n  signInWithEmailAndPassword(\n    email: string,\n    password: string\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.signInWithEmailAndPassword(this._delegate, email, password)\n    );\n  }\n  signInWithEmailLink(\n    email: string,\n    emailLink?: string\n  ): Promise<compat.UserCredential> {\n    return convertCredential(\n      this._delegate,\n      exp.signInWithEmailLink(this._delegate, email, emailLink)\n    );\n  }\n  signInWithPhoneNumber(\n    phoneNumber: string,\n    applicationVerifier: compat.ApplicationVerifier\n  ): Promise<compat.ConfirmationResult> {\n    return convertConfirmationResult(\n      this._delegate,\n      exp.signInWithPhoneNumber(\n        this._delegate,\n        phoneNumber,\n        applicationVerifier\n      )\n    );\n  }\n  async signInWithPopup(\n    provider: compat.AuthProvider\n  ): Promise<compat.UserCredential> {\n    _assert(\n      _isPopupRedirectSupported(),\n      this._delegate,\n      exp.AuthErrorCode.OPERATION_NOT_SUPPORTED\n    );\n    return convertCredential(\n      this._delegate,\n      exp.signInWithPopup(\n        this._delegate,\n        provider as exp.AuthProvider,\n        CompatPopupRedirectResolver\n      )\n    );\n  }\n  async signInWithRedirect(provider: compat.AuthProvider): Promise<void> {\n    _assert(\n      _isPopupRedirectSupported(),\n      this._delegate,\n      exp.AuthErrorCode.OPERATION_NOT_SUPPORTED\n    );\n\n    await _savePersistenceForRedirect(this._delegate);\n    return exp.signInWithRedirect(\n      this._delegate,\n      provider as exp.AuthProvider,\n      CompatPopupRedirectResolver\n    );\n  }\n  updateCurrentUser(user: compat.User | null): Promise<void> {\n    // remove ts-ignore once overloads are defined for exp functions to accept compat objects\n    // @ts-ignore\n    return this._delegate.updateCurrentUser(user);\n  }\n  verifyPasswordResetCode(code: string): Promise<string> {\n    return exp.verifyPasswordResetCode(this._delegate, code);\n  }\n  unwrap(): exp.Auth {\n    return this._delegate;\n  }\n  _delete(): Promise<void> {\n    return this._delegate._delete();\n  }\n  private linkUnderlyingAuth(): void {\n    (this._delegate as unknown as ReverseWrapper<Auth>).wrapped = () => this;\n  }\n}\n\nfunction wrapObservers(\n  nextOrObserver: Observer<unknown> | ((a: compat.User | null) => unknown),\n  error?: (error: compat.Error) => unknown,\n  complete?: Unsubscribe\n): Partial<Observer<exp.User | null>> {\n  let next = nextOrObserver;\n  if (typeof nextOrObserver !== 'function') {\n    ({ next, error, complete } = nextOrObserver);\n  }\n\n  // We know 'next' is now a function\n  const oldNext = next as (a: compat.User | null) => unknown;\n\n  const newNext = (user: exp.User | null): unknown =>\n    oldNext(user && User.getOrCreate(user as exp.User));\n  return {\n    next: newNext,\n    error: error as ErrorFn,\n    complete\n  };\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as exp from '@firebase/auth/internal';\nimport * as compat from '@firebase/auth-types';\nimport firebase from '@firebase/app-compat';\nimport { Compat } from '@firebase/util';\nimport { unwrap } from './wrap';\n\nexport class PhoneAuthProvider\n  implements compat.PhoneAuthProvider, Compat<exp.PhoneAuthProvider>\n{\n  providerId = 'phone';\n  readonly _delegate: exp.PhoneAuthProvider;\n\n  static PHONE_SIGN_IN_METHOD = exp.PhoneAuthProvider.PHONE_SIGN_IN_METHOD;\n  static PROVIDER_ID = exp.PhoneAuthProvider.PROVIDER_ID;\n\n  static credential(\n    verificationId: string,\n    verificationCode: string\n  ): compat.AuthCredential {\n    return exp.PhoneAuthProvider.credential(verificationId, verificationCode);\n  }\n\n  constructor() {\n    // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n    // @ts-ignore\n    this._delegate = new exp.PhoneAuthProvider(unwrap(firebase.auth!()));\n  }\n\n  verifyPhoneNumber(\n    phoneInfoOptions:\n      | string\n      | compat.PhoneSingleFactorInfoOptions\n      | compat.PhoneMultiFactorEnrollInfoOptions\n      | compat.PhoneMultiFactorSignInInfoOptions,\n    applicationVerifier: compat.ApplicationVerifier\n  ): Promise<string> {\n    return this._delegate.verifyPhoneNumber(\n      // The implementation matches but the types are subtly incompatible\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      phoneInfoOptions as any,\n      applicationVerifier\n    );\n  }\n\n  unwrap(): exp.PhoneAuthProvider {\n    return this._delegate;\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport firebase, { FirebaseApp } from '@firebase/app-compat';\nimport * as exp from '@firebase/auth/internal';\nimport * as compat from '@firebase/auth-types';\nimport { Compat } from '@firebase/util';\n\nconst _assert: typeof exp._assert = exp._assert;\n\nexport class RecaptchaVerifier\n  implements compat.RecaptchaVerifier, Compat<exp.ApplicationVerifier>\n{\n  readonly _delegate: exp.RecaptchaVerifier;\n  type: string;\n  constructor(\n    container: HTMLElement | string,\n    parameters?: object | null,\n    app: FirebaseApp = firebase.app()\n  ) {\n    // API key is required for web client RPC calls.\n    _assert(app.options?.apiKey, exp.AuthErrorCode.INVALID_API_KEY, {\n      appName: app.name\n    });\n    this._delegate = new exp.RecaptchaVerifier(\n      container,\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      parameters as any,\n\n      // TODO: remove ts-ignore when moving types from auth-types to auth-compat\n      // @ts-ignore\n      app.auth!()\n    );\n    this.type = this._delegate.type;\n  }\n  clear(): void {\n    this._delegate.clear();\n  }\n  render(): Promise<number> {\n    return this._delegate.render();\n  }\n  verify(): Promise<string> {\n    return this._delegate.verify();\n  }\n}\n","/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable camelcase */\n\nimport firebase, { _FirebaseNamespace } from '@firebase/app-compat';\nimport * as impl from '@firebase/auth/internal';\nimport {\n  Component,\n  ComponentType,\n  InstantiationMode\n} from '@firebase/component';\nimport { FirebaseError } from '@firebase/util';\n\nimport * as types from '@firebase/auth-types';\nimport { name, version } from './package.json';\nimport { Auth } from './src/auth';\nimport { PhoneAuthProvider as CompatAuthProvider } from './src/phone_auth_provider';\nimport { RecaptchaVerifier as CompatRecaptchaVerifier } from './src/recaptcha_verifier';\n\nconst AUTH_TYPE = 'auth-compat';\n\ndeclare module '@firebase/component' {\n  interface NameServiceMapping {\n    'auth-compat': types.FirebaseAuth;\n  }\n}\n\ndeclare module '@firebase/app-compat' {\n  interface FirebaseNamespace {\n    auth: {\n      (app?: FirebaseApp): types.FirebaseAuth;\n      Auth: typeof types.FirebaseAuth;\n      EmailAuthProvider: typeof types.EmailAuthProvider;\n      EmailAuthProvider_Instance: typeof types.EmailAuthProvider_Instance;\n      FacebookAuthProvider: typeof types.FacebookAuthProvider;\n      FacebookAuthProvider_Instance: typeof types.FacebookAuthProvider_Instance;\n      GithubAuthProvider: typeof types.GithubAuthProvider;\n      GithubAuthProvider_Instance: typeof types.GithubAuthProvider_Instance;\n      GoogleAuthProvider: typeof types.GoogleAuthProvider;\n      GoogleAuthProvider_Instance: typeof types.GoogleAuthProvider_Instance;\n      OAuthProvider: typeof types.OAuthProvider;\n      SAMLAuthProvider: typeof types.SAMLAuthProvider;\n      PhoneAuthProvider: typeof types.PhoneAuthProvider;\n      PhoneAuthProvider_Instance: typeof types.PhoneAuthProvider_Instance;\n      PhoneMultiFactorGenerator: typeof types.PhoneMultiFactorGenerator;\n      RecaptchaVerifier: typeof types.RecaptchaVerifier;\n      RecaptchaVerifier_Instance: typeof types.RecaptchaVerifier_Instance;\n      TwitterAuthProvider: typeof types.TwitterAuthProvider;\n      TwitterAuthProvider_Instance: typeof types.TwitterAuthProvider_Instance;\n    };\n  }\n  interface FirebaseApp {\n    auth?(): types.FirebaseAuth;\n  }\n}\n\n// Create auth components to register with firebase.\n// Provides Auth public APIs.\nfunction registerAuthCompat(instance: _FirebaseNamespace): void {\n  instance.INTERNAL.registerComponent(\n    new Component(\n      AUTH_TYPE,\n      container => {\n        // getImmediate for FirebaseApp will always succeed\n        const app = container.getProvider('app-compat').getImmediate();\n        const authProvider = container.getProvider('auth');\n        return new Auth(app, authProvider);\n      },\n      ComponentType.PUBLIC\n    )\n      .setServiceProps({\n        ActionCodeInfo: {\n          Operation: {\n            EMAIL_SIGNIN: impl.ActionCodeOperation.EMAIL_SIGNIN,\n            PASSWORD_RESET: impl.ActionCodeOperation.PASSWORD_RESET,\n            RECOVER_EMAIL: impl.ActionCodeOperation.RECOVER_EMAIL,\n            REVERT_SECOND_FACTOR_ADDITION:\n              impl.ActionCodeOperation.REVERT_SECOND_FACTOR_ADDITION,\n            VERIFY_AND_CHANGE_EMAIL:\n              impl.ActionCodeOperation.VERIFY_AND_CHANGE_EMAIL,\n            VERIFY_EMAIL: impl.ActionCodeOperation.VERIFY_EMAIL\n          }\n        },\n        EmailAuthProvider: impl.EmailAuthProvider,\n        FacebookAuthProvider: impl.FacebookAuthProvider,\n        GithubAuthProvider: impl.GithubAuthProvider,\n        GoogleAuthProvider: impl.GoogleAuthProvider,\n        OAuthProvider: impl.OAuthProvider,\n        SAMLAuthProvider: impl.SAMLAuthProvider,\n        PhoneAuthProvider: CompatAuthProvider,\n        PhoneMultiFactorGenerator: impl.PhoneMultiFactorGenerator,\n        RecaptchaVerifier: CompatRecaptchaVerifier,\n        TwitterAuthProvider: impl.TwitterAuthProvider,\n        Auth,\n        AuthCredential: impl.AuthCredential,\n        Error: FirebaseError\n      })\n      .setInstantiationMode(InstantiationMode.LAZY)\n      .setMultipleInstances(false)\n  );\n\n  instance.registerVersion(name, version);\n}\n\nregisterAuthCompat(firebase as _FirebaseNamespace);\n"]},"metadata":{},"sourceType":"module"}