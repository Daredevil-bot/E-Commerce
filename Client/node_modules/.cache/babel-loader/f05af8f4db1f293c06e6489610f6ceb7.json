{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\src\\\\pages\\\\admin\\\\product\\\\FileUpload.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Resizer from \"react-image-file-resizer\";\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { Avatar } from 'antd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst FileUpload = _ref => {\n  _s();\n\n  let {\n    values,\n    setValues\n  } = _ref;\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n\n  const fileUploadAndResize = e => {\n    let files = e.target.files;\n    let allUploadedFiles = values.images;\n\n    if (files) {\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(files[i], 720, 720, 'JPEG', 100, 0, uri => {\n          axios.post(`http://localhost:8000/api/uploadimages`, {\n            image: uri\n          }, {\n            headers: {\n              authtoken: user ? user.token : \"\"\n            }\n          }).then(res => {\n            console.log('IMAGE UPLOAD RESPONSE DATA', res.data);\n            allUploadedFiles.push(res.data);\n            setValues({ ...values,\n              images: allUploadedFiles\n            });\n          }).catch(err => {\n            console.log(err);\n          });\n        }, \"base64\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: values.images && values.images.map(image => /*#__PURE__*/_jsxDEV(Avatar, {\n        src: image.url,\n        size: 60\n      }, image.public_id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: /*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\" Choose Files\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"file\",\n          multiple: true,\n          accept: \"images/*\",\n          hidden: true,\n          onChange: fileUploadAndResize\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true);\n};\n\n_s(FileUpload, \"Jxgif+QfY7+MStbF+F1uZ9ypUGY=\", false, function () {\n  return [useSelector];\n});\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/src/pages/admin/product/FileUpload.js"],"names":["React","Resizer","axios","useSelector","Avatar","FileUpload","values","setValues","user","state","fileUploadAndResize","e","files","target","allUploadedFiles","images","i","length","imageFileResizer","uri","post","image","headers","authtoken","token","then","res","console","log","data","push","catch","err","map","url","public_id"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAAQC,MAAR,QAAqB,MAArB;;;;AAEA,MAAMC,UAAU,GAAG,QAAwB;AAAA;;AAAA,MAAvB;AAACC,IAAAA,MAAD;AAAQC,IAAAA;AAAR,GAAuB;AACvC,QAAK;AAACC,IAAAA;AAAD,MAAOL,WAAW,CAAEM,KAAD,KAAU,EAAC,GAAGA;AAAJ,GAAV,CAAD,CAAvB;;AAEA,QAAMC,mBAAmB,GAAEC,CAAD,IAAK;AAC3B,QAAIC,KAAK,GAACD,CAAC,CAACE,MAAF,CAASD,KAAnB;AACA,QAAIE,gBAAgB,GAACR,MAAM,CAACS,MAA5B;;AAER,QAAGH,KAAH,EAAS;AACD,WAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,KAAK,CAACK,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC3Bf,QAAAA,OAAO,CAACiB,gBAAR,CACIN,KAAK,CAACI,CAAD,CADT,EAEI,GAFJ,EAGI,GAHJ,EAII,MAJJ,EAKI,GALJ,EAMI,CANJ,EAOMG,GAAD,IAAO;AAEJjB,UAAAA,KAAK,CAACkB,IAAN,CAAY,wCAAZ,EAAoD;AAACC,YAAAA,KAAK,EAACF;AAAP,WAApD,EAAgE;AAC5DG,YAAAA,OAAO,EAAC;AACJC,cAAAA,SAAS,EAACf,IAAI,GAACA,IAAI,CAACgB,KAAN,GAAY;AADtB;AADoD,WAAhE,EAKCC,IALD,CAKMC,GAAG,IAAE;AACPC,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAAyCF,GAAG,CAACG,IAA7C;AACAf,YAAAA,gBAAgB,CAACgB,IAAjB,CAAsBJ,GAAG,CAACG,IAA1B;AACAtB,YAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAWS,cAAAA,MAAM,EAACD;AAAlB,aAAD,CAAT;AACH,WATD,EAUCiB,KAVD,CAUQC,GAAD,IAAO;AACVL,YAAAA,OAAO,CAACC,GAAR,CAAYI,GAAZ;AACH,WAZD;AAaH,SAtBL,EAsBM,QAtBN;AAwBH;AACJ;AACA,GAhCD;;AAiCF,sBACI;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,gBACK1B,MAAM,CAACS,MAAP,IAAiBT,MAAM,CAACS,MAAP,CAAckB,GAAd,CAAmBZ,KAAD,iBAChC,QAAC,MAAD;AAA8B,QAAA,GAAG,EAAEA,KAAK,CAACa,GAAzC;AAA8C,QAAA,IAAI,EAAE;AAApD,SAAab,KAAK,CAACc,SAAnB;AAAA;AAAA;AAAA;AAAA,cADc;AADtB;AAAA;AAAA;AAAA;AAAA,YADF,eAOF;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA,6BACI;AAAA,iDACI;AAAO,UAAA,IAAI,EAAC,MAAZ;AACQ,UAAA,QAAQ,MADhB;AAEQ,UAAA,MAAM,EAAC,UAFf;AAGQ,UAAA,MAAM,MAHd;AAIQ,UAAA,QAAQ,EAAEzB;AAJlB;AAAA;AAAA;AAAA;AAAA,gBADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YAPE;AAAA,kBADJ;AAoBD,CAxDD;;GAAML,U;UACUF,W;;;KADVE,U;AA0DN,eAAeA,UAAf","sourcesContent":["import React from 'react'\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux';\r\nimport {Avatar} from 'antd';\r\n\r\nconst FileUpload = ({values,setValues}) => {\r\n    const{user}=useSelector((state)=>({...state})) \r\n\r\n    const fileUploadAndResize=(e)=>{\r\n        let files=e.target.files;\r\n        let allUploadedFiles=values.images;\r\n\r\nif(files){\r\n        for(let i=0;i<files.length;i++){\r\n            Resizer.imageFileResizer(\r\n                files[i],\r\n                720,\r\n                720,\r\n                'JPEG',\r\n                100,\r\n                0,\r\n                 (uri)=>{\r\n                   \r\n                    axios.post(`http://localhost:8000/api/uploadimages`,{image:uri},{\r\n                        headers:{\r\n                            authtoken:user?user.token:\"\",\r\n                        },\r\n                    })    \r\n                    .then(res=>{\r\n                        console.log('IMAGE UPLOAD RESPONSE DATA',res.data)\r\n                        allUploadedFiles.push(res.data)\r\n                        setValues({...values,images:allUploadedFiles});\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                    })                  \r\n                },\"base64\"\r\n            );\r\n        }\r\n    }\r\n    };\r\n  return (\r\n      <>\r\n        <div className='row'>\r\n            {values.images && values.images.map((image)=>(\r\n                <Avatar key={image.public_id} src={image.url} size={60}/>\r\n            ))}\r\n        </div>\r\n\r\n    <div className='row'>\r\n        <label> Choose Files\r\n            <input type='file'\r\n                    multiple\r\n                    accept='images/*'\r\n                    hidden\r\n                    onChange={fileUploadAndResize}\r\n            />\r\n        </label>\r\n    </div>\r\n    </>\r\n  )\r\n};\r\n\r\nexport default FileUpload"]},"metadata":{},"sourceType":"module"}