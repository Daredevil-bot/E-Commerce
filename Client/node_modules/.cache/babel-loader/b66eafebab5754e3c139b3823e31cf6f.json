{"ast":null,"code":"import _objectSpread from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import _slicedToArray from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from'react';import{useState,useEffect}from'react';import{useSelector}from'react-redux';import{getCategory,updateCategory}from'../../../functions/category';import{toast}from'react-toastify';import{useParams}from'react-router-dom';import AdminNav from'../../../components/nav/AdminNav';import{useNavigate}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UpdateCategory=function UpdateCategory(){var _useParams=useParams(),slug=_useParams.slug;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),name=_useState2[0],setname=_useState2[1];var navigate=useNavigate();var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user;useEffect(function(){loadCategory();},[]);var loadCategory=function loadCategory(){return getCategory(slug).then(function(res){return setname(res.data.name);}).catch(function(err){return console.log(err);});};var handleClick=function handleClick(e){e.preventDefault();console.log(\"clicked\");updateCategory(slug,{name:name},user.token).then(function(e){toast.success('Category update');navigate('/admin/category');}).catch(function(err){if(err.response.status===400)toast.error(err.response.data);console.log(err);});};// const handleDelete= async (slug)=>{\n//     if(window.confirm('Delete?')){\n//         deleteCategory(slug,user.token)\n//         .then((e)=>{\n//             toast.error(`${e.data.name} Deleted succesfully refresh page to see changes`)\n//         })\n//         .catch(err=>{\n//             if(err.response.status===400){\n//                 toast.error(err.response.data)\n//             }\n//         })\n//     }\n// }\nreturn/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(AdminNav,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-10\",style:{margin:'0px 0px 0px 00px'},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Update Category\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleClick,children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:name,autoFocus:true,required:true,onChange:function onChange(e){setname(e.target.value);},placeholder:\"Enter name of category\",style:{margin:'20px 0px 0px 0px',width:'1000px'}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",value:\"submit\",className:\"btn btn-primary\",style:{margin:'20px 0px 0px 0px'},children:\"Save\"})]})]})]})});};export default UpdateCategory;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/pages/admin/category/UpdateCategory.js"],"names":["React","useState","useEffect","useSelector","getCategory","updateCategory","toast","useParams","AdminNav","useNavigate","UpdateCategory","slug","name","setname","navigate","state","user","loadCategory","then","res","data","catch","err","console","log","handleClick","e","preventDefault","token","success","response","status","error","margin","target","value","width"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport { useState,useEffect } from 'react'\r\nimport { useSelector } from 'react-redux'\r\nimport { getCategory,updateCategory } from '../../../functions/category'\r\nimport { toast } from 'react-toastify'\r\nimport { useParams } from 'react-router-dom'\r\n\r\nimport AdminNav from '../../../components/nav/AdminNav'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\nconst UpdateCategory = () => {\r\n    const{slug}=useParams()\r\n    const[name,setname]=useState('')\r\n   const navigate=useNavigate()\r\n    const {user}=useSelector(state=>({...state}))\r\n    useEffect(()=>{\r\n        loadCategory()\r\n    },[])\r\n\r\n     const loadCategory=()=>getCategory(slug)\r\n     .then((res)=>setname(res.data.name))\r\n     .catch(err=>console.log(err))\r\n     \r\n    const handleClick=(e)=>{\r\n        e.preventDefault()\r\n        console.log(\"clicked\")\r\n        updateCategory(slug,{name},user.token)\r\n        .then((e)=>{\r\n            \r\n            toast.success('Category update')\r\n            navigate('/admin/category')\r\n        })\r\n        .catch(err=>{\r\n            if(err.response.status===400) toast.error(err.response.data)\r\n            console.log(err)\r\n        })\r\n            \r\n    \r\n\r\n    }\r\n    // const handleDelete= async (slug)=>{\r\n    //     if(window.confirm('Delete?')){\r\n    //         deleteCategory(slug,user.token)\r\n    //         .then((e)=>{\r\n    //             toast.error(`${e.data.name} Deleted succesfully refresh page to see changes`)\r\n    //         })\r\n    //         .catch(err=>{\r\n    //             if(err.response.status===400){\r\n    //                 toast.error(err.response.data)\r\n    //             }\r\n    //         })\r\n    //     }\r\n    // }\r\n   \r\n     \r\n    \r\n        return (\r\n        <div className='container-fluid' >\r\n            <div className='row'>\r\n            <div className='col'>\r\n                    <AdminNav/>\r\n                </div>\r\n                <div className='col-10'  style={\r\n                    {margin: '0px 0px 0px 00px'}\r\n                }>\r\n                   \r\n                <h2>Update Category</h2>\r\n                  <form onSubmit={handleClick}>\r\n                      <input type=\"text\" \r\n                      className='form-control'\r\n                      \r\n                      value={name}\r\n                      autoFocus\r\n                      required\r\n                      onChange={(e)=>{setname(e.target.value)}}\r\n                      placeholder='Enter name of category'\r\n                      style={{margin:'20px 0px 0px 0px',width:'1000px'}}>\r\n                        \r\n                        \r\n                      </input>\r\n                      <button type='submit' value=\"submit\"className='btn btn-primary' style={{margin:'20px 0px 0px 0px'}}>Save</button>\r\n                  </form>\r\n                \r\n                 \r\n                </div>\r\n                \r\n                \r\n                \r\n            </div>\r\n            \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default UpdateCategory\r\n\r\n"]},"metadata":{},"sourceType":"module"}