{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _objectSpread from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import React,{useState}from\"react\";import{Card,Tabs,Tooltip}from'antd';import{Link}from'react-router-dom';import{HeartOutlined,ShoppingCartOutlined}from'@ant-design/icons';import\"react-responsive-carousel/lib/styles/carousel.min.css\";import{Carousel}from'react-responsive-carousel';import laptop from\"../../images/laptop.png\";import ProductsListItems from'./ProductsListItems';import StarRating from'react-star-ratings';import RatingModal from\"../modal/RatingModal\";import{useSelector,useDispatch}from'react-redux';import _ from'lodash';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Meta=Card.Meta;var TabPane=Tabs.TabPane;var SingleProduct=function SingleProduct(_ref){var product=_ref.product,onStarClick=_ref.onStarClick,star=_ref.star;var dispatch=useDispatch();var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user,cart=_useSelector.cart;var _useState=useState('Click to add'),_useState2=_slicedToArray(_useState,2),tooltip=_useState2[0],setTooltip=_useState2[1];var title=product.title,images=product.images,description=product.description,_id=product._id;var handleCart=function handleCart(){var cart=[];if(typeof window!=='undefined'){if(localStorage.getItem('cart')){cart=JSON.parse(localStorage.getItem('cart'));}cart.push(_objectSpread(_objectSpread({},product),{},{count:1}));var unique=_.uniqWith(cart,_.isEqual);localStorage.setItem('cart',JSON.stringify(unique));dispatch({type:\"ADD_TO_CART\",payload:unique});dispatch({type:\"SET_VISIBLE\",payload:true});setTooltip('Added');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[images&&images.length?/*#__PURE__*/_jsx(Carousel,{showArrows:true,autoPlay:true,infiniteLoop:true,children:images&&images.map(function(i){return/*#__PURE__*/_jsx(\"img\",{src:i.url},i.public_id);})}):/*#__PURE__*/_jsx(Card,{cover:/*#__PURE__*/_jsx(\"img\",{src:images&&images.length?images[0].url:laptop,style:{objectFit:\"cover\"},className:\"p-1\"})}),/*#__PURE__*/_jsxs(Tabs,{type:\"card\",children:[/*#__PURE__*/_jsx(TabPane,{tab:\"Description\",children:description&&description},\"1\"),/*#__PURE__*/_jsx(TabPane,{tab:\"More\",style:{height:\"50px\"},children:\"Call us\"},\"2\")]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"bg-info p-3 \",children:title}),/*#__PURE__*/_jsx(Card,{actions:[/*#__PURE__*/_jsx(Tooltip,{title:tooltip,children:/*#__PURE__*/_jsxs(\"a\",{onClick:handleCart,children:[/*#__PURE__*/_jsx(ShoppingCartOutlined,{className:\"text-success\"}),/*#__PURE__*/_jsx(\"br\",{}),\"Add to Cart\"]})}),/*#__PURE__*/_jsxs(Link,{to:\"/\",children:[/*#__PURE__*/_jsx(HeartOutlined,{className:\"text-info\"}),/*#__PURE__*/_jsx(\"br\",{}),\" Add to Wishlist\"]}),/*#__PURE__*/_jsx(RatingModal,{children:/*#__PURE__*/_jsx(StarRating,{name:_id,numberOfStars:5,rating:star,changeRating:onStarClick,isSelectable:true,starRatedColor:\"red\"})})],children:/*#__PURE__*/_jsx(ProductsListItems,{product:product})})]})]})})});};export default SingleProduct;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/components/cards/SingleProduct.js"],"names":["React","useState","Card","Tabs","Tooltip","Link","HeartOutlined","ShoppingCartOutlined","Carousel","laptop","ProductsListItems","StarRating","RatingModal","useSelector","useDispatch","_","Meta","TabPane","SingleProduct","product","onStarClick","star","dispatch","state","user","cart","tooltip","setTooltip","title","images","description","_id","handleCart","window","localStorage","getItem","JSON","parse","push","count","unique","uniqWith","isEqual","setItem","stringify","type","payload","length","map","i","url","public_id","objectFit","height"],"mappings":"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","sourcesContent":["import React,{useState} from \"react\";\r\nimport {Card,Tabs,Tooltip} from 'antd'\r\nimport {Link} from 'react-router-dom'\r\nimport {HeartOutlined,ShoppingCartOutlined} from '@ant-design/icons'\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\";\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport laptop from \"../../images/laptop.png\"\r\nimport ProductsListItems from './ProductsListItems'\r\nimport StarRating from 'react-star-ratings'\r\nimport RatingModal from \"../modal/RatingModal\";\r\nimport { useSelector,useDispatch } from 'react-redux';\r\nimport _ from 'lodash'\r\n\r\nconst{Meta}=Card\r\nconst{TabPane}=Tabs\r\nconst SingleProduct=({product,onStarClick,star})=>{\r\n  const dispatch=useDispatch();\r\n  const{user,cart}=useSelector((state)=>({...state}));\r\n  const [tooltip,setTooltip]=useState('Click to add')\r\n    const{title,images,description,_id}=product\r\n\r\n    const handleCart=()=>{\r\n      let cart=[];\r\n      if(typeof window!=='undefined'){\r\n        if(localStorage.getItem('cart')){\r\n          cart=JSON.parse(localStorage.getItem('cart'))\r\n        }\r\n\r\n        cart.push({\r\n          ...product,\r\n          count:1,\r\n      });\r\n      let unique=_.uniqWith(cart,_.isEqual)\r\n\r\n      localStorage.setItem('cart',JSON.stringify(unique))\r\n      dispatch({\r\n        type:\"ADD_TO_CART\",\r\n        payload:unique,\r\n      })\r\n      dispatch({\r\n        type:\"SET_VISIBLE\",\r\n        payload:true,\r\n      })\r\n      setTooltip('Added')\r\n      }\r\n    }\r\n   \r\n    return(\r\n        <>\r\n        \r\n       \r\n        <div className=\"container\">\r\n  <div className=\"row\">\r\n    <div className=\"col\">\r\n    {images && images.length ?(<Carousel showArrows={true} autoPlay infiniteLoop>\r\n            {images && images.map((i)=><img src={i.url} key={i.public_id} />)}\r\n        </Carousel>):(<Card cover={<img src={images && images.length? images[0].url:laptop} style={{objectFit:\"cover\"}}\r\n      \r\n      className=\"p-1\"  />}></Card>)}\r\n      <Tabs type=\"card\">\r\n          <TabPane key=\"1\" tab=\"Description\" >\r\n              {description && description}\r\n          </TabPane>\r\n          <TabPane key=\"2\" tab=\"More\" style={{height:\"50px\"}}>\r\n            Call us\r\n          </TabPane>\r\n      </Tabs>\r\n    </div>\r\n\r\n    <div className=\"col\">\r\n        <h1 className=\"bg-info p-3 \">{title}</h1>\r\n       \r\n\r\n    <Card\r\n          actions={[\r\n           <Tooltip title={tooltip}>\r\n              <a onClick={handleCart}>\r\n            <ShoppingCartOutlined className=\"text-success\"/><br/>\r\n            Add to Cart\r\n            </a>\r\n           </Tooltip>,\r\n            <Link to='/'>\r\n                <HeartOutlined className=\"text-info\" /><br/> Add to Wishlist\r\n            </Link>,\r\n             <RatingModal>\r\n             <StarRating  \r\n                 name={_id}\r\n                 numberOfStars={5}\r\n                 rating={star}\r\n                 changeRating={onStarClick\r\n                 }\r\n                 isSelectable={true}\r\n                 starRatedColor=\"red\"\r\n                 \r\n             />\r\n             </RatingModal>\r\n        ]}>\r\n           \r\n           <ProductsListItems product={product}/>\r\n          </Card>\r\n    </div>\r\n    \r\n  </div>\r\n\r\n</div>\r\n        </>\r\n    )\r\n}\r\nexport default SingleProduct"]},"metadata":{},"sourceType":"module"}