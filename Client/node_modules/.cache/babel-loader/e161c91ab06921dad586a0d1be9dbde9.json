{"ast":null,"code":"import _asyncToGenerator from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,lazy,Suspense}from\"react\";import{auth}from\"./firebase\";import{useDispatch}from\"react-redux\";import{currentUser}from\"./functions/currentUser\";import{Routes,Route}from\"react-router-dom\";import{ToastContainer}from\"react-toastify\";// import CompleteRegister from \"./pages/auth/CompleteRegister\";\n// import Login from \"./pages/auth/Login\"\n// import Register from \"./pages/auth/Register\"\n// import Home from \"./pages/Home\"\n// import Header from \"./components/nav/Header\"\n// import SideDrawer from \"./components/drawer/SideDrawer\";\n// import ForgotPass from \"./pages/auth/ForgotPass\";\n// import UserRoutes  from \"./routes/UserRoutes\"\n// import AdminRoutes from \"./routes/AdminRoutes\"; \n// import AdminRoutesCategory from \"./pages/admin/category/AdminRoutesCategory\";\n// import Password from \"./pages/user/Password\";\n// import AdminUpdateRoute from \"./pages/admin/category/AdminUpdateRoute\";\n// import AdminSubCreate from \"./pages/admin/sub/AdminSubCreate\";\n// import AdminUpdateSub from \"./pages/admin/sub/AdminUpdateSub\";\n// import AdminCreateProduct from \"./pages/admin/product/AdminCreateProduct\";\n// import AllProducts from \"./pages/admin/product/AllProducts\";\n// import ProductUpdate from \"./pages/admin/product/ProductUpdate\";\n// import Product from \"./pages/Product\";\n// import CategoryHome from \"./pages/category/CategoryHome\";\n// import SubHome from \"./pages/sub/SubHome\";\n// import Shop from \"./pages/Shop\";\n// import Cart from \"./pages/Cart\";\n// import Checkout from \"./pages/Checkout\";\n// import Payment from \"./pages/Payment\";\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CompleteRegister=/*#__PURE__*/lazy(function(){return import(\"./pages/auth/CompleteRegister\");});var Login=/*#__PURE__*/lazy(function(){return import(\"./pages/auth/Login\");});var Register=/*#__PURE__*/lazy(function(){return import(\"./pages/auth/Register\");});var Home=/*#__PURE__*/lazy(function(){return import(\"./pages/Home\");});var Header=/*#__PURE__*/lazy(function(){return import(\"./components/nav/Header\");});var SideDrawer=/*#__PURE__*/lazy(function(){return import(\"./components/drawer/SideDrawer\");});var ForgotPass=/*#__PURE__*/lazy(function(){return import(\"./pages/auth/ForgotPass\");});var UserRoutes=/*#__PURE__*/lazy(function(){return import(\"./routes/UserRoutes\");});var AdminRoutes=/*#__PURE__*/lazy(function(){return import(\"./routes/AdminRoutes\");});var AdminRoutesCategory=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/category/AdminRoutesCategory\");});var Password=/*#__PURE__*/lazy(function(){return import(\"./pages/user/Password\");});var AdminUpdateRoute=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/category/AdminUpdateRoute\");});var AdminSubCreate=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/sub/AdminSubCreate\");});var AdminUpdateSub=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/sub/AdminUpdateSub\");});var AdminCreateProduct=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/product/AdminCreateProduct\");});var AllProducts=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/product/AllProducts\");});var ProductUpdate=/*#__PURE__*/lazy(function(){return import(\"./pages/admin/product/ProductUpdate\");});var Product=/*#__PURE__*/lazy(function(){return import(\"./pages/Product\");});var CategoryHome=/*#__PURE__*/lazy(function(){return import(\"./pages/category/CategoryHome\");});var SubHome=/*#__PURE__*/lazy(function(){return import(\"./pages/sub/SubHome\");});var Shop=/*#__PURE__*/lazy(function(){return import(\"./pages/Shop\");});var Cart=/*#__PURE__*/lazy(function(){return import(\"./pages/Cart\");});var Checkout=/*#__PURE__*/lazy(function(){return import(\"./pages/Checkout\");});var Payment=/*#__PURE__*/lazy(function(){return import(\"./pages/Payment\");});var App=function App(){var dispatch=useDispatch();//for dispatchig data to redux store or future use\nuseEffect(function(){var unsubscribe=auth.onAuthStateChanged(/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(user){var idToken;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(!user){_context.next=5;break;}_context.next=3;return user.getIdTokenResult();case 3:idToken=_context.sent;//token will be stored in redux for future use and also validation from firebae\ncurrentUser(idToken.token).then(function(res){return dispatch({type:\"LOGGED_IN_USER\",payload:{name:res.data.name,email:res.data.email,//token sh\ntoken:idToken.token,role:res.data.role,_id:res.data._id}});}).catch(function(err){return console.log(err);});case 5:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}());},[]);return/*#__PURE__*/_jsxs(Suspense,{fallback:/*#__PURE__*/_jsx(\"div\",{className:\"col text-center p-5\"}),children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(SideDrawer,{}),/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register/complete\",element:/*#__PURE__*/_jsx(CompleteRegister,{})}),/*#__PURE__*/_jsx(Route,{path:\"/forgot/password\",element:/*#__PURE__*/_jsx(ForgotPass,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/password\",element:/*#__PURE__*/_jsx(Password,{})}),/*#__PURE__*/_jsx(Route,{path:\"/user/history\",element:/*#__PURE__*/_jsx(UserRoutes,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(AdminRoutes,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/category\",element:/*#__PURE__*/_jsx(AdminRoutesCategory,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/category/:slug\",element:/*#__PURE__*/_jsx(AdminUpdateRoute,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/sub\",element:/*#__PURE__*/_jsx(AdminSubCreate,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/sub/:slug\",element:/*#__PURE__*/_jsx(AdminUpdateSub,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/product\",element:/*#__PURE__*/_jsx(AdminCreateProduct,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/products\",element:/*#__PURE__*/_jsx(AllProducts,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/product/:slug\",element:/*#__PURE__*/_jsx(ProductUpdate,{})}),/*#__PURE__*/_jsx(Route,{path:\"/product/:slug\",element:/*#__PURE__*/_jsx(Product,{})}),/*#__PURE__*/_jsx(Route,{path:\"/category/:slug\",element:/*#__PURE__*/_jsx(CategoryHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/sub/:slug\",element:/*#__PURE__*/_jsx(SubHome,{})}),/*#__PURE__*/_jsx(Route,{path:\"/shop\",element:/*#__PURE__*/_jsx(Shop,{})}),/*#__PURE__*/_jsx(Route,{path:\"/cart\",element:/*#__PURE__*/_jsx(Cart,{})}),/*#__PURE__*/_jsx(Route,{path:\"/checkout\",element:/*#__PURE__*/_jsx(Checkout,{})}),/*#__PURE__*/_jsx(Route,{path:\"/payment\",element:/*#__PURE__*/_jsx(Payment,{})})]})]});};export default App;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/App.js"],"names":["React","useEffect","lazy","Suspense","auth","useDispatch","currentUser","Routes","Route","ToastContainer","CompleteRegister","Login","Register","Home","Header","SideDrawer","ForgotPass","UserRoutes","AdminRoutes","AdminRoutesCategory","Password","AdminUpdateRoute","AdminSubCreate","AdminUpdateSub","AdminCreateProduct","AllProducts","ProductUpdate","Product","CategoryHome","SubHome","Shop","Cart","Checkout","Payment","App","dispatch","unsubscribe","onAuthStateChanged","user","getIdTokenResult","idToken","token","then","res","type","payload","name","data","email","role","_id","catch","err","console","log"],"mappings":"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","sourcesContent":["\nimport React , {useEffect,lazy,Suspense} from \"react\";\nimport {auth} from \"./firebase\"\nimport { useDispatch } from \"react-redux\";\nimport { currentUser } from \"./functions/currentUser\";\nimport {Routes,Route} from \"react-router-dom\"\nimport { ToastContainer } from \"react-toastify\";\n// import CompleteRegister from \"./pages/auth/CompleteRegister\";\n// import Login from \"./pages/auth/Login\"\n// import Register from \"./pages/auth/Register\"\n// import Home from \"./pages/Home\"\n// import Header from \"./components/nav/Header\"\n// import SideDrawer from \"./components/drawer/SideDrawer\";\n// import ForgotPass from \"./pages/auth/ForgotPass\";\n// import UserRoutes  from \"./routes/UserRoutes\"\n// import AdminRoutes from \"./routes/AdminRoutes\"; \n// import AdminRoutesCategory from \"./pages/admin/category/AdminRoutesCategory\";\n// import Password from \"./pages/user/Password\";\n// import AdminUpdateRoute from \"./pages/admin/category/AdminUpdateRoute\";\n// import AdminSubCreate from \"./pages/admin/sub/AdminSubCreate\";\n// import AdminUpdateSub from \"./pages/admin/sub/AdminUpdateSub\";\n// import AdminCreateProduct from \"./pages/admin/product/AdminCreateProduct\";\n// import AllProducts from \"./pages/admin/product/AllProducts\";\n// import ProductUpdate from \"./pages/admin/product/ProductUpdate\";\n// import Product from \"./pages/Product\";\n// import CategoryHome from \"./pages/category/CategoryHome\";\n// import SubHome from \"./pages/sub/SubHome\";\n// import Shop from \"./pages/Shop\";\n// import Cart from \"./pages/Cart\";\n// import Checkout from \"./pages/Checkout\";\n// import Payment from \"./pages/Payment\";\n\nconst CompleteRegister =lazy(()=>import( \"./pages/auth/CompleteRegister\"));\nconst Login =lazy(()=>import(\"./pages/auth/Login\")) \n const Register= lazy(()=>import(\"./pages/auth/Register\")) \n const Home= lazy(()=>import(\"./pages/Home\")) \n const Header= lazy(()=>import(\"./components/nav/Header\"))\n const SideDrawer= lazy(()=>import( \"./components/drawer/SideDrawer\"))\n const ForgotPass= lazy(()=>import(\"./pages/auth/ForgotPass\")) \nconst  UserRoutes=  lazy(()=>import(\"./routes/UserRoutes\")) \n const AdminRoutes= lazy(()=>import(\"./routes/AdminRoutes\")) ; \n const AdminRoutesCategory= lazy(()=>import(\"./pages/admin/category/AdminRoutesCategory\")) ;\n const Password= lazy(()=>import(\"./pages/user/Password\")) ;\n const AdminUpdateRoute= lazy(()=>import(\"./pages/admin/category/AdminUpdateRoute\")) ;\n const AdminSubCreate= lazy(()=>import(\"./pages/admin/sub/AdminSubCreate\")) ;\n const AdminUpdateSub= lazy(()=>import(\"./pages/admin/sub/AdminUpdateSub\")) ;\n const AdminCreateProduct= lazy(()=>import(\"./pages/admin/product/AdminCreateProduct\")) ;\n const AllProducts= lazy(()=>import(\"./pages/admin/product/AllProducts\")) ;\n const ProductUpdate= lazy(()=>import( \"./pages/admin/product/ProductUpdate\"));\n const Product= lazy(()=>import(\"./pages/Product\")) ;\n const CategoryHome= lazy(()=>import( \"./pages/category/CategoryHome\"));\n const SubHome= lazy(()=>import(\"./pages/sub/SubHome\")) ;\n const Shop= lazy(()=>import(\"./pages/Shop\")) ;\n const Cart= lazy(()=>import(\"./pages/Cart\")) ;\n const Checkout =lazy(()=>import(\"./pages/Checkout\")) ;\n const Payment= lazy(()=>import(\"./pages/Payment\")) ;\n\n\n\n\nconst App=()=> {\n  \n  const dispatch =useDispatch(); //for dispatchig data to redux store or future use\n  useEffect(()=>{\n    const unsubscribe =auth.onAuthStateChanged(async (user)=>{\n      if(user){\n        const idToken=await user.getIdTokenResult();//token will be stored in redux for future use and also validation from firebae\n          currentUser(idToken.token)\n          .then(res=>\n        dispatch({\n          type : \"LOGGED_IN_USER\",\n          payload : {\n            name:res.data.name,\n            email : res.data.email,                         //token sh\n            token:idToken.token,\n            role:res.data.role,\n            _id:res.data._id\n          }\n\n        \n\n          \n        })\n          )\n          .catch(err=>console.log(err))\n      }\n    })\n    \n    \n  },[])\n\n  return(\n    <Suspense fallback={\n      <div className=\"col text-center p-5\">\n        \n      </div>\n    }>\n    <Header/>\n    <SideDrawer/>\n    <ToastContainer/>\n    <Routes>\n    \n      \n      <Route  path=\"/\" element={<Home/>}/>\n      <Route  path=\"/login\" element={<Login/>}/>\n      <Route  path=\"/register\" element={<Register/>}/>\n      <Route  path=\"/register/complete\" element={<CompleteRegister/>}/>\n      <Route  path=\"/forgot/password\" element={<ForgotPass/>}/>\n      <Route  path=\"/user/password\" element={<Password/>}/> \n      <Route path=\"/user/history\"  element={<UserRoutes/>}/>\n      <Route path=\"/admin/dashboard\"  element={<AdminRoutes/>}/>\n      <Route path=\"/admin/category\"  element={<AdminRoutesCategory/>}/>\n      <Route path=\"/admin/category/:slug\"  element={<AdminUpdateRoute/>}/>\n      <Route path=\"/admin/sub\"  element={<AdminSubCreate/>}/>\n      <Route path=\"/admin/sub/:slug\"  element={<AdminUpdateSub/>}/>\n      <Route path=\"/admin/product\"  element={<AdminCreateProduct/>}/>\n      <Route path=\"/admin/products\" element={<AllProducts/>}/>\n      <Route path=\"/admin/product/:slug\" element={<ProductUpdate/>}/>\n      <Route path=\"/product/:slug\" element={<Product/>}/>\n      <Route path=\"/category/:slug\" element={<CategoryHome/>}/>\n      <Route path=\"/sub/:slug\" element={<SubHome/>}/>\n      <Route path=\"/shop\" element={<Shop/>}/>\n      <Route path=\"/cart\" element={<Cart/>}/>\n      <Route path=\"/checkout\" element={<Checkout/>}/>\n      <Route path=\"/payment\" element={<Payment/>}/>\n      </Routes>\n      </Suspense>\n    \n  );\n}\n    \n  \n\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}