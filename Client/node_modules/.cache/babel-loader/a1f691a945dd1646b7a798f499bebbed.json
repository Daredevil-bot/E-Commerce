{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\src\\\\pages\\\\admin\\\\product\\\\FileUpload.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport Resizer from \"react-image-file-resizer\";\nimport axios from 'axios';\nimport { useSelector } from 'react-redux';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst FileUpload = (values, setValues) => {\n  _s();\n\n  const {\n    user\n  } = useSelector(state => ({ ...state\n  }));\n\n  const fileUploadAndResize = e => {\n    let files = e.target.files;\n    let allUploadedFiles = values.image;\n\n    if (files) {\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(files[i], 720, 720, 'JPEG', 100, 0, uri => {\n          axios.post(`http://localhost:8000/api/uploadimages`, {\n            image: uri\n          }, {\n            headers: {\n              authtoken: user ? user.token : \"\"\n            }\n          }).then(res => {\n            console.log('IMAGE UPLOAD RESPONSE DATA', res);\n            allUploadedFiles.push(res.data);\n            setValues({ ...values,\n              images: allUploadedFiles\n            });\n          }).catch(err => {\n            console.log(err);\n          });\n        }, \"base64\");\n      }\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: /*#__PURE__*/_jsxDEV(\"label\", {\n      children: [\"Choose File\", /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        accept: \"images/*\",\n        hidden: true,\n        onChange: fileUploadAndResize\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_s(FileUpload, \"Jxgif+QfY7+MStbF+F1uZ9ypUGY=\", false, function () {\n  return [useSelector];\n});\n\n_c = FileUpload;\nexport default FileUpload;\n\nvar _c;\n\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/src/pages/admin/product/FileUpload.js"],"names":["React","Resizer","axios","useSelector","FileUpload","values","setValues","user","state","fileUploadAndResize","e","files","target","allUploadedFiles","image","i","length","imageFileResizer","uri","post","headers","authtoken","token","then","res","console","log","push","data","images","catch","err"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,0BAApB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,WAAT,QAA4B,aAA5B;;;AAEA,MAAMC,UAAU,GAAG,CAACC,MAAD,EAAQC,SAAR,KAAsB;AAAA;;AACrC,QAAK;AAACC,IAAAA;AAAD,MAAOJ,WAAW,CAAEK,KAAD,KAAU,EAAC,GAAGA;AAAJ,GAAV,CAAD,CAAvB;;AAEA,QAAMC,mBAAmB,GAAEC,CAAD,IAAK;AAC3B,QAAIC,KAAK,GAACD,CAAC,CAACE,MAAF,CAASD,KAAnB;AACA,QAAIE,gBAAgB,GAACR,MAAM,CAACS,KAA5B;;AAER,QAAGH,KAAH,EAAS;AACD,WAAI,IAAII,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACJ,KAAK,CAACK,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC3Bd,QAAAA,OAAO,CAACgB,gBAAR,CACIN,KAAK,CAACI,CAAD,CADT,EAEI,GAFJ,EAGI,GAHJ,EAII,MAJJ,EAKI,GALJ,EAMI,CANJ,EAOKG,GAAD,IAAO;AACHhB,UAAAA,KAAK,CAACiB,IAAN,CAAY,wCAAZ,EAAoD;AAACL,YAAAA,KAAK,EAACI;AAAP,WAApD,EAAgE;AAC5DE,YAAAA,OAAO,EAAC;AACJC,cAAAA,SAAS,EAACd,IAAI,GAACA,IAAI,CAACe,KAAN,GAAY;AADtB;AADoD,WAAhE,EAKCC,IALD,CAKMC,GAAG,IAAE;AACPC,YAAAA,OAAO,CAACC,GAAR,CAAY,4BAAZ,EAAyCF,GAAzC;AACAX,YAAAA,gBAAgB,CAACc,IAAjB,CAAsBH,GAAG,CAACI,IAA1B;AACAtB,YAAAA,SAAS,CAAC,EAAC,GAAGD,MAAJ;AAAWwB,cAAAA,MAAM,EAAChB;AAAlB,aAAD,CAAT;AACH,WATD,EAUCiB,KAVD,CAUQC,GAAD,IAAO;AACVN,YAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACH,WAZD;AAaH,SArBL,EAqBM,QArBN;AAuBH;AACJ;AACA,GA/BD;;AAgCF,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,2BACI;AAAA,6CACI;AAAO,QAAA,IAAI,EAAC,MAAZ;AACQ,QAAA,QAAQ,MADhB;AAEQ,QAAA,MAAM,EAAC,UAFf;AAGQ,QAAA,MAAM,MAHd;AAIQ,QAAA,QAAQ,EAAEtB;AAJlB;AAAA;AAAA;AAAA;AAAA,cADJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADF;AAYD,CA/CD;;GAAML,U;UACUD,W;;;KADVC,U;AAiDN,eAAeA,UAAf","sourcesContent":["import React from 'react'\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport axios from 'axios'\r\nimport { useSelector } from 'react-redux';\r\n\r\nconst FileUpload = (values,setValues) => {\r\n    const{user}=useSelector((state)=>({...state})) \r\n\r\n    const fileUploadAndResize=(e)=>{\r\n        let files=e.target.files;\r\n        let allUploadedFiles=values.image;\r\n\r\nif(files){\r\n        for(let i=0;i<files.length;i++){\r\n            Resizer.imageFileResizer(\r\n                files[i],\r\n                720,\r\n                720,\r\n                'JPEG',\r\n                100,\r\n                0,\r\n                (uri)=>{\r\n                    axios.post(`http://localhost:8000/api/uploadimages`,{image:uri},{\r\n                        headers:{\r\n                            authtoken:user?user.token:\"\",\r\n                        },\r\n                    })    \r\n                    .then(res=>{\r\n                        console.log('IMAGE UPLOAD RESPONSE DATA',res)\r\n                        allUploadedFiles.push(res.data);\r\n                        setValues({...values,images:allUploadedFiles});\r\n                    })\r\n                    .catch((err)=>{\r\n                        console.log(err)\r\n                    })                  \r\n                },\"base64\"\r\n            );\r\n        }\r\n    }\r\n    };\r\n  return (\r\n    <div className='row'>\r\n        <label>Choose File\r\n            <input type='file'\r\n                    multiple\r\n                    accept='images/*'\r\n                    hidden\r\n                    onChange={fileUploadAndResize}\r\n            />\r\n        </label>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default FileUpload"]},"metadata":{},"sourceType":"module"}