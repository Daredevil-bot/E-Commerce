{"ast":null,"code":"import React from'react';import ModalImage from'react-modal-image';import laptop from'../../images/laptop.png';import{useSelector,useDispatch}from'react-redux';import{toast}from'react-toastify';import{CheckCircleOutlined,CloseCircleOutlined,CloseOutlined}from'@ant-design/icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ProductCardCheckOut=function ProductCardCheckOut(_ref){var p=_ref.p;var dispatch=useDispatch();var handleQuantityChange=function handleQuantityChange(e){var count=e.target.value<1?1:e.target.value;if(count>p.quantity){toast.error(\"Max available quantity: \".concat(p.quantity));return;}var cart=[];if(typeof window!=='undefined'){if(localStorage.getItem('cart')){cart=JSON.parse(localStorage.getItem('cart'));}cart.map(function(product,i){if(product._id==p._id){cart[i].count=count;}});localStorage.setItem('cart',JSON.stringify(cart));dispatch({type:'ADD_TO_CART',payload:cart});}};var handleRemove=function handleRemove(){var cart=[];if(typeof window!=='undefined'){if(localStorage.getItem('cart')){cart=JSON.parse(localStorage.getItem('cart'));}cart.map(function(product,i){if(product._id===p._id){cart.splice(i,1);}});localStorage.setItem('cart',JSON.stringify(cart));dispatch({type:'ADD_TO_CART',payload:cart});}};return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"div\",{style:{width:'120px',height:'auto'},children:p.images.length?/*#__PURE__*/_jsx(ModalImage,{small:p.images[0].url,large:p.images[0].url}):/*#__PURE__*/_jsx(ModalImage,{small:laptop,large:laptop})})}),/*#__PURE__*/_jsx(\"td\",{children:p.title}),/*#__PURE__*/_jsx(\"td\",{children:p.price}),/*#__PURE__*/_jsx(\"td\",{children:p.brand}),/*#__PURE__*/_jsx(\"td\",{children:p.color}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"number\",className:\"form-control\",value:p.count,onChange:handleQuantityChange})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:p.shipping===\"Yes\"?/*#__PURE__*/_jsx(CheckCircleOutlined,{className:\"text-success\"}):/*#__PURE__*/_jsx(CloseCircleOutlined,{className:\"text-danger\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(CloseOutlined,{onClick:handleRemove,className:\"text-danger pointer\"})})]})});};export default ProductCardCheckOut;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/components/cards/ProductCardCheckOut.js"],"names":["React","ModalImage","laptop","useSelector","useDispatch","toast","CheckCircleOutlined","CloseCircleOutlined","CloseOutlined","ProductCardCheckOut","p","dispatch","handleQuantityChange","e","count","target","value","quantity","error","cart","window","localStorage","getItem","JSON","parse","map","product","i","_id","setItem","stringify","type","payload","handleRemove","splice","width","height","images","length","url","title","price","brand","color","shipping"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport ModalImage from 'react-modal-image'\r\nimport laptop from '../../images/laptop.png'\r\nimport { useSelector,useDispatch } from 'react-redux'\r\nimport { toast } from 'react-toastify'\r\nimport {CheckCircleOutlined,CloseCircleOutlined,CloseOutlined} from '@ant-design/icons'\r\n\r\n\r\n\r\nconst ProductCardCheckOut = ({p}) => {\r\n    const dispatch=useDispatch()\r\n    const handleQuantityChange=(e)=>{\r\n        let count=e.target.value < 1?1:e.target.value\r\n        if(count>p.quantity){\r\n            toast.error(`Max available quantity: ${p.quantity}`)\r\n            return ;\r\n        }\r\n\r\n        let cart=[];\r\n        if(typeof window!=='undefined'){\r\n            if(localStorage.getItem('cart')){\r\n                cart=JSON.parse(localStorage.getItem('cart'))\r\n            }\r\n            cart.map((product,i)=>{\r\n               if(product._id==p._id){\r\n                   cart[i].count=count\r\n               }\r\n            })\r\n            localStorage.setItem('cart',JSON.stringify(cart))\r\n            dispatch({\r\n                type:'ADD_TO_CART',\r\n                payload: cart,\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleRemove=()=>{\r\n        let cart=[];\r\n        if(typeof window!=='undefined'){\r\n            if(localStorage.getItem('cart')){\r\n                cart=JSON.parse(localStorage.getItem('cart'))\r\n            }\r\n            cart.map((product,i)=>{\r\n               if(product._id===p._id){\r\n                   cart.splice(i,1)\r\n               }\r\n            })\r\n            localStorage.setItem('cart',JSON.stringify(cart))\r\n            dispatch({\r\n                type:'ADD_TO_CART',\r\n                payload: cart,\r\n            })\r\n        }\r\n    }\r\n\r\n  return (\r\n    <tbody>\r\n        <tr>\r\n            <td>\r\n                <div style={{width:'120px' ,height:'auto'}}>\r\n                    {p.images.length ? (<ModalImage small={p.images[0].url} large={p.images[0].url}/>):(\r\n                        <ModalImage small={laptop} large={laptop}/>\r\n                    )}\r\n                </div>\r\n            </td>\r\n            <td>{p.title}</td>\r\n            <td>{p.price}</td>\r\n            <td>{p.brand}</td>\r\n            <td>{p.color}</td>\r\n            <td className='text-center'>\r\n                  <input type='number' className='form-control' value={p.count} onChange={handleQuantityChange}></input>      \r\n            </td>\r\n            <td className='text-center'>\r\n                {p.shipping===\"Yes\"? <CheckCircleOutlined className='text-success'/>:<CloseCircleOutlined className='text-danger'/>}\r\n            </td>\r\n            <td className='text-center'>\r\n                <CloseOutlined onClick={handleRemove} className='text-danger pointer'/>\r\n            </td>\r\n        </tr>\r\n    </tbody>\r\n  )\r\n}\r\n\r\nexport default ProductCardCheckOut"]},"metadata":{},"sourceType":"module"}