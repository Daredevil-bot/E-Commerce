{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import React from'react';import{getProducts}from'../functions/product';import{useState,useEffect}from'react';import ProductCard from'./cards/ProductCard';import{getProductsCount}from'../functions/product';import{Pagination}from'antd';import LoadingCard from'./cards/LoadingCard';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var BestSellers=function BestSellers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),products=_useState2[0],setProducts=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),productsCount=_useState6[0],setProductscount=_useState6[1];var _useState7=useState(1),_useState8=_slicedToArray(_useState7,2),page=_useState8[0],setPage=_useState8[1];useEffect(function(){loadAllproducts();},[page]);useEffect(function(){getProductsCount().then(function(res){return setProductscount(res.data);});});var loadAllproducts=function loadAllproducts(){setLoading(true);getProducts('sold','desc',page).then(function(res){setProducts(res.data);console.log(products);}).catch(function(err){console.log(err);});setLoading(false);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:loading?/*#__PURE__*/_jsx(LoadingCard,{}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:products.map(function(product){return/*#__PURE__*/_jsx(\"div\",{className:\"col-4\",children:/*#__PURE__*/_jsx(ProductCard,{product:product})},product._id);})})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\" mt-4 md-4 text-center\",children:/*#__PURE__*/_jsx(Pagination,{current:page,total:Math.round(productsCount/3)*10,onChange:function onChange(value){return setPage(value);}})})})]});};export default BestSellers;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/Client/src/components/BestSellers.js"],"names":["React","getProducts","useState","useEffect","ProductCard","getProductsCount","Pagination","LoadingCard","BestSellers","products","setProducts","loading","setLoading","productsCount","setProductscount","page","setPage","loadAllproducts","then","res","data","console","log","catch","err","map","product","_id","Math","round","value"],"mappings":"wKAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,KAA4B,sBAA5B,CACA,OAASC,QAAT,CAAkBC,SAAlB,KAAmC,OAAnC,CACA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,CACA,OAASC,gBAAT,KAAiC,sBAAjC,CACA,OAAQC,UAAR,KAAwB,MAAxB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,qBAAxB,C,6IACA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB,cAA4BN,QAAQ,CAAC,EAAD,CAApC,wCAAMO,QAAN,eAAeC,WAAf,eACA,eAA2BR,QAAQ,CAAC,KAAD,CAAnC,yCAAMS,OAAN,eAAcC,UAAd,eACA,eAAsCV,QAAQ,CAAC,CAAD,CAA9C,yCAAMW,aAAN,eAAoBC,gBAApB,eACA,eAAoBZ,QAAQ,CAAC,CAAD,CAA5B,yCAAMa,IAAN,eAAWC,OAAX,eACAb,SAAS,CAAC,UAAI,CACVc,eAAe,GAClB,CAFQ,CAEP,CAACF,IAAD,CAFO,CAAT,CAGAZ,SAAS,CAAC,UAAI,CACVE,gBAAgB,GAAGa,IAAnB,CAAwB,SAACC,GAAD,QAAOL,CAAAA,gBAAgB,CAACK,GAAG,CAACC,IAAL,CAAvB,EAAxB,EACH,CAFQ,CAAT,CAGA,GAAMH,CAAAA,eAAe,CAAC,QAAhBA,CAAAA,eAAgB,EAAI,CACtBL,UAAU,CAAC,IAAD,CAAV,CACAX,WAAW,CAAC,MAAD,CAAQ,MAAR,CAAec,IAAf,CAAX,CACCG,IADD,CACM,SAAAC,GAAG,CAAE,CACPT,WAAW,CAACS,GAAG,CAACC,IAAL,CAAX,CACAC,OAAO,CAACC,GAAR,CAAYb,QAAZ,EAEH,CALD,EAMCc,KAND,CAMO,SAACC,GAAD,CAAO,CACVH,OAAO,CAACC,GAAR,CAAYE,GAAZ,EACH,CARD,EASAZ,UAAU,CAAC,KAAD,CAAV,CAEH,CAbD,CAcA,mBACI,wCAGJ,YAAK,SAAS,CAAC,WAAf,UACKD,OAAO,cAAE,KAAC,WAAD,IAAF,cAAiB,YAAK,SAAS,CAAC,KAAf,UACpBF,QAAQ,CAACgB,GAAT,CAAa,SAACC,OAAD,qBACV,YAAuB,SAAS,CAAC,OAAjC,uBACI,KAAC,WAAD,EAAa,OAAO,CAAEA,OAAtB,EADJ,EAAUA,OAAO,CAACC,GAAlB,CADU,EAAb,CADoB,EAD7B,EAHI,cAYJ,YAAK,SAAS,CAAC,KAAf,uBACI,YAAK,SAAS,CAAC,wBAAf,uBACL,KAAC,UAAD,EAAY,OAAO,CAAEZ,IAArB,CACA,KAAK,CAAEa,IAAI,CAACC,KAAL,CAAWhB,aAAa,CAAG,CAA3B,EAAgC,EADvC,CAEA,QAAQ,CAAE,kBAAAiB,KAAK,QAAEd,CAAAA,OAAO,CAACc,KAAD,CAAT,EAFf,EADK,EADJ,EAZI,GADJ,CAyBH,CAlDD,CAoDA,cAAetB,CAAAA,WAAf","sourcesContent":["import React from 'react'\r\nimport { getProducts } from '../functions/product';\r\nimport { useState,useEffect } from 'react';\r\nimport ProductCard from './cards/ProductCard';\r\nimport { getProductsCount } from '../functions/product';\r\nimport {Pagination} from'antd'\r\n\r\nimport LoadingCard from './cards/LoadingCard';\r\nconst BestSellers = () => {\r\n    const[products,setProducts]=useState([])\r\n    const[loading,setLoading] =useState(false)\r\n    const[productsCount,setProductscount]=useState(0)\r\n    const[page,setPage]=useState(1)\r\n    useEffect(()=>{\r\n        loadAllproducts()\r\n    },[page])\r\n    useEffect(()=>{\r\n        getProductsCount().then((res)=>setProductscount(res.data));\r\n    })\r\n    const loadAllproducts=()=>{\r\n        setLoading(true)\r\n        getProducts('sold','desc',page)\r\n        .then(res=>{\r\n            setProducts(res.data);\r\n            console.log(products)\r\n\r\n        })\r\n        .catch((err)=>{\r\n            console.log(err)\r\n        })\r\n        setLoading(false)\r\n        \r\n    }\r\n    return(\r\n        <>\r\n      \r\n     \r\n    <div className='container'>\r\n        {loading ?<LoadingCard/>:<div className='row'>\r\n            {products.map((product)=>(\r\n                <div key={product._id} className=\"col-4\">\r\n                    <ProductCard product={product}/>\r\n                </div>\r\n            ))}\r\n        </div>}\r\n    </div>\r\n    <div className='row'>\r\n        <div className=' mt-4 md-4 text-center'>\r\n   <Pagination current={page}\r\n   total={Math.round(productsCount / 3) * 10}\r\n   onChange={value=>setPage(value)} />\r\n   </div>\r\n   </div>\r\n    </>\r\n    );\r\n      \r\n       \r\n    \r\n}\r\n\r\nexport default BestSellers;\r\n"]},"metadata":{},"sourceType":"module"}