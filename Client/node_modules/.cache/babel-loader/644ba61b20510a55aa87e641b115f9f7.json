{"ast":null,"code":"import _slicedToArray from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\slicedToArray.js\";import _objectSpread from\"C:\\\\Users\\\\asus\\\\ecommerce project\\\\ecommerce\\\\ecommerce-app\\\\server\\\\Client\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\objectSpread2.js\";import React,{useState}from'react';import{Menu,Badge}from'antd';import{MailOutlined,AppstoreOutlined,SettingOutlined,UserOutlined,UserAddOutlined,LogoutOutlined,ShoppingOutlined,ShoppingCartOutlined}from'@ant-design/icons';import{Link}from\"react-router-dom\";import\"bootstrap/dist/css/bootstrap.min.css\";import firebase from'firebase/compat/app';import{useDispatch,useSelector}from'react-redux';import{useNavigate}from'react-router-dom';import Search from'../forms/Search';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SubMenu=Menu.SubMenu,Item=Menu.Item;var Header=function Header(){var _useSelector=useSelector(function(state){return _objectSpread({},state);}),user=_useSelector.user,cart=_useSelector.cart;var dispatch=useDispatch();var navigate=useNavigate();var _useState=useState('home'),_useState2=_slicedToArray(_useState,2),current=_useState2[0],setCurrent=_useState2[1];var logout=function logout(){firebase.auth().signOut();dispatch({type:\"LOGGED_OUT\",payload:null});navigate('/login');};var handleClick=function handleClick(e){setCurrent(e.key);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(Menu,{onClick:handleClick,selectedKeys:[current],mode:\"horizontal\",children:[/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(AppstoreOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:\"Home\"})},\"home\"),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(ShoppingOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/shop\",children:\"Shop\"})},\"shop\"),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(ShoppingCartOutlined,{}),children:/*#__PURE__*/_jsx(Link,{to:\"/cart\",children:/*#__PURE__*/_jsx(Badge,{count:cart.length,offset:[9,0],children:\"Cart\"})})},\"cart\"),user&&/*#__PURE__*/_jsx(SubMenu,{icon:/*#__PURE__*/_jsx(SettingOutlined,{}),title:user.email&&user.email.split('@')[0],style:{position:\"absolute\",right:\"10px\"},children:/*#__PURE__*/_jsxs(Menu.ItemGroup,{title:\"Item 1\",children:[user&&user.role===\"admin\"&&/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/admin/dashboard\",children:\"Dashboard\"})}),user&&user.role===\"subscriber\"&&/*#__PURE__*/_jsx(Item,{children:/*#__PURE__*/_jsx(Link,{to:\"/user/history\",children:\"Dashboard\"})}),/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(LogoutOutlined,{}),onClick:logout,children:\"Log Out\"})]})},\"SubMenu\"),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserAddOutlined,{}),style:{position:\"absolute\",right:\"15px\"},children:/*#__PURE__*/_jsx(Link,{to:\"/register\",children:\"Register\"})},\"register\"),!user&&/*#__PURE__*/_jsx(Item,{icon:/*#__PURE__*/_jsx(UserOutlined,{}),style:{position:\"absolute\",right:\"120px\"},children:/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\"Login\"})},\"Login\"),/*#__PURE__*/_jsxs(\"span\",{style:{position:\"absolute\",right:'220px'},children:[\" \",/*#__PURE__*/_jsx(Search,{})]})]})});};export default Header;","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/Client/src/components/nav/Header.js"],"names":["React","useState","Menu","Badge","MailOutlined","AppstoreOutlined","SettingOutlined","UserOutlined","UserAddOutlined","LogoutOutlined","ShoppingOutlined","ShoppingCartOutlined","Link","firebase","useDispatch","useSelector","useNavigate","Search","SubMenu","Item","Header","state","user","cart","dispatch","navigate","current","setCurrent","logout","auth","signOut","type","payload","handleClick","e","key","length","email","split","position","right","role"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport { Menu,Badge } from 'antd';\r\nimport { MailOutlined, AppstoreOutlined, SettingOutlined,UserOutlined,UserAddOutlined,LogoutOutlined,ShoppingOutlined ,ShoppingCartOutlined } from '@ant-design/icons';\r\nimport {Link} from \"react-router-dom\"\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport firebase from 'firebase/compat/app';\r\nimport { useDispatch,useSelector } from 'react-redux';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport Search from '../forms/Search';\r\n\r\n\r\n\r\n\r\nconst { SubMenu,Item } = Menu;\r\n\r\nconst Header = () => {\r\n  const {user,cart}=useSelector((state)=>({...state}))\r\n    let dispatch=useDispatch();\r\n    const navigate=useNavigate()\r\n    const[current,setCurrent]=useState('home')\r\n    const logout=()=>{\r\n        firebase.auth().signOut()\r\n        dispatch({\r\n          type: \"LOGGED_OUT\",\r\n          payload : null\r\n            \r\n          \r\n        })\r\nnavigate('/login')\r\n\r\n    }\r\n    const handleClick=(e)=>{\r\n        setCurrent(e.key)\r\n\r\n    }\r\n    \r\n    return (\r\n        <>\r\n        \r\n        <Menu onClick={handleClick} selectedKeys={[current]} mode=\"horizontal\">\r\n             <Item key=\"home\" icon={<AppstoreOutlined/>}>\r\n          <Link to=\"/\">Home</Link>\r\n        </Item>\r\n        <Item key=\"shop\" icon={<ShoppingOutlined/>}>\r\n          <Link to=\"/shop\">Shop</Link>\r\n        </Item>\r\n        <Item key=\"cart\" icon={<ShoppingCartOutlined/>}>\r\n          <Link to=\"/cart\">\r\n            <Badge count={cart.length} offset={[9,0]}> \r\n            Cart\r\n\r\n            </Badge>\r\n          </Link>\r\n        </Item>\r\n        {user &&(\r\n          <SubMenu key=\"SubMenu\" icon={<SettingOutlined />} title={user.email && user.email.split('@')[0]} style={{position:\"absolute\",right:\"10px\"}}>\r\n        \r\n          <Menu.ItemGroup title=\"Item 1\">\r\n            {user &&  user.role===\"admin\" &&(<Item>\r\n              <Link to='/admin/dashboard'>Dashboard</Link>\r\n            </Item>)}\r\n            {user &&  user.role===\"subscriber\" &&(<Item>\r\n              <Link to='/user/history'>Dashboard</Link>\r\n            </Item>)}\r\n            <Item  icon={<LogoutOutlined/>} onClick={logout}>Log Out</Item>\r\n          </Menu.ItemGroup>\r\n          \r\n        </SubMenu>\r\n        )}\r\n        {!user && (\r\n          <Item key=\"register\" icon={<UserAddOutlined />} style={{position : \"absolute\",right :\"15px\"}}>\r\n          <Link to=\"/register\">Register</Link>\r\n          </Item>\r\n        )}\r\n        {!user && (\r\n          <Item key=\"Login\" icon={<UserOutlined />} style={{position : \"absolute\",right :\"120px\"}}>\r\n          <Link to=\"/login\">Login</Link>\r\n          </Item>\r\n        )}\r\n       \r\n       <span style={{position:\"absolute\" ,right:'220px'}}> <Search/></span>\r\n       \r\n        \r\n        \r\n        \r\n      </Menu>\r\n      \r\n       \r\n      \r\n        \r\n        \r\n       \r\n    \r\n    \r\n    </>\r\n    );\r\n}\r\n\r\nexport default Header\r\n"]},"metadata":{},"sourceType":"module"}