{"ast":null,"code":"function _typeof(obj){if(typeof Symbol===\"function\"&&typeof Symbol.iterator===\"symbol\"){_typeof=function _typeof(obj){return typeof obj;};}else{_typeof=function _typeof(obj){return obj&&typeof Symbol===\"function\"&&obj.constructor===Symbol&&obj!==Symbol.prototype?\"symbol\":typeof obj;};}return _typeof(obj);}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}function _createClass(Constructor,protoProps,staticProps){if(protoProps)_defineProperties(Constructor.prototype,protoProps);if(staticProps)_defineProperties(Constructor,staticProps);return Constructor;}function _possibleConstructorReturn(self,call){if(call&&(_typeof(call)===\"object\"||typeof call===\"function\")){return call;}return _assertThisInitialized(self);}function _getPrototypeOf(o){_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(o){return o.__proto__||Object.getPrototypeOf(o);};return _getPrototypeOf(o);}function _assertThisInitialized(self){if(self===void 0){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function\");}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,writable:true,configurable:true}});if(superClass)_setPrototypeOf(subClass,superClass);}function _setPrototypeOf(o,p){_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(o,p){o.__proto__=p;return o;};return _setPrototypeOf(o,p);}function _defineProperty(obj,key,value){if(key in obj){Object.defineProperty(obj,key,{value:value,enumerable:true,configurable:true,writable:true});}else{obj[key]=value;}return obj;}import React,{Component}from\"react\";import StyleInjector,{lightboxStyles}from\"./styles\";import Header from\"./Header\";import Image from\"./Image\";var Lightbox=/*#__PURE__*/function(_Component){_inherits(Lightbox,_Component);function Lightbox(){var _getPrototypeOf2;var _this;_classCallCheck(this,Lightbox);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Lightbox)).call.apply(_getPrototypeOf2,[this].concat(args)));_defineProperty(_assertThisInitialized(_this),\"state\",{move:{x:0,y:0},moveStart:undefined,zoomed:false,rotationDeg:0});_defineProperty(_assertThisInitialized(_this),\"handleKeyDown\",function(event){// ESC or ENTER closes the modal\nif(event.keyCode===27||event.keyCode===13){_this.props.onClose();}});_defineProperty(_assertThisInitialized(_this),\"getCoordinatesIfOverImg\",function(event){var point=event.changedTouches?event.changedTouches[0]:event;if(point.target.id!==\"react-modal-image-img\"){// the img was not a target of the coordinates\nreturn;}var dim=_this.contentEl.getBoundingClientRect();var x=point.clientX-dim.left;var y=point.clientY-dim.top;return{x:x,y:y};});_defineProperty(_assertThisInitialized(_this),\"handleMouseDownOrTouchStart\",function(event){event.preventDefault();if(event.touches&&event.touches.length>1){// more than one finger, ignored\nreturn;}var coords=_this.getCoordinatesIfOverImg(event);if(!coords){// click outside the img => close modal\n_this.props.onClose();}if(!_this.state.zoomed){// do not allow drag'n'drop if zoom has not been applied\nreturn;}_this.setState(function(prev){return{moveStart:{x:coords.x-prev.move.x,y:coords.y-prev.move.y}};});});_defineProperty(_assertThisInitialized(_this),\"handleMouseMoveOrTouchMove\",function(event){event.preventDefault();if(!_this.state.zoomed||!_this.state.moveStart){// do not allow drag'n'drop if zoom has not been applied\n// or if there has not been a click\nreturn;}if(event.touches&&event.touches.length>1){// more than one finger, ignored\nreturn;}var coords=_this.getCoordinatesIfOverImg(event);if(!coords){return;}_this.setState(function(prev){return{move:{x:coords.x-prev.moveStart.x,y:coords.y-prev.moveStart.y}};});});_defineProperty(_assertThisInitialized(_this),\"handleMouseUpOrTouchEnd\",function(event){_this.setState({moveStart:undefined});});_defineProperty(_assertThisInitialized(_this),\"toggleZoom\",function(event){event.preventDefault();_this.setState(function(prev){return{zoomed:!prev.zoomed,// reset position if zoomed out\nmove:prev.zoomed?{x:0,y:0}:prev.move};});});_defineProperty(_assertThisInitialized(_this),\"toggleRotate\",function(event){event.preventDefault();var rotationDeg=_this.state.rotationDeg;if(rotationDeg===360){_this.setState({rotationDeg:90});return;}_this.setState(function(prevState){return{rotationDeg:prevState.rotationDeg+=90};});});return _this;}_createClass(Lightbox,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener(\"keydown\",this.handleKeyDown,false);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener(\"keydown\",this.handleKeyDown,false);}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,medium=_this$props.medium,large=_this$props.large,alt=_this$props.alt,onClose=_this$props.onClose,hideDownload=_this$props.hideDownload,hideZoom=_this$props.hideZoom,showRotate=_this$props.showRotate,_this$props$imageBack=_this$props.imageBackgroundColor,imageBackgroundColor=_this$props$imageBack===void 0?\"black\":_this$props$imageBack;var _this$state=this.state,move=_this$state.move,zoomed=_this$state.zoomed,rotationDeg=_this$state.rotationDeg;return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(StyleInjector,{name:\"__react_modal_image__lightbox\",css:lightboxStyles({imageBackgroundColor:imageBackgroundColor})}),/*#__PURE__*/React.createElement(\"div\",{className:\"__react_modal_image__modal_container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"__react_modal_image__modal_content\",onMouseDown:this.handleMouseDownOrTouchStart,onMouseUp:this.handleMouseUpOrTouchEnd,onMouseMove:this.handleMouseMoveOrTouchMove,onTouchStart:this.handleMouseDownOrTouchStart,onTouchEnd:this.handleMouseUpOrTouchEnd,onTouchMove:this.handleMouseMoveOrTouchMove,ref:function ref(el){_this2.contentEl=el;}},zoomed&&/*#__PURE__*/React.createElement(Image,{id:\"react-modal-image-img\",className:\"__react_modal_image__large_img\",src:large||medium,style:{transform:\"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x,\"px, \").concat(move.y,\"px, 0) rotate(\").concat(rotationDeg,\"deg)\"),WebkitTransform:\"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x,\"px, \").concat(move.y,\"px, 0) rotate(\").concat(rotationDeg,\"deg)\"),MsTransform:\"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x,\"px, \").concat(move.y,\"px, 0) rotate(\").concat(rotationDeg,\"deg)\")},handleDoubleClick:this.toggleZoom}),!zoomed&&/*#__PURE__*/React.createElement(Image,{id:\"react-modal-image-img\",className:\"__react_modal_image__medium_img\",src:medium||large,handleDoubleClick:this.toggleZoom,contextMenu:!medium,style:{transform:\"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg,\"deg)\"),WebkitTransform:\"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg,\"deg)\"),MsTransform:\"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg,\"deg)\")}})),/*#__PURE__*/React.createElement(Header,{image:large||medium,alt:alt,zoomed:zoomed,toggleZoom:this.toggleZoom,toggleRotate:this.toggleRotate,onClose:onClose,enableDownload:!hideDownload,enableZoom:!hideZoom,enableRotate:!!showRotate})));}}]);return Lightbox;}(Component);export{Lightbox as default};","map":{"version":3,"sources":["C:/Users/asus/ecommerce project/ecommerce/ecommerce-app/server/client/src/node_modules/react-modal-image/es/Lightbox.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_classCallCheck","instance","Constructor","TypeError","_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","Object","defineProperty","key","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","call","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","_defineProperty","React","Component","StyleInjector","lightboxStyles","Header","Image","Lightbox","_Component","_getPrototypeOf2","_this","_len","arguments","args","Array","_key","apply","concat","move","x","y","moveStart","undefined","zoomed","rotationDeg","event","keyCode","onClose","point","changedTouches","id","dim","contentEl","getBoundingClientRect","clientX","left","clientY","top","preventDefault","touches","coords","getCoordinatesIfOverImg","state","setState","prev","prevState","componentDidMount","document","addEventListener","handleKeyDown","componentWillUnmount","removeEventListener","render","_this2","_this$props","medium","large","alt","hideDownload","hideZoom","showRotate","_this$props$imageBack","imageBackgroundColor","_this$state","createElement","name","css","className","onMouseDown","handleMouseDownOrTouchStart","onMouseUp","handleMouseUpOrTouchEnd","onMouseMove","handleMouseMoveOrTouchMove","onTouchStart","onTouchEnd","onTouchMove","ref","el","src","style","transform","WebkitTransform","MsTransform","handleDoubleClick","toggleZoom","contextMenu","image","toggleRotate","enableDownload","enableZoom","enableRotate","default"],"mappings":"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","sourcesContent":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React, { Component } from \"react\";\nimport StyleInjector, { lightboxStyles } from \"./styles\";\nimport Header from \"./Header\";\nimport Image from \"./Image\";\n\nvar Lightbox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Lightbox, _Component);\n\n  function Lightbox() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Lightbox);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Lightbox)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      move: {\n        x: 0,\n        y: 0\n      },\n      moveStart: undefined,\n      zoomed: false,\n      rotationDeg: 0\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleKeyDown\", function (event) {\n      // ESC or ENTER closes the modal\n      if (event.keyCode === 27 || event.keyCode === 13) {\n        _this.props.onClose();\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCoordinatesIfOverImg\", function (event) {\n      var point = event.changedTouches ? event.changedTouches[0] : event;\n\n      if (point.target.id !== \"react-modal-image-img\") {\n        // the img was not a target of the coordinates\n        return;\n      }\n\n      var dim = _this.contentEl.getBoundingClientRect();\n\n      var x = point.clientX - dim.left;\n      var y = point.clientY - dim.top;\n      return {\n        x: x,\n        y: y\n      };\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseDownOrTouchStart\", function (event) {\n      event.preventDefault();\n\n      if (event.touches && event.touches.length > 1) {\n        // more than one finger, ignored\n        return;\n      }\n\n      var coords = _this.getCoordinatesIfOverImg(event);\n\n      if (!coords) {\n        // click outside the img => close modal\n        _this.props.onClose();\n      }\n\n      if (!_this.state.zoomed) {\n        // do not allow drag'n'drop if zoom has not been applied\n        return;\n      }\n\n      _this.setState(function (prev) {\n        return {\n          moveStart: {\n            x: coords.x - prev.move.x,\n            y: coords.y - prev.move.y\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseMoveOrTouchMove\", function (event) {\n      event.preventDefault();\n\n      if (!_this.state.zoomed || !_this.state.moveStart) {\n        // do not allow drag'n'drop if zoom has not been applied\n        // or if there has not been a click\n        return;\n      }\n\n      if (event.touches && event.touches.length > 1) {\n        // more than one finger, ignored\n        return;\n      }\n\n      var coords = _this.getCoordinatesIfOverImg(event);\n\n      if (!coords) {\n        return;\n      }\n\n      _this.setState(function (prev) {\n        return {\n          move: {\n            x: coords.x - prev.moveStart.x,\n            y: coords.y - prev.moveStart.y\n          }\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseUpOrTouchEnd\", function (event) {\n      _this.setState({\n        moveStart: undefined\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleZoom\", function (event) {\n      event.preventDefault();\n\n      _this.setState(function (prev) {\n        return {\n          zoomed: !prev.zoomed,\n          // reset position if zoomed out\n          move: prev.zoomed ? {\n            x: 0,\n            y: 0\n          } : prev.move\n        };\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"toggleRotate\", function (event) {\n      event.preventDefault();\n      var rotationDeg = _this.state.rotationDeg;\n\n      if (rotationDeg === 360) {\n        _this.setState({\n          rotationDeg: 90\n        });\n\n        return;\n      }\n\n      _this.setState(function (prevState) {\n        return {\n          rotationDeg: prevState.rotationDeg += 90\n        };\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Lightbox, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      document.addEventListener(\"keydown\", this.handleKeyDown, false);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      document.removeEventListener(\"keydown\", this.handleKeyDown, false);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          medium = _this$props.medium,\n          large = _this$props.large,\n          alt = _this$props.alt,\n          onClose = _this$props.onClose,\n          hideDownload = _this$props.hideDownload,\n          hideZoom = _this$props.hideZoom,\n          showRotate = _this$props.showRotate,\n          _this$props$imageBack = _this$props.imageBackgroundColor,\n          imageBackgroundColor = _this$props$imageBack === void 0 ? \"black\" : _this$props$imageBack;\n      var _this$state = this.state,\n          move = _this$state.move,\n          zoomed = _this$state.zoomed,\n          rotationDeg = _this$state.rotationDeg;\n      return React.createElement(\"div\", null, React.createElement(StyleInjector, {\n        name: \"__react_modal_image__lightbox\",\n        css: lightboxStyles({\n          imageBackgroundColor: imageBackgroundColor\n        })\n      }), React.createElement(\"div\", {\n        className: \"__react_modal_image__modal_container\"\n      }, React.createElement(\"div\", {\n        className: \"__react_modal_image__modal_content\",\n        onMouseDown: this.handleMouseDownOrTouchStart,\n        onMouseUp: this.handleMouseUpOrTouchEnd,\n        onMouseMove: this.handleMouseMoveOrTouchMove,\n        onTouchStart: this.handleMouseDownOrTouchStart,\n        onTouchEnd: this.handleMouseUpOrTouchEnd,\n        onTouchMove: this.handleMouseMoveOrTouchMove,\n        ref: function ref(el) {\n          _this2.contentEl = el;\n        }\n      }, zoomed && React.createElement(Image, {\n        id: \"react-modal-image-img\",\n        className: \"__react_modal_image__large_img\",\n        src: large || medium,\n        style: {\n          transform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\"),\n          WebkitTransform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\"),\n          MsTransform: \"translate3d(-50%, -50%, 0) translate3d(\".concat(move.x, \"px, \").concat(move.y, \"px, 0) rotate(\").concat(rotationDeg, \"deg)\")\n        },\n        handleDoubleClick: this.toggleZoom\n      }), !zoomed && React.createElement(Image, {\n        id: \"react-modal-image-img\",\n        className: \"__react_modal_image__medium_img\",\n        src: medium || large,\n        handleDoubleClick: this.toggleZoom,\n        contextMenu: !medium,\n        style: {\n          transform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\"),\n          WebkitTransform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\"),\n          MsTransform: \"translate3d(-50%, -50%, 0) rotate(\".concat(rotationDeg, \"deg)\")\n        }\n      })), React.createElement(Header, {\n        image: large || medium,\n        alt: alt,\n        zoomed: zoomed,\n        toggleZoom: this.toggleZoom,\n        toggleRotate: this.toggleRotate,\n        onClose: onClose,\n        enableDownload: !hideDownload,\n        enableZoom: !hideZoom,\n        enableRotate: !!showRotate\n      })));\n    }\n  }]);\n\n  return Lightbox;\n}(Component);\n\nexport { Lightbox as default };"]},"metadata":{},"sourceType":"module"}